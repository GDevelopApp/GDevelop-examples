{
  "firstLayout": "",
  "gdVersion": {
    "build": 99,
    "major": 4,
    "minor": 0,
    "revision": 0
  },
  "properties": {
    "adaptGameResolutionAtRuntime": false,
    "folderProject": false,
    "orientation": "landscape",
    "packageName": "com.example.gamename",
    "pixelsRounding": true,
    "projectUuid": "62e6b635-bb88-4494-8c91-a6e8dde094f4",
    "scaleMode": "nearest",
    "sizeOnStartupMode": "adaptWidth",
    "templateSlug": "",
    "useExternalSourceFiles": false,
    "version": "1.0.0",
    "name": "Twitch Game",
    "description": "Reach this twitch chat: https://www.twitch.tv/popout/gdevelop/chat\n\nUse the command:\n!spawn",
    "author": "",
    "windowWidth": 1920,
    "windowHeight": 1080,
    "latestCompilationDirectory": "",
    "maxFPS": 60,
    "minFPS": 20,
    "verticalSync": false,
    "platformSpecificAssets": {},
    "loadingScreen": {
      "backgroundColor": 0,
      "backgroundFadeInDuration": 0.2,
      "backgroundImageResourceName": "",
      "gdevelopLogoStyle": "light",
      "logoAndProgressFadeInDuration": 0.2,
      "logoAndProgressLogoFadeInDelay": 0.2,
      "minDuration": 1.5,
      "progressBarColor": 16777215,
      "progressBarHeight": 20,
      "progressBarMaxWidth": 200,
      "progressBarMinWidth": 40,
      "progressBarWidthPercent": 30,
      "showGDevelopSplash": true,
      "showProgressBar": true
    },
    "authorIds": [
      "R0F5QGNCzgOY5w2cxGeKJOq2UaD2",
      "2OwwM8ToR9dx9RJ2sAKTcrLmCB92"
    ],
    "categories": [
      "simulation"
    ],
    "playableDevices": [
      "keyboard",
      "mobile"
    ],
    "extensionProperties": [],
    "platforms": [
      {
        "name": "GDevelop JS platform"
      }
    ],
    "currentPlatform": "GDevelop JS platform"
  },
  "resources": {
    "resources": [
      {
        "alwaysLoaded": false,
        "file": "assets/Coin.png",
        "kind": "image",
        "metadata": "",
        "name": "Coin.png",
        "smoothed": true,
        "userAdded": false,
        "origin": {
          "identifier": "https://resources.gdevelop-app.com/assets/GDevelop examples/Platformer/Level/Coin.png",
          "name": "gdevelop-asset-store"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "NewSprite-1.png",
        "kind": "image",
        "metadata": "",
        "name": "NewSprite-1.png",
        "smoothed": true,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/GDevelop complete logo (white).png",
        "kind": "image",
        "metadata": "",
        "name": "GDevelop complete logo (white).png",
        "smoothed": true,
        "userAdded": false,
        "origin": {
          "identifier": "https://resources.gdevelop-app.com/assets/GDevelop/GDevelop complete logo (white).png",
          "name": "gdevelop-asset-store"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "NewSprite-1-0.png",
        "kind": "image",
        "metadata": "",
        "name": "NewSprite-1-0.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/FloorHole-1-0.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\FloorHole-1-0.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Floor Hole.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Floor Hole.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-1.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-1.png",
        "smoothed": false,
        "userAdded": false
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-2.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-2.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-3.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-3.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-4.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-4.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-5.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-5.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-6.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-6.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-7.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-7.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-8.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-8.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-9.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-9.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-10.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-10.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-11.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-11.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-12.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-12.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-13.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-13.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-14.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-14.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-15.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-15.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-16.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-16.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-17.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-17.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-18.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-18.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Run-19.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Run-19.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Jump-1.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Jump-1.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Fall-1.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Fall-1.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-1.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-1.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-2.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-2.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-3.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-3.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-4.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-4.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-5.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-5.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-6.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-6.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-7.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-7.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-8.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-8.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-9.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-9.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-10.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-10.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-11.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-11.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Climb-12.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Climb-12.png",
        "smoothed": false,
        "userAdded": true
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Idle-1.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Idle-1.png",
        "smoothed": false,
        "userAdded": false
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Idle-2.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Idle-2.png",
        "smoothed": false,
        "userAdded": false
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Idle-3.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Idle-3.png",
        "smoothed": false,
        "userAdded": false
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Idle-4.png",
        "kind": "image",
        "metadata": "",
        "name": "assets\\Idle-4.png",
        "smoothed": false,
        "userAdded": false
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Skull And Bones_No Shadow.png",
        "kind": "image",
        "metadata": "",
        "name": "Skull And Bones_No Shadow.png",
        "smoothed": false,
        "userAdded": false,
        "origin": {
          "identifier": "https://resources.gdevelop-app.com/assets/32x32 Fantasy Icons Pack v2/Icons/Status Effects/Skull And Bones_No Shadow.png",
          "name": "gdevelop-asset-store"
        }
      },
      {
        "alwaysLoaded": false,
        "file": "assets/Skull And Bones_Shadow.png",
        "kind": "image",
        "metadata": "",
        "name": "Skull And Bones_Shadow.png",
        "smoothed": false,
        "userAdded": false,
        "origin": {
          "identifier": "https://resources.gdevelop-app.com/assets/32x32 Fantasy Icons Pack v2/Icons/Status Effects/Skull And Bones_Shadow.png",
          "name": "gdevelop-asset-store"
        }
      }
    ],
    "resourceFolders": []
  },
  "objects": [],
  "objectsGroups": [],
  "variables": [],
  "layouts": [
    {
      "b": 13,
      "disableInputWhenNotFocused": true,
      "mangledName": "Spawner",
      "name": "Spawner",
      "oglFOV": 90,
      "oglZFar": 500,
      "oglZNear": 1,
      "r": 14,
      "standardSortMethod": true,
      "stopSoundsOnStartup": true,
      "title": "",
      "v": 13,
      "uiSettings": {
        "grid": false,
        "gridType": "rectangular",
        "gridWidth": 120,
        "gridHeight": 120,
        "gridOffsetX": 0,
        "gridOffsetY": 0,
        "gridColor": 10401023,
        "gridAlpha": 0.8,
        "snap": false,
        "zoomFactor": 0.5399999999999996,
        "windowMask": false
      },
      "objectsGroups": [],
      "variables": [],
      "instances": [
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "DEBUG",
          "locked": false,
          "name": "Message",
          "persistentUuid": "1b63831f-5957-4af4-b3b8-d2c0d924824c",
          "width": 0,
          "x": 1789,
          "y": 95,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "DEBUG",
          "locked": false,
          "name": "NameViewer",
          "persistentUuid": "c1b7f494-e487-4f6b-aba2-8704e649fd9b",
          "width": 0,
          "x": 565,
          "y": 683,
          "zOrder": 0,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "DEBUG",
          "locked": false,
          "name": "Debug",
          "persistentUuid": "b2d300d0-b4f6-4feb-b829-3de4b85c6a69",
          "width": 0,
          "x": 96,
          "y": 513,
          "zOrder": 4,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 110,
          "layer": "",
          "locked": false,
          "name": "Spawner",
          "persistentUuid": "5843da53-f81b-4e68-a38f-edf9e409acb5",
          "width": 120,
          "x": -149,
          "y": 839,
          "zOrder": 5,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 81.22708892822266,
          "layer": "",
          "locked": false,
          "name": "FloorHole",
          "persistentUuid": "8065fe83-5666-4e87-b54d-daf9c12a6379",
          "width": 81.22708892822266,
          "x": 864.0106201171875,
          "y": 896,
          "zOrder": -1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "UI",
          "locked": false,
          "name": "GdevelopCompleteLogoWhite",
          "persistentUuid": "a8cae793-4781-4304-8509-e8d6da109743",
          "width": 0,
          "x": 447,
          "y": 145,
          "zOrder": 7,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 81.22708892822266,
          "layer": "",
          "locked": false,
          "name": "FloorHole2",
          "persistentUuid": "709e9cf9-cd7d-4dbb-aba0-46e452b1acd1",
          "width": 81.22708892822266,
          "x": 864.0106201171875,
          "y": 896,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 213.4371337890625,
          "layer": "",
          "locked": false,
          "name": "mask",
          "persistentUuid": "e55d851c-6bb3-41a3-8843-29799a296eae",
          "width": 146.20875549316406,
          "x": 717.7999877929688,
          "y": 930.564697265625,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 186,
          "layer": "UI",
          "locked": false,
          "name": "Instruction",
          "persistentUuid": "51b2cfa0-e0a8-460a-9b0a-7483ee883cf4",
          "width": 195,
          "x": 45,
          "y": 36,
          "zOrder": 8,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 63,
          "layer": "",
          "locked": false,
          "name": "RedHero",
          "persistentUuid": "bdc2c112-5394-4c32-a4aa-590b70b87953",
          "width": 48,
          "x": 364,
          "y": 1087,
          "zOrder": 9,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 59,
          "layer": "UI",
          "locked": false,
          "name": "SkullAndBones",
          "persistentUuid": "c4c59ca2-291a-4e06-86be-4ca13c1519fc",
          "width": 59,
          "x": 37,
          "y": 303,
          "zOrder": 11,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": false,
          "height": 0,
          "layer": "",
          "locked": false,
          "name": "CounterDeath",
          "persistentUuid": "ef65318d-8d0c-47cf-8102-c89f0beee48c",
          "width": 0,
          "x": 108,
          "y": 312,
          "zOrder": 12,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 213.4371337890625,
          "layer": "",
          "locked": false,
          "name": "mask",
          "persistentUuid": "66f40805-0bce-4a89-9533-bbead858121d",
          "width": 146.20875549316406,
          "x": 832.4559326171875,
          "y": 965.4500122070312,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        },
        {
          "angle": 0,
          "customSize": true,
          "height": 213.4371337890625,
          "layer": "",
          "locked": false,
          "name": "mask",
          "persistentUuid": "b4af3226-1854-4cd1-88b7-3637faaef06a",
          "width": 146.20875549316406,
          "x": 943.791259765625,
          "y": 931.4288330078125,
          "zOrder": 1,
          "numberProperties": [],
          "stringProperties": [],
          "initialVariables": []
        }
      ],
      "objects": [
        {
          "assetStoreId": "ce75b4d3db5313cd40588a712e5cb20dffce5d9187df56eefd8fb050ceea2330",
          "name": "Coin",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "DestroyOutside",
              "type": "DestroyOutsideBehavior::DestroyOutside",
              "extraBorder": 0
            },
            {
              "name": "Physics2",
              "type": "Physics2::Physics2Behavior",
              "bodyType": "Dynamic",
              "bullet": false,
              "fixedRotation": false,
              "canSleep": true,
              "shape": "Box",
              "shapeDimensionA": 0,
              "shapeDimensionB": 0,
              "shapeOffsetX": 0,
              "shapeOffsetY": 0,
              "polygonOrigin": "Center",
              "vertices": [],
              "density": 1,
              "friction": 0.3,
              "restitution": 0.1,
              "linearDamping": 0.1,
              "angularDamping": 0.1,
              "gravityScale": 1,
              "layers": 1,
              "masks": 1
            }
          ],
          "animations": [
            {
              "name": "",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "Coin.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "Message",
          "smoothed": true,
          "tags": "",
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Text",
          "font": "",
          "characterSize": 40,
          "color": {
            "b": 255,
            "g": 255,
            "r": 255
          }
        },
        {
          "assetStoreId": "",
          "bold": false,
          "italic": false,
          "name": "NameViewer",
          "smoothed": true,
          "tags": "",
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [
            {
              "effectType": "DropShadow",
              "name": "DropShadow",
              "doubleParameters": {
                "alpha": 1,
                "blur": 3,
                "distance": 1,
                "padding": 0,
                "quality": 3,
                "rotation": 0
              },
              "stringParameters": {
                "color": "0;0;0"
              },
              "booleanParameters": {
                "shadowOnly": false
              }
            },
            {
              "effectType": "Outline",
              "name": "Outline",
              "doubleParameters": {
                "padding": 0,
                "thickness": 2
              },
              "stringParameters": {
                "color": "1"
              },
              "booleanParameters": {}
            }
          ],
          "behaviors": [],
          "string": "NameViewer",
          "font": "",
          "characterSize": 20,
          "color": {
            "b": 255,
            "g": 255,
            "r": 255
          }
        },
        {
          "assetStoreId": "",
          "bold": true,
          "italic": false,
          "name": "Debug",
          "smoothed": true,
          "tags": "",
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Debug",
          "font": "",
          "characterSize": 40,
          "color": {
            "b": 255,
            "g": 255,
            "r": 255
          }
        },
        {
          "assetStoreId": "",
          "name": "Spawner",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "NewSprite",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "timeBetweenFrames": 0.07999999821186066,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "NewSprite-1.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "6a1b5215840aecf096ab31937b2e6245b96cebf47462da75bf5170c666fbf87b",
          "name": "FloorHole",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "FloorHole",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Floor Hole.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 4.300000190734863,
                            "y": 10.25
                          },
                          {
                            "x": 11.5,
                            "y": 10.449999809265137
                          },
                          {
                            "x": 11,
                            "y": 7.449999809265137
                          },
                          {
                            "x": 4.300000190734863,
                            "y": 7.75
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "6a1b5215840aecf096ab31937b2e6245b96cebf47462da75bf5170c666fbf87b",
          "name": "FloorHole2",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [
            {
              "name": "YSort",
              "type": "YSort::YSort"
            }
          ],
          "animations": [
            {
              "name": "FloorHole",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "assets\\FloorHole-1-0.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "3c439a5142f6ea19bc70afbbcb66c824c55af7fac5f64b1b79ab603b68d70195",
          "name": "GdevelopCompleteLogoWhite",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "GDevelop complete logo (white).png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "name": "mask",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "NewSprite",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": false,
                  "timeBetweenFrames": 0.07999999821186066,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "NewSprite-1-0.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "bold": true,
          "italic": false,
          "name": "Instruction",
          "smoothed": true,
          "tags": "",
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "Open the GDevelop Twitch channel and type:\n!spawn",
          "font": "",
          "characterSize": 30,
          "color": {
            "b": 255,
            "g": 255,
            "r": 255
          }
        },
        {
          "assetStoreId": "0d91b7b0a2a8562a0172b4d5e9bf3d80340f866a030aa7a5f3baf6157840f1c3",
          "name": "RedHero",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [
            {
              "folded": true,
              "name": "OldPositionX",
              "type": "number",
              "value": 0
            },
            {
              "folded": true,
              "name": "UserName",
              "type": "string",
              "value": ""
            }
          ],
          "effects": [],
          "behaviors": [
            {
              "name": "Draggable",
              "type": "DraggableBehavior::Draggable",
              "checkCollisionMask": false
            },
            {
              "name": "Pathfinding",
              "type": "PathfindingBehavior::PathfindingBehavior",
              "acceleration": 400,
              "allowDiagonals": true,
              "angleOffset": 0,
              "angularMaxSpeed": 180,
              "cellHeight": 20,
              "cellWidth": 20,
              "extraBorder": 0,
              "gridOffsetX": 0,
              "gridOffsetY": 0,
              "maxSpeed": 200,
              "rotateObject": false
            },
            {
              "name": "SpriteRecolorizer",
              "type": "Recolorizer::SpriteRecolorizer"
            },
            {
              "name": "TopDownMovement",
              "type": "TopDownMovementBehavior::TopDownMovementBehavior",
              "acceleration": 400,
              "allowDiagonals": false,
              "angleOffset": 0,
              "angularMaxSpeed": 180,
              "customIsometryAngle": 30,
              "deceleration": 800,
              "ignoreDefaultControls": false,
              "maxSpeed": 200,
              "movementAngleOffset": 0,
              "rotateObject": false,
              "viewpoint": "TopDown"
            },
            {
              "name": "YSort",
              "type": "YSort::YSort"
            }
          ],
          "animations": [
            {
              "name": "Idle",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.25,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Idle-1.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Idle-2.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Idle-3.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Idle-4.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "Run",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.03999999910593033,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-1.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-2.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-3.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-4.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-5.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-6.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-7.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-8.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-9.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-10.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-11.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-12.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-13.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-14.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-15.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-16.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-17.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-18.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Run-19.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "Jump",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Jump-1.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "Fall",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Fall-1.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "name": "Climb",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.03999999910593033,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-1.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-2.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-3.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-4.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-5.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-6.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-7.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-8.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-9.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-10.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-11.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    },
                    {
                      "hasCustomCollisionMask": true,
                      "image": "assets\\Climb-12.png",
                      "points": [
                        {
                          "name": "NameAttach",
                          "x": 15.793042182922363,
                          "y": -15.008255004882812
                        }
                      ],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": [
                        [
                          {
                            "x": 7.90625,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 23.057193756103516,
                            "y": 32.935142517089844
                          },
                          {
                            "x": 19.52889060974121,
                            "y": 39.161556243896484
                          },
                          {
                            "x": 10.811910629272461,
                            "y": 39.161556243896484
                          }
                        ]
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "f6ff2e1d2f987bfd17444f35f5b5ff29cdbf94bc2354eda3cf62ccfc0f94ad9d",
          "name": "SkullAndBones",
          "tags": "",
          "type": "Sprite",
          "updateIfNotVisible": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "animations": [
            {
              "name": "No Shadow",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "Skull And Bones_No Shadow.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            },
            {
              "name": "Shadow",
              "useMultipleDirections": false,
              "directions": [
                {
                  "looping": true,
                  "timeBetweenFrames": 0.02500000037252903,
                  "sprites": [
                    {
                      "hasCustomCollisionMask": false,
                      "image": "Skull And Bones_Shadow.png",
                      "points": [],
                      "originPoint": {
                        "name": "origine",
                        "x": 0,
                        "y": 0
                      },
                      "centerPoint": {
                        "automatic": true,
                        "name": "centre",
                        "x": 0,
                        "y": 0
                      },
                      "customCollisionMask": []
                    }
                  ]
                }
              ]
            }
          ]
        },
        {
          "assetStoreId": "",
          "bold": true,
          "italic": false,
          "name": "CounterDeath",
          "smoothed": true,
          "tags": "",
          "type": "TextObject::Text",
          "underlined": false,
          "variables": [],
          "effects": [],
          "behaviors": [],
          "string": "0",
          "font": "",
          "characterSize": 35,
          "color": {
            "b": 255,
            "g": 255,
            "r": 255
          }
        }
      ],
      "events": [
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 109,
            "g": 230,
            "r": 255,
            "textB": 0,
            "textG": 0,
            "textR": 0
          },
          "comment": "IDEA\n-DONE- Red hero, in multiple random color\n- Only one hero per username\n- WIP !kill command, make the hero jump in the hole\n",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Comment",
          "color": {
            "b": 27,
            "g": 27,
            "r": 189,
            "textB": 255,
            "textG": 255,
            "textR": 255
          },
          "comment": "- Two commands cannot be used, idk why,  maybe because the latest command is not correctly reset somewhere, or there is a limitation due to the repeat timer.\n",
          "comment2": ""
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [
            {
              "type": {
                "value": "DepartScene"
              },
              "parameters": [
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ModVarGlobalTxt"
              },
              "parameters": [
                "TwitchChannel",
                "=",
                "\"gdevelop\""
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "WaitingTimeMin",
                "=",
                "5"
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "WaitingTimeMax",
                "=",
                "15"
              ]
            },
            {
              "type": {
                "value": "ModVarGlobal"
              },
              "parameters": [
                "DeathCounter",
                "=",
                "0"
              ]
            }
          ]
        },
        {
          "colorB": 254,
          "colorG": 19,
          "colorR": 144,
          "creationTime": 0,
          "disabled": true,
          "folded": true,
          "name": "Default spawn for object using commands",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 254,
                "g": 19,
                "r": 144,
                "textB": 255,
                "textG": 255,
                "textR": 255
              },
              "comment": "Send a command to this Twitch tchat for testing:\nhttps://www.twitch.tv/popout/blackzow/chat?popout=",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "DepartScene"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TwitchTchatCommands::ConnectToAChannel"
                  },
                  "parameters": [
                    "",
                    "\"blackzow\"",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "RepeatEveryXSeconds::Repeat"
                  },
                  "parameters": [
                    "",
                    "\"Check commands\"",
                    "1",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "TwitchTchatCommands::CheckACommand"
                          },
                          "parameters": [
                            "",
                            "\"coin\"",
                            "\"blackzow\"",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "GlobalVariableAsBoolean"
                          },
                          "parameters": [
                            "MyCustomFunctionIsTrue",
                            "True"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Create"
                          },
                          "parameters": [
                            "",
                            "Coin",
                            "ScreenWidth()/2",
                            "0",
                            "\"\""
                          ]
                        },
                        {
                          "type": {
                            "value": "SetGlobalVariableAsBoolean"
                          },
                          "parameters": [
                            "MyCustomFunctionIsTrue",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "TextObject::String"
                          },
                          "parameters": [
                            "Message",
                            "=",
                            "TwitchTchatCommands::GetLastUsername() + \": \" + TwitchTchatCommands::GetLastMessage()"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ],
          "parameters": []
        },
        {
          "colorB": 254,
          "colorG": 19,
          "colorR": 144,
          "creationTime": 0,
          "name": "Spawn characters",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 254,
                "g": 19,
                "r": 144,
                "textB": 255,
                "textG": 255,
                "textR": 255
              },
              "comment": "Send a command to this Twitch tchat for testing:\nhttps://www.twitch.tv/popout/blackzow/chat?popout=",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "DepartScene"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "TwitchTchatCommands::ConnectToAChannel"
                  },
                  "parameters": [
                    "",
                    "GlobalVariableString(TwitchChannel)",
                    ""
                  ]
                }
              ]
            },
            {
              "folded": true,
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "RepeatEveryXSeconds::Repeat"
                  },
                  "parameters": [
                    "",
                    "\"Check commands\"",
                    "1",
                    ""
                  ]
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "TwitchTchatCommands::CheckACommand"
                      },
                      "parameters": [
                        "",
                        "\"spawn\"",
                        "GlobalVariableString(TwitchChannel)",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Once"
                          },
                          "parameters": []
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "Create"
                          },
                          "parameters": [
                            "",
                            "RedHero",
                            "Spawner.X()",
                            "Spawner.Y()",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "Create"
                          },
                          "parameters": [
                            "",
                            "NameViewer",
                            "ScreenWidth()/2",
                            "0",
                            "\"UI\""
                          ]
                        },
                        {
                          "type": {
                            "value": "ChangeScale"
                          },
                          "parameters": [
                            "RedHero",
                            "=",
                            "1.5"
                          ]
                        },
                        {
                          "type": {
                            "value": "LinkedObjects::LinkObjects"
                          },
                          "parameters": [
                            "",
                            "RedHero",
                            "NameViewer"
                          ]
                        },
                        {
                          "type": {
                            "value": "SetGlobalVariableAsBoolean"
                          },
                          "parameters": [
                            "MyCustomFunctionIsTrue",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "TextObject::String"
                          },
                          "parameters": [
                            "NameViewer",
                            "=",
                            "TwitchTchatCommands::GetLastUsername()"
                          ]
                        },
                        {
                          "type": {
                            "value": "Recolorizer::SpriteRecolorizer::Recolorize"
                          },
                          "parameters": [
                            "RedHero",
                            "SpriteRecolorizer",
                            "\"222;70;48\"",
                            "ToString(RandomInRange(0,255))+\";\"+ToString(RandomInRange(0,255))+\";\"+ToString(RandomInRange(0,255))",
                            "RandomInRange(0,180)",
                            "RandomInRange(0,100)",
                            "RandomInRange(0,100)",
                            ""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "ModVarObjetTxt"
                              },
                              "parameters": [
                                "RedHero",
                                "UserName",
                                "=",
                                "TwitchTchatCommands::GetLastUsername()"
                              ]
                            },
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "RedHero",
                                "OldPositionX",
                                "=",
                                "RedHero.X()"
                              ]
                            },
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "RedHero",
                                "NewPositionX",
                                "=",
                                "RandomInRange(0,1920-RedHero.Width())"
                              ]
                            },
                            {
                              "type": {
                                "value": "ModVarObjet"
                              },
                              "parameters": [
                                "RedHero",
                                "NewPositionY",
                                "=",
                                "RandomInRange(SceneWindowHeight()-200,SceneWindowHeight()-100)"
                              ]
                            },
                            {
                              "type": {
                                "value": "PathfindingBehavior::SetDestination"
                              },
                              "parameters": [
                                "RedHero",
                                "Pathfinding",
                                "",
                                "RedHero.Variable(NewPositionX)",
                                "RedHero.Variable(NewPositionY)"
                              ]
                            },
                            {
                              "type": {
                                "value": "SetAnimationName"
                              },
                              "parameters": [
                                "RedHero",
                                "\"Run\""
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "name": "WIP - Bugged",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "WIP - Add the Kill command to move the hero of the user toward in the hole\n",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 27,
                    "g": 27,
                    "r": 189,
                    "textB": 255,
                    "textG": 255,
                    "textR": 255
                  },
                  "comment": "- Bugged \n",
                  "comment2": ""
                },
                {
                  "folded": true,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::Repeat"
                      },
                      "parameters": [
                        "",
                        "\"Cheqsd\"",
                        "1",
                        ""
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "TwitchTchatCommands::CheckACommand"
                          },
                          "parameters": [
                            "",
                            "\"kill\"",
                            "GlobalVariableString(TwitchChannel)"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SceneBackground"
                          },
                          "parameters": [
                            "",
                            "\"255;5;5\""
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::ForEach",
                          "object": "RedHero",
                          "conditions": [
                            {
                              "type": {
                                "value": "VarObjetTxt"
                              },
                              "parameters": [
                                "RedHero",
                                "UserName",
                                "=",
                                "TwitchTchatCommands::GetLastUsername()"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "PathfindingBehavior::SetDestination"
                              },
                              "parameters": [
                                "RedHero",
                                "Pathfinding",
                                "",
                                "FloorHole.CenterX()",
                                "FloorHole.CenterY()"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [
                                {
                                  "type": {
                                    "value": "BuiltinCommonInstructions::Once"
                                  },
                                  "parameters": []
                                }
                              ],
                              "actions": []
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": []
            }
          ],
          "parameters": []
        },
        {
          "type": "BuiltinCommonInstructions::Standard",
          "conditions": [],
          "actions": [
            {
              "type": {
                "value": "TextObject::String"
              },
              "parameters": [
                "Debug",
                "=",
                "ToString(RedHero.Variable(OldPositionX))"
              ]
            }
          ]
        },
        {
          "type": "BuiltinCommonInstructions::ForEach",
          "object": "RedHero",
          "conditions": [
            {
              "type": {
                "value": "LinkedObjects::PickObjectsLinkedTo"
              },
              "parameters": [
                "",
                "NameViewer",
                "RedHero",
                ""
              ]
            }
          ],
          "actions": [
            {
              "type": {
                "value": "ChangePlan"
              },
              "parameters": [
                "NameViewer",
                "=",
                "RedHero.ZOrder()"
              ]
            },
            {
              "type": {
                "value": "SetCenter"
              },
              "parameters": [
                "NameViewer",
                "=",
                "RedHero.PointX(\"NameAttach\")",
                "=",
                "RedHero.PointY(\"NameAttach\")"
              ]
            }
          ],
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "DepartScene"
                  },
                  "parameters": [
                    ""
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "RedHero",
                    "OldPositionX",
                    "=",
                    "RedHero.X()"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "RedHero",
                    "NewPositionX",
                    "=",
                    "RandomInRange(0,1920-RedHero.Width())"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "RedHero",
                    "NewPositionY",
                    "=",
                    "RandomInRange(SceneWindowHeight()-200,SceneWindowHeight()-100)"
                  ]
                },
                {
                  "type": {
                    "value": "PathfindingBehavior::SetDestination"
                  },
                  "parameters": [
                    "RedHero",
                    "Pathfinding",
                    "",
                    "RedHero.Variable(NewPositionX)",
                    "RedHero.Variable(NewPositionY)"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "PathfindingBehavior::DestinationReached"
                      },
                      "parameters": [
                        "RedHero",
                        "Pathfinding"
                      ]
                    },
                    {
                      "type": {
                        "value": "PathfindingBehavior::Acceleration"
                      },
                      "parameters": [
                        "RedHero",
                        "Pathfinding",
                        "<",
                        "1"
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "RedHero",
                    "OldPositionX",
                    "=",
                    "RedHero.X()"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "RedHero",
                    "NewPositionY",
                    "=",
                    "RandomInRange(SceneWindowHeight()-200,SceneWindowHeight()-100)"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarObjet"
                  },
                  "parameters": [
                    "RedHero",
                    "NewPositionX",
                    "=",
                    "RandomInRange(0,1920)"
                  ]
                },
                {
                  "type": {
                    "value": "SetAnimationName"
                  },
                  "parameters": [
                    "RedHero",
                    "\"Idle\""
                  ]
                },
                {
                  "type": {
                    "value": "Wait"
                  },
                  "parameters": [
                    "RandomInRange(GlobalVariable(WaitingTimeMin),GlobalVariable(WaitingTimeMax))"
                  ]
                },
                {
                  "type": {
                    "value": "PathfindingBehavior::SetDestination"
                  },
                  "parameters": [
                    "RedHero",
                    "Pathfinding",
                    "",
                    "RedHero.Variable(NewPositionX)",
                    "RedHero.Variable(NewPositionY)"
                  ]
                },
                {
                  "type": {
                    "value": "SetAnimationName"
                  },
                  "parameters": [
                    "RedHero",
                    "\"Run\""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "PosX"
                  },
                  "parameters": [
                    "RedHero",
                    ">=",
                    "RedHero.Variable(OldPositionX)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FlipX"
                  },
                  "parameters": [
                    "RedHero",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "PosX"
                  },
                  "parameters": [
                    "RedHero",
                    "<=",
                    "RedHero.Variable(OldPositionX)"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "FlipX"
                  },
                  "parameters": [
                    "RedHero",
                    "yes"
                  ]
                }
              ]
            }
          ]
        },
        {
          "colorB": 228,
          "colorG": 176,
          "colorR": 74,
          "creationTime": 0,
          "name": "Fall in the hole",
          "source": "",
          "type": "BuiltinCommonInstructions::Group",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "CollisionNP"
                  },
                  "parameters": [
                    "RedHero",
                    "FloorHole",
                    "",
                    "",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "PathfindingBehavior::Acceleration"
                  },
                  "parameters": [
                    "RedHero",
                    "Pathfinding",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "SetAnimationName"
                  },
                  "parameters": [
                    "RedHero",
                    "\"Fall\""
                  ]
                },
                {
                  "type": {
                    "value": "ActivateBehavior"
                  },
                  "parameters": [
                    "RedHero",
                    "YSort",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ActivateBehavior"
                  },
                  "parameters": [
                    "RedHero",
                    "Pathfinding",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ChangePlan"
                  },
                  "parameters": [
                    "RedHero",
                    "=",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "AddForceAL"
                  },
                  "parameters": [
                    "RedHero",
                    "90",
                    "200",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "LinkedObjects::PickObjectsLinkedTo"
                  },
                  "parameters": [
                    "",
                    "NameViewer",
                    "RedHero",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "NameViewer",
                    ""
                  ]
                },
                {
                  "type": {
                    "value": "ModVarGlobal"
                  },
                  "parameters": [
                    "DeathCounter",
                    "+",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "TextObject::String"
                  },
                  "parameters": [
                    "CounterDeath",
                    "=",
                    "ToString(GlobalVariable(DeathCounter))"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "PosY"
                  },
                  "parameters": [
                    "RedHero",
                    ">",
                    "SceneWindowHeight()+RedHero.Height()+10"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "Delete"
                  },
                  "parameters": [
                    "RedHero",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": []
        }
      ],
      "layers": [
        {
          "ambientLightColorB": 32,
          "ambientLightColorG": 0,
          "ambientLightColorR": 0,
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "name": "",
          "visibility": true,
          "cameras": [
            {
              "defaultSize": true,
              "defaultViewport": true,
              "height": 0,
              "viewportBottom": 1,
              "viewportLeft": 0,
              "viewportRight": 1,
              "viewportTop": 0,
              "width": 0
            }
          ],
          "effects": []
        },
        {
          "ambientLightColorB": 12,
          "ambientLightColorG": 6042736,
          "ambientLightColorR": 9509080,
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "name": "DEBUG",
          "visibility": false,
          "cameras": [],
          "effects": []
        },
        {
          "ambientLightColorB": 117,
          "ambientLightColorG": 6042736,
          "ambientLightColorR": 10398800,
          "followBaseLayerCamera": false,
          "isLightingLayer": false,
          "name": "UI",
          "visibility": true,
          "cameras": [],
          "effects": []
        }
      ],
      "behaviorsSharedData": [
        {
          "name": "Pathfinding",
          "type": "PathfindingBehavior::PathfindingBehavior"
        },
        {
          "name": "Physics2",
          "type": "Physics2::Physics2Behavior",
          "gravityX": 0,
          "gravityY": 9.8,
          "scaleX": 100,
          "scaleY": 100
        },
        {
          "name": "SpriteRecolorizer",
          "type": "Recolorizer::SpriteRecolorizer"
        },
        {
          "name": "TopDownMovement",
          "type": "TopDownMovementBehavior::TopDownMovementBehavior"
        },
        {
          "name": "YSort",
          "type": "YSort::YSort"
        }
      ]
    }
  ],
  "externalEvents": [],
  "eventsFunctionsExtensions": [
    {
      "author": "",
      "category": "",
      "description": "This extension allows to restyle a sprite, a tiled sprite or a panel sprite.\n\nIt can be used to:\n- Change the color of player short according to its team color.\n- Add small color variation to trees of a forest.\n- Restyle objects to match other assets.\n\nThis extension is experimental and might no longer work in future version of GDevelop.",
      "extensionNamespace": "",
      "fullName": "Object recolorizer (experimental)",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO30NCgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTo2LDY7fQ0KCS5zdDN7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtZGFzaGFycmF5OjQsNDt9DQoJLnN0NHtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7fQ0KCS5zdDV7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1kYXNoYXJyYXk6My4xMDgxLDMuMTA4MTt9DQoJDQoJCS5zdDZ7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDtzdHJva2UtZGFzaGFycmF5OjQsMzt9DQo8L3N0eWxlPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE2LjksMTRjLTEuOCwwLTMuMywxLjQtMy4zLDMuMXYwLjdjMCwxLjEtMC42LDEuOS0xLjYsMi4ybDAsMGgxLjZsMy4xLDBjMS44LDAsMy40LTEuNCwzLjMtMy4xDQoJQzIwLDE1LjMsMTguNiwxNCwxNi45LDE0eiIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTIwLjMsMTEuNUMxOC45LDExLjIsMTcuNSwxMSwxNiwxMWMtNy4yLDAtMTMsNC0xMyw5YzAsMSwwLjIsMiwwLjcsMi45YzEsMiwzLjYsMi42LDUuNCwxLjNsMCwwDQoJYzIuNC0xLjcsNS44LDAsNS44LDNWMjljMC40LDAsMC43LDAsMS4xLDBjNy4yLDAsMTMtNCwxMy05YzAtMi4yLTEuMS00LjItMi45LTUuNyIvPg0KPHBhdGggY2xhc3M9InN0MCIgZD0iTTE3LjQsMTQuMWw5LjgtOC44YzAuNC0wLjQsMS4xLTAuNCwxLjUsMGwwLDBjMC40LDAuNCwwLjQsMSwwLDEuNEwyMCwxNiIvPg0KPC9zdmc+DQo=",
      "name": "Recolorizer",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Graphic Design/Graphic Design_color_colour_palette_paint_brush.svg",
      "shortDescription": "Independently change the colors of a sprite, a tiled sprite or a panel sprite.",
      "version": "0.1.1",
      "origin": {
        "identifier": "Recolorizer",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "color",
        "hue",
        "saturation",
        "lightness",
        "hsl",
        "hsv",
        "rgb"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Define JavaScript classes.",
          "fullName": "Define JavaScript classes",
          "functionType": "Action",
          "group": "",
          "name": "DefineJavaScript",
          "private": true,
          "sentence": "Define JavaScript classes",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "__Recolorizer_IsDefined",
                    "False"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetGlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "__Recolorizer_IsDefined",
                    "True"
                  ]
                }
              ],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "/**\n * Converts an HSL color value to RGB. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes h, s, and l are contained in the set [0, 1] and\n * returns r, g, and b in the set [0, 255].\n * https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n *\n * @param   {number}  h       The hue\n * @param   {number}  s       The saturation\n * @param   {number}  l       The lightness\n * @return  {number[]}           The RGB representation\n */\nconst hslToRgb = function (h, s, l) {\n    var r, g, b;\n\n    if (s == 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var hue2rgb = function hue2rgb(p, q, t) {\n            if (t < 0) t += 1;\n            if (t > 1) t -= 1;\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\n            if (t < 1 / 2) return q;\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n            return p;\n        }\n\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];\n}\n\n/**\n * Converts an RGB color value to HSL. Conversion formula\n * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n * Assumes r, g, and b are contained in the set [0, 255] and\n * returns h, s, and l in the set [0, 1].\n * https://stackoverflow.com/questions/2353211/hsl-to-rgb-color-conversion\n *\n * @param   {number}  r       The red color value\n * @param   {number}  g       The green color value\n * @param   {number}  b       The blue color value\n * @return  {number[]}           The HSL representation\n */\nconst rgbToHsl = function (r, g, b) {\n    r /= 255, g /= 255, b /= 255;\n    var max = Math.max(r, g, b), min = Math.min(r, g, b);\n    var h, s, l = (max + min) / 2;\n\n    if (max == min) {\n        h = s = 0; // achromatic\n    } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n            case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n            case g: h = (b - r) / d + 2; break;\n            case b: h = (r - g) / d + 4; break;\n        }\n        h /= 6;\n    }\n\n    return [h, s, l];\n}\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {PIXI.Texture} texture\n * @returns {HTMLCanvasElement}\n */\nconst resetCanvas = function (canvas, texture) {\n    const context = canvas.getContext('2d');\n    const crop = texture._frame;\n    context.save();\n    context.globalCompositeOperation = 'copy';\n    context.drawImage(\n        texture.baseTexture.getDrawableSource(),\n        crop.x,\n        crop.y,\n        crop.width,\n        crop.height,\n        0,\n        0,\n        crop.width,\n        crop.height\n    );\n    context.restore();\n    return canvas;\n}\n\n/**\n * Replace a color with an other one.\n *\n * @param {HTMLCanvasElement} sourceCanvas\n * @param {HTMLCanvasElement} targetCanvas\n * @param {{x: number, y: number, width: number, height: number}} frame\n * @param {[number, number, number]} originColor The color to replace from.\n * @param {[number, number, number]} targetColor The color to replate to.\n * @param {number} hueScope Pixels within the hue scope relatively from originColor are recolorized.\n * @param {number} saturationScope Pixels within the saturation scope relatively from originColor are recolorized.\n * @param {number} lighnessScope Pixels within the lightness scope relatively from originColor are recolorized.\n */\nconst recolorizeTexture = function (sourceCanvas, targetCanvas, frame, originColor, targetColor, hueScope, saturationScope, lighnessScope) {\n    const sourceContext = sourceCanvas.getContext('2d');\n    const targetContext = targetCanvas.getContext('2d');\n    const sourcePixels = sourceContext.getImageData(0, 0, frame.width, frame.height).data;\n    const targetImageData = targetContext.getImageData(0, 0, frame.width, frame.height);\n    const targetPixels = targetImageData.data;\n\n    const originColorHSL = rgbToHsl(originColor[0], originColor[1], originColor[2]);\n    const targetColorHSL = rgbToHsl(targetColor[0], targetColor[1], targetColor[2]);\n\n    const originHue = originColorHSL[0];\n    const originSaturation = originColorHSL[1];\n    const originLightness = originColorHSL[2];\n\n    const targetHue = targetColorHSL[0];\n    const targetSaturation = targetColorHSL[1];\n    const saturationDelta = targetSaturation - originSaturation;\n    const lightnessDelta = targetColorHSL[2] - originLightness;\n\n    // hue is not knowned for graycase colors.\n    const hueIsConstrained = hueScope < 0.5;\n\n    for (let i = 0; i < sourcePixels.length; i += 4) {\n        const pixelHsl = rgbToHsl(sourcePixels[i + 0], sourcePixels[i + 1], sourcePixels[i + 2]);\n\n        const pixelHue = pixelHsl[0];\n        const pixelSaturation = pixelHsl[1];\n        const pixelLightness = pixelHsl[2];\n\n        const hueDelta = gdjs.evtTools.common.mod(pixelHue - originHue + 0.5, 1) - 0.5;\n        if ((!hueIsConstrained || Math.abs(hueDelta) <= hueScope)\n         && Math.abs(pixelSaturation - originSaturation) <= saturationScope\n         && Math.abs(pixelLightness - originLightness) <= lighnessScope) {\n            // graycase pixels must take the targeted hue\n            pixelHsl[0] = pixelSaturation === 0 ? targetHue : gdjs.evtTools.common.mod(pixelHue - originHue + targetHue, 1);\n            // white pixels must also take the targeted saturation.\n            pixelHsl[1] = pixelLightness > 0.999 ? targetSaturation : gdjs.evtTools.common.clamp(pixelSaturation + saturationDelta, 0, 1);\n            pixelHsl[2] = gdjs.evtTools.common.clamp(pixelLightness + lightnessDelta, 0, 1);\n            const pixelRgb = hslToRgb(pixelHsl[0], pixelHsl[1], pixelHsl[2]);\n            targetPixels[i + 0] = pixelRgb[0];\n            targetPixels[i + 1] = pixelRgb[1];\n            targetPixels[i + 2] = pixelRgb[2];\n        }\n    }\n    targetContext.putImageData(targetImageData, 0, 0);\n};\n\n/**\n * @param {[number, number, number]} originColor The color to replace from.\n * @param {[number, number, number]} targetColor The color to replate to.\n * @param {number} hueScope Pixels within the hue scope relatively from originColor are recolorized.\n * @param {number} saturationScope Pixels within the saturation scope relatively from originColor are recolorized.\n * @param {number} lighnessScope Pixels within the lightness scope relatively from originColor are recolorized.\n * @return {number} key\n */\nconst getRecolorizationKey = function (originColor, targetColor, hueScope, saturationScope, lighnessScope) {\n    return String.fromCharCode(originColor[0] * (2 ** 8) + originColor[1],\n        originColor[2] * (2 ** 8) + targetColor[0],\n        targetColor[1] * (2 ** 8) + targetColor[2],\n        (hueScope * (2 ** 8) + saturationScope) * (2 ** 8),\n        lighnessScope * (2 ** 8));\n}\n\ngdjs.__recolorizerExtension = gdjs.__recolorizerExtension || {};\n\n/**\n * @param {PIXI.Texture} texture\n * @returns {HTMLCanvasElement}\n */\ngdjs.__recolorizerExtension.getCanvas = function (texture) {\n    /** @type {HTMLCanvasElement} */\n    const canvas = document.createElement('canvas');\n\n    const context = canvas.getContext('2d');\n    const crop = texture._frame.clone();\n    const resolution = texture.baseTexture.resolution;\n\n    crop.x *= resolution;\n    crop.y *= resolution;\n    crop.width *= resolution;\n    crop.height *= resolution;\n\n    canvas.width = Math.ceil(crop.width);\n    canvas.height = Math.ceil(crop.height);\n\n    context.save();\n    context.globalCompositeOperation = 'copy';\n    context.drawImage(\n        texture.baseTexture.getDrawableSource(),\n        crop.x,\n        crop.y,\n        crop.width,\n        crop.height,\n        0,\n        0,\n        crop.width,\n        crop.height\n    );\n    context.restore();\n\n    return canvas;\n}\n\n/**\n * Manage recolorizations to ensure uniqueness of textures.\n **/\ngdjs.__recolorizerExtension.RecolorizationManager = /** @class */ (function () {\n    /**\n     * Create a manager.\n     * @param {PIXI.Texture[]} sourceTextures\n     */\n    function RecolorizationManager(sourceTextures) {\n        /** @type {PIXI.Texture[]} */\n        this.sourceTextures = sourceTextures;\n        this.sourceCanvas = sourceTextures.map(texture => gdjs.__recolorizerExtension.getCanvas(texture));\n        /** @type {Map<string, {userCount: integer, textures: PIXI.Texture[], canvas: HTMLCanvasElement[]}>} */\n        this.recolorizedSprites = new Map();\n        /** @type {Array<{userCount: integer, textures: PIXI.Texture[], canvas: HTMLCanvasElement[]}>} */\n        this.recycledRecolorizedSprites = [];\n    }\n\n    /**\n     * Unregister a recoloration usage.\n     *\n     * @param {string} previousRecolorizationKey\n     */\n    RecolorizationManager.prototype.unregister = function (previousRecolorizationKey) {\n        const previousRecolorizedSprite = this.recolorizedSprites.get(previousRecolorizationKey);\n        if (previousRecolorizedSprite) {\n            previousRecolorizedSprite.userCount--;\n            if (previousRecolorizedSprite.userCount <= 0) {\n                this.recolorizedSprites.delete(previousRecolorizationKey);\n                this.recycledRecolorizedSprites.push(previousRecolorizedSprite);\n            }\n        }\n    }\n\n    /**\n     * Register a recolorization usage and get recolored textures.\n     *\n     * @param {string} recolorizationKey\n     * @param {Array<{originColor: [number, number, number], targetColor: [number, number, number], hueScope: number, saturationScope: number, lighnessScope: number}>} recolorizations\n     * @returns {PIXI.Texture[]} \n     */\n    RecolorizationManager.prototype.register = function (recolorizationKey, recolorizations) {\n        if (recolorizationKey === \"\") {\n            return this.sourceTextures;\n        }\n\n        /** @type {PIXI.Texture[]} */\n        let targetTextures;\n        let recolorizedSprite = this.recolorizedSprites.get(recolorizationKey);\n        if (recolorizedSprite) {\n            targetTextures = recolorizedSprite.textures;\n        }\n        else {\n            if (this.recycledRecolorizedSprites.length > 0) {\n                const reusableRecolorizedSprite = this.recycledRecolorizedSprites.pop();\n                targetTextures = reusableRecolorizedSprite.textures;\n                /** @type {PIXI.Texture[]} */\n                const targetCanvas = reusableRecolorizedSprite.canvas;\n\n                for (let textureIndex = 0; textureIndex < this.sourceTextures.length; textureIndex++) {\n                    const sourceTexture = this.sourceTextures[textureIndex];\n                    const targetCanva = targetCanvas[textureIndex];\n                    resetCanvas(targetCanva, sourceTexture);\n                }\n\n                this._recolorizeAll(targetCanvas, recolorizations);\n\n                targetTextures.forEach(texture => texture.update());\n                reusableRecolorizedSprite.userCount = 0;\n                recolorizedSprite = reusableRecolorizedSprite;\n            }\n            else {\n                /** @type {PIXI.Texture[]} */\n                const targetCanvas = this.sourceTextures.map(texture => gdjs.__recolorizerExtension.getCanvas(texture));\n\n                this._recolorizeAll(targetCanvas, recolorizations);\n\n                targetTextures = targetCanvas.map(targetCanva => PIXI.Texture.from(targetCanva));\n                recolorizedSprite = { userCount: 0, textures: targetTextures, canvas: targetCanvas };\n            }\n            this.recolorizedSprites.set(recolorizationKey, recolorizedSprite);\n        }\n        recolorizedSprite.userCount++;\n        return targetTextures;\n    }\n\n    /**\n     * Apply a recoloration to every textures.\n     *\n     * @param {HTMLCanvasElement[]} targetCanvas\n     * @param {Array<{originColor: [number, number, number], targetColor: [number, number, number], hueScope: number, saturationScope: number, lighnessScope: number}>} recolorizations\n     */\n    RecolorizationManager.prototype._recolorizeAll = function (targetCanvas, recolorizations) {\n        for (let textureIndex = 0; textureIndex < this.sourceTextures.length; textureIndex++) {\n            const sourceTexture = this.sourceTextures[textureIndex];\n            const targetCanva = targetCanvas[textureIndex];\n            const frame = sourceTexture._frame;\n            for (const recolorization of recolorizations) {\n                recolorizeTexture(\n                    this.sourceCanvas[textureIndex],\n                    targetCanva,\n                    frame,\n                    recolorization.originColor,\n                    recolorization.targetColor,\n                    recolorization.hueScope,\n                    recolorization.saturationScope,\n                    recolorization.lighnessScope\n                );\n            }\n        }\n    }\n\n    return RecolorizationManager;\n}());\n\n/**\n * Object recolorizer.\n **/\ngdjs.__recolorizerExtension.Recolorizer = /** @class */ (function () {\n    /**\n     * Create an object recolorizer.\n     * @param {gdjs.__recolorizerExtension.RecolorizationManager} manager\n     * @param {{texture: PIXI.Texture[]}} sourceTextureConatiners\n     */\n    function Recolorizer(manager, sourceTextureContainers) {\n        this.manager = manager;\n        this.sourceTextureContainers = sourceTextureContainers;\n\n        this.previousRecolorizationKey = \"\";\n        this.recolorizationKey = \"\";\n        /** @type {Array<{originColor: [number, number, number], targetColor: [number, number, number], hueScope: number, saturationScope: number, lighnessScope: number}>} */\n        this.recolorizations = [];\n    }\n\n    /**\n     * Replace a color with an other one.\n     *\n     * @param {[number, number, number]} originColor The color to replace from.\n     * @param {[number, number, number]} targetColor The color to replate to.\n     * @param {number} hueScope Pixels within the hue scope relatively from originColor are recolorized.\n     * @param {number} saturationScope Pixels within the saturation scope relatively from originColor are recolorized.\n     * @param {number} lighnessScope Pixels within the lightness scope relatively from originColor are recolorized.\n     */\n    Recolorizer.prototype.recolorizeSprite = function (originColor, targetColor, hueScope, saturationScope, lighnessScope) {\n        this.recolorizationKey += getRecolorizationKey(originColor, targetColor, hueScope, saturationScope, lighnessScope);\n        this.recolorizations.push({ originColor, targetColor, hueScope, saturationScope, lighnessScope});\n    }\n\n    /**\n     * Reset the default textures of the object.\n     */\n    Recolorizer.prototype.resetSprite = function () {\n        this.recolorizationKey = \"\";\n        this.recolorizations = [];\n    }\n\n    /**\n     * Update the textures of the object.\n     */\n    Recolorizer.prototype.updateSprite = function () {\n        const needsRecolorization = this.recolorizationKey !== this.previousRecolorizationKey;\n        if (needsRecolorization) {\n            this.manager.unregister(this.previousRecolorizationKey);\n\n            /** @type {PIXI.Texture[]} */\n            const targetTextures = this.manager.register(this.recolorizationKey, this.recolorizations);\n\n            let textureIndex = 0;\n            for (const container of this.sourceTextureContainers) {\n                container.texture = targetTextures[textureIndex];\n                textureIndex++;\n            }\n            this.previousRecolorizationKey = this.recolorizationKey;\n        }\n        return needsRecolorization;\n    }\n\n    return Recolorizer;\n}());",
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ]
            }
          ],
          "parameters": [],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [
        {
          "description": "Independently change the colors of a sprite.",
          "fullName": "Sprite recolorizer",
          "name": "SpriteRecolorizer",
          "objectType": "Sprite",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onCreated",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Recolorizer::DefineJavaScript"
                      },
                      "parameters": [
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "/** @type {gdjs.SpriteRuntimeObject} */\nconst sprite = objects[0];\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = sprite.getBehavior(behaviorName);\n\nif (!runtimeScene.__recolorizerExtension) {\n    runtimeScene.__recolorizerExtension = { managers: new Map()};\n}\n/** @type {Map} */\nconst managers = runtimeScene.__recolorizerExtension.managers || new Map();\nlet manager = managers.get(sprite.getName());\nif (!manager) {\n    /** @type {PIXI.Texture[]} */\n    const sourceTextures = [];\n    for (const animation of sprite._animations) {\n        for (const direction of animation.directions) {\n            for (const frame of direction.frames) {\n                sourceTextures.push(frame.texture);\n            }\n        }\n    }\n    manager = new gdjs.__recolorizerExtension.RecolorizationManager(sourceTextures);\n    managers.set(sprite.getName(), manager);\n}\n\n/** @type {{texture: PIXI.Texture[]}} */\nconst sourceTextureContainers = [];\nfor (const animation of sprite._animations) {\n    for (const direction of animation.directions) {\n        for (const frame of direction.frames) {\n            sourceTextureContainers.push(frame);\n        }\n    }\n}\n\nbehavior.recolorizer = new gdjs.__recolorizerExtension.Recolorizer(\n    manager,\n    sourceTextureContainers\n);",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "Sprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::SpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Replace a given color of an object with another one. The scope allows to change similar colors at once.",
              "fullName": "Recolorize",
              "functionType": "Action",
              "group": "",
              "name": "Recolorize",
              "private": false,
              "sentence": "Recolorize _PARAM0_ from color _PARAM2_ to color _PARAM3_ within a scope of  hue: _PARAM4_ saturation: _PARAM5_% lightness: _PARAM6_%",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = objects[0].getBehavior(behaviorName);\n\nconst originColor = gdjs.rgbOrHexToRGBColor(eventsFunctionContext.getArgument(\"OriginColor\"));\nconst targetColor = gdjs.rgbOrHexToRGBColor(eventsFunctionContext.getArgument(\"TargetColor\"));\nconst hueScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"HueScope\") / 360, 0, 180);\nconst saturationScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"SaturationScope\") / 100, 0, 50);\nconst lightnessScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"LightnessScope\") / 100, 0, 50);\n\nbehavior.recolorizer.recolorizeSprite(originColor, targetColor, hueScope, saturationScope, lightnessScope);",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "Sprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::SpriteRecolorizer",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Origin color",
                  "longDescription": "",
                  "name": "OriginColor",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "color"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Target color",
                  "longDescription": "",
                  "name": "TargetColor",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "color"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Hue scope (from 0 to 180)",
                  "longDescription": "",
                  "name": "HueScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Saturation scope (in percent)",
                  "longDescription": "",
                  "name": "SaturationScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Lightness scope (in percent)",
                  "longDescription": "",
                  "name": "LightnessScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Set back the original colors of an object.",
              "fullName": "Reset color",
              "functionType": "Action",
              "group": "",
              "name": "ResetColor",
              "private": false,
              "sentence": "Reset the colors of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = objects[0].getBehavior(behaviorName);\n\nbehavior.recolorizer.resetSprite();",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "Sprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::SpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "doStepPostEvents",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "\r\n/** @type {gdjs.SpriteRuntimeObject} */\r\nconst sprite = objects[0];\r\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r\nconst behavior = sprite.getBehavior(behaviorName);\r\n\r\nconst recolorized = behavior.recolorizer.updateSprite();\r\nif (recolorized) {\r\n    sprite._animationFrameDirty = true;\r\n}",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "Sprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::SpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onDestroy",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Unsure that destroyed instance recolorization can be free.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Recolorizer::SpriteRecolorizer::ResetColor"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "Sprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::SpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": []
        },
        {
          "description": "Independently change the colors of a tiled sprite.",
          "fullName": "Tiled sprite recolorizer",
          "name": "TiledSpriteRecolorizer",
          "objectType": "TiledSpriteObject::TiledSprite",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onCreated",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Recolorizer::DefineJavaScript"
                      },
                      "parameters": [
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "/** @type {gdjs.TiledSpriteRuntimeObject} */\nconst tiledSprite = objects[0];\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = tiledSprite.getBehavior(behaviorName);\n\nif (!runtimeScene.__recolorizerExtension) {\n    runtimeScene.__recolorizerExtension = { managers: new Map()};\n}\n/** @type {Map} */\nconst managers = runtimeScene.__recolorizerExtension.managers || new Map();\nlet manager = managers.get(tiledSprite.getName());\nif (!manager) {\n    /** @type {PIXI.TilingSprite} */\n    const tilingSprite = tiledSprite.getRendererObject();\n    manager = new gdjs.__recolorizerExtension.RecolorizationManager([tilingSprite.texture]);\n    managers.set(tiledSprite.getName(), manager);\n}\n\nbehavior.recolorizer = new gdjs.__recolorizerExtension.Recolorizer(\n    manager,\n    [tiledSprite.getRendererObject()]\n);\n",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "TiledSpriteObject::TiledSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::TiledSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Replace a given color of an object with another one. The scope allows to change similar colors at once.",
              "fullName": "Recolorize",
              "functionType": "Action",
              "group": "",
              "name": "Recolorize",
              "private": false,
              "sentence": "Recolorize _PARAM0_ from color _PARAM2_ to color _PARAM3_ within a scope of  hue: _PARAM4_ saturation: _PARAM5_% lightness: _PARAM6_%",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = objects[0].getBehavior(behaviorName);\n\nconst originColor = gdjs.rgbOrHexToRGBColor(eventsFunctionContext.getArgument(\"OriginColor\"));\nconst targetColor = gdjs.rgbOrHexToRGBColor(eventsFunctionContext.getArgument(\"TargetColor\"));\nconst hueScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"HueScope\") / 360, 0, 180);\nconst saturationScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"SaturationScope\") / 100, 0, 50);\nconst lightnessScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"LightnessScope\") / 100, 0, 50);\n\nbehavior.recolorizer.recolorizeSprite(originColor, targetColor, hueScope, saturationScope, lightnessScope);",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "TiledSpriteObject::TiledSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::TiledSpriteRecolorizer",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Origin color",
                  "longDescription": "",
                  "name": "OriginColor",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "color"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Target color",
                  "longDescription": "",
                  "name": "TargetColor",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "color"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Hue scope (from 0 to 180)",
                  "longDescription": "",
                  "name": "HueScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Saturation scope (in percent)",
                  "longDescription": "",
                  "name": "SaturationScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Lightness scope (in percent)",
                  "longDescription": "",
                  "name": "LightnessScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Set back the original colors of an object.",
              "fullName": "Reset color",
              "functionType": "Action",
              "group": "",
              "name": "ResetColor",
              "private": false,
              "sentence": "Reset the colors of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = objects[0].getBehavior(behaviorName);\n\nbehavior.recolorizer.resetSprite();",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "TiledSpriteObject::TiledSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::TiledSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "doStepPostEvents",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "\r\nconst object = objects[0];\r\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r\nconst behavior = object.getBehavior(behaviorName);\r\n\r\nconst recolorized = behavior.recolorizer.updateSprite();",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "TiledSpriteObject::TiledSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::TiledSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onDestroy",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Unsure that destroyed instance recolorization can be free.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Recolorizer::TiledSpriteRecolorizer::ResetColor"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "TiledSpriteObject::TiledSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::TiledSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": []
        },
        {
          "description": "Independently change the colors of a panel sprite.",
          "fullName": "Panel sprite recolorizer",
          "name": "PanelSpriteRecolorizer",
          "objectType": "PanelSpriteObject::PanelSprite",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onCreated",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Recolorizer::DefineJavaScript"
                      },
                      "parameters": [
                        "",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "/** @type {gdjs.PanelSpriteRuntimeObject} */\nconst panelSprite = objects[0];\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = panelSprite.getBehavior(behaviorName);\n\nif (!runtimeScene.__recolorizerExtension) {\n    runtimeScene.__recolorizerExtension = { managers: new Map()};\n}\n/** @type {Map} */\nconst managers = runtimeScene.__recolorizerExtension.managers || new Map();\nlet manager = managers.get(panelSprite.getName());\nif (!manager) {\n    const renderer = panelSprite._renderer;\n    /** @type {PIXI.Texture[]} */\n    const sourceTextures = renderer._borderSprites.map(sprite => sprite.texture);\n    sourceTextures.push(renderer._centerSprite.texture);\n    manager = new gdjs.__recolorizerExtension.RecolorizationManager(sourceTextures);\n    managers.set(panelSprite.getName(), manager);\n}\n\nconst renderer = panelSprite._renderer;\n\nbehavior.recolorizer = new gdjs.__recolorizerExtension.Recolorizer(\n    manager,\n    [...renderer._borderSprites, renderer._centerSprite],\n);\n",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "PanelSpriteObject::PanelSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::PanelSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Replace a given color of an object with another one. The scope allows to change similar colors at once.",
              "fullName": "Recolorize",
              "functionType": "Action",
              "group": "",
              "name": "Recolorize",
              "private": false,
              "sentence": "Recolorize _PARAM0_ from color _PARAM2_ to color _PARAM3_ within a scope of  hue: _PARAM4_ saturation: _PARAM5_% lightness: _PARAM6_%",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = objects[0].getBehavior(behaviorName);\n\nconst originColor = gdjs.rgbOrHexToRGBColor(eventsFunctionContext.getArgument(\"OriginColor\"));\nconst targetColor = gdjs.rgbOrHexToRGBColor(eventsFunctionContext.getArgument(\"TargetColor\"));\nconst hueScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"HueScope\") / 360, 0, 180);\nconst saturationScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"SaturationScope\") / 100, 0, 50);\nconst lightnessScope = gdjs.evtTools.common.clamp(eventsFunctionContext.getArgument(\"LightnessScope\") / 100, 0, 50);\n\nbehavior.recolorizer.recolorizeSprite(originColor, targetColor, hueScope, saturationScope, lightnessScope);",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "PanelSpriteObject::PanelSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::PanelSpriteRecolorizer",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Origin color",
                  "longDescription": "",
                  "name": "OriginColor",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "color"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Target color",
                  "longDescription": "",
                  "name": "TargetColor",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "color"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Hue scope (from 0 to 180)",
                  "longDescription": "",
                  "name": "HueScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Saturation scope (in percent)",
                  "longDescription": "",
                  "name": "SaturationScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Lightness scope (in percent)",
                  "longDescription": "",
                  "name": "LightnessScope",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Set back the original colors of an object.",
              "fullName": "Reset color",
              "functionType": "Action",
              "group": "",
              "name": "ResetColor",
              "private": false,
              "sentence": "Reset the colors of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "const behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\nconst behavior = objects[0].getBehavior(behaviorName);\n\nbehavior.recolorizer.resetSprite();",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "PanelSpriteObject::PanelSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::PanelSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "doStepPostEvents",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "/** @type {gdjs.PanelSpriteRuntimeObject} */\r\nconst panelSprite = objects[0];\r\nconst behaviorName = eventsFunctionContext.getBehaviorName(\"Behavior\");\r\nconst behavior = panelSprite.getBehavior(behaviorName);\r\n\r\nconst recolorized = behavior.recolorizer.updateSprite();\r\nif (recolorized) {\r\n      const renderer = panelSprite._renderer;\r\n      //renderer._wasRendered = false;\r\n      renderer._spritesContainer.cacheAsBitmap = false;\r\n}",
                  "parameterObjects": "Object",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "PanelSpriteObject::PanelSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::PanelSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onDestroy",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Unsure that destroyed instance recolorization can be free.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "Recolorizer::TiledSpriteRecolorizer::ResetColor"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "PanelSpriteObject::PanelSprite",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "Recolorizer::PanelSpriteRecolorizer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": []
        }
      ]
    },
    {
      "author": "Gustavo Marciano",
      "category": "",
      "description": "Set the depth (Z-order) of the instance to the value of its Y position in the scene, creating an illusion of depth. The origin point of the object is used to determine the Z-order.\n\nUseful for isometric games, 2D games with a \"Top-Down\" view, RPG...",
      "extensionNamespace": "",
      "fullName": "YSort",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXNvcnQtYXNjZW5kaW5nIiB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZD0iTTE5IDE3SDIyTDE4IDIxTDE0IDE3SDE3VjNIMTlNMiAxN0gxMlYxOUgyTTYgNVY3SDJWNU0yIDExSDlWMTNIMlYxMVoiIC8+PC9zdmc+",
      "name": "YSort",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/sort-ascending.svg",
      "shortDescription": "Create an illusion of depth by setting the Z-order based on the Y position of the object. Useful for isometric games, 2D games with a \"Top-Down\" view, RPG...",
      "version": "0.0.1",
      "origin": {
        "identifier": "YSort",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "z-order",
        "y-sort",
        "depth",
        "fake-depth",
        "isometric-depth",
        "rpg"
      ],
      "authorIds": [],
      "dependencies": [],
      "eventsFunctions": [],
      "eventsBasedBehaviors": [
        {
          "description": "Set the depth (Z-order) of the instance to the value of its Y position in the scene, creating an illusion of depth. The origin point of the object is used to determine the Z-order.",
          "fullName": "YSort",
          "name": "YSort",
          "objectType": "",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "doStepPreEvents",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ChangePlan"
                      },
                      "parameters": [
                        "Object",
                        "=",
                        "Object.Y()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "YSort::YSort",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": []
        }
      ]
    },
    {
      "author": "",
      "category": "",
      "description": "The camera follows an object according to:\n- a frame rate independent catch-up speed to make the scrolling from smooth to strong\n- a maximum speed to do linear following or slow down the camera when teleporting the object\n- a follow-free zone to avoid scrolling on small movements\n- an offset to see further in one direction\n- an extra delay and catch-up speed to give an impression of speed (useful for dash)\n- position forecasting and delay to simulate a cameraman response time\n\nA platformer dedicated behavior allows to switch of settings when the character is in air or on the floor. This can be used to stabilize the camera when jumping.",
      "extensionNamespace": "",
      "fullName": "Smooth Camera",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQoJLnN0MXtmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjEwO30NCjwvc3R5bGU+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMjQsMTNoLTZjLTEuMSwwLTItMC45LTItMlY1YzAtMS4xLDAuOS0yLDItMmg2YzEuMSwwLDIsMC45LDIsMnY2QzI2LDEyLjEsMjUuMSwxMywyNCwxM3oiLz4NCjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik0yNiw4djEwYzAsMS4xLTAuOSwyLTIsMkg4Yy0xLjEsMC0yLTAuOS0yLTJWOGMwLTEuMSwwLjktMiwyLTJoOCIvPg0KPGNpcmNsZSBjbGFzcz0ic3QwIiBjeD0iMjEiIGN5PSI4IiByPSIyIi8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxMSIgY3k9IjE2IiByPSIxIi8+DQo8cmVjdCB4PSI5IiB5PSI5IiBjbGFzcz0ic3QwIiB3aWR0aD0iNCIgaGVpZ2h0PSIzIi8+DQo8cG9seWxpbmUgY2xhc3M9InN0MCIgcG9pbnRzPSIyMSwyOSAyMSwyOSAxMSwyOSAxMSwyOSAiLz4NCjxwb2x5bGluZSBjbGFzcz0ic3QwIiBwb2ludHM9IjE4LDIwIDE4LDI5IDE0LDI5IDE0LDIwICIvPg0KPHJlY3QgeD0iNyIgeT0iMyIgY2xhc3M9InN0MCIgd2lkdGg9IjQiIGhlaWdodD0iMyIvPg0KPC9zdmc+DQo=",
      "name": "SmoothCamera",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/Computers and Hardware/Computers and Hardware_camcoder_gopro_go_pro_camera.svg",
      "shortDescription": "Smoothly scroll to follow an object.",
      "version": "0.1.1",
      "origin": {
        "identifier": "SmoothCamera",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "camera",
        "scrolling",
        "follow",
        "smooth"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2"
      ],
      "dependencies": [],
      "eventsFunctions": [],
      "eventsBasedBehaviors": [
        {
          "description": "Smoothly scroll to follow an object.",
          "fullName": "Smooth Camera",
          "name": "SmoothCamera",
          "objectType": "",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onCreated",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Update private properties through setters to check their values and initialize state.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetLeftwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyLeftwardSpeed()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetRightwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyRightwardSpeed()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetUpwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyUpwardSpeed()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetDownwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyDownwardSpeed()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetLeftwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyLeftwardSpeedMax()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetRightwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyRightwardSpeedMax()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetUpwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyUpwardSpeedMax()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetDownwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyDownwardSpeedMax()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaLeft"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyFollowFreeAreaLeft()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaRight"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyFollowFreeAreaRight()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyFollowFreeAreaTop()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "Object.Behavior::PropertyFollowFreeAreaBottom()",
                        "log(1 - )"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelay"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertyCameraDelay()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "doStepPreEvents",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Delaying and forecasting can be used at the same time.\nForecasting only use the positions that are older than the one used for delaying.\nThe behavior uses a position history that is split in 2 arrays:\n- one for delaying the position (from TimeFromStart to TimeFromStart - CamearDelay)\n- one for forecasting the position (from TimeFromStart - CamearDelay to TimeFromStart - CamearDelay - ForecastHistoryDuration",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::UpdateDelayedPosition"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::UpdateForecastedPosition"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "At each frame, the camera must catchup the target by a given ratio (speed)\ncameraX(t) - targetX = (cameraX(t - 1) - targetX) * speed\n\nThe frame rate must not impact on the catch-up speed, we don't want a speed in ratio per frame but a speed ratio per second, like this:\ncameraX(t) - targetX = (cameraX(t - 1s) - targetX) * speed\n\nOk, but we still need to process each frame, we can use a exponent for this:\ncameraX(t) - targetX = (cameraX(t - timeDelta) - targetX) * speed^timeDelta\ncameraX(t) = targetX + (cameraX(t - timeDelta) - targetX) * exp(timeDelta * ln(speed))\n\npow is probably more efficient than precalculated log if the speed is changed continuously but this might be rare enough.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyFollowOnX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyOldX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "CameraX(Object.Layer(), 0)"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraX"
                          },
                          "parameters": [
                            "",
                            ">",
                            "Object.Behavior::FreeAreaRight()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraX"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::FreeAreaRight()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaRight())\n* exp(TimeDelta() * Object.Behavior::PropertyLogLeftwardSpeed())",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CameraX"
                              },
                              "parameters": [
                                "",
                                "<",
                                "Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetCameraX"
                              },
                              "parameters": [
                                "",
                                "=",
                                "Object.Behavior::PropertyOldX() - Object.Behavior::PropertyLeftwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraX"
                          },
                          "parameters": [
                            "",
                            "<",
                            "Object.Behavior::FreeAreaLeft()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraX"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::FreeAreaLeft()\n+ (CameraX(Object.Layer(), 0) - Object.Behavior::FreeAreaLeft())\n* exp(TimeDelta() * Object.Behavior::PropertyLogRightwardSpeed())",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CameraX"
                              },
                              "parameters": [
                                "",
                                ">",
                                "Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetCameraX"
                              },
                              "parameters": [
                                "",
                                "=",
                                "Object.Behavior::PropertyOldX() + Object.Behavior::PropertyRightwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyFollowOnY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyOldY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "CameraY(Object.Layer(), 0)"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraY"
                          },
                          "parameters": [
                            "",
                            ">",
                            "Object.Behavior::FreeAreaBottom()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraY"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::FreeAreaBottom()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaBottom())\n* exp(TimeDelta() * Object.Behavior::PropertyLogUpwardSpeed())",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CameraY"
                              },
                              "parameters": [
                                "",
                                "<",
                                "Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetCameraY"
                              },
                              "parameters": [
                                "",
                                "=",
                                "Object.Behavior::PropertyOldY() - Object.Behavior::PropertyUpwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "CameraY"
                          },
                          "parameters": [
                            "",
                            "<",
                            "Object.Behavior::FreeAreaTop()",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SetCameraY"
                          },
                          "parameters": [
                            "",
                            "=",
                            "Object.Behavior::FreeAreaTop()\n+ (CameraY(Object.Layer(), 0) - Object.Behavior::FreeAreaTop())\n* exp(TimeDelta() * Object.Behavior::PropertyLogDownwardSpeed())",
                            "Object.Layer()",
                            "0"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "CameraY"
                              },
                              "parameters": [
                                "",
                                ">",
                                "Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SetCameraY"
                              },
                              "parameters": [
                                "",
                                "=",
                                "Object.Behavior::PropertyOldY() + Object.Behavior::PropertyDownwardSpeedMax() * TimeDelta()",
                                "Object.Layer()",
                                "0"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Delay the camera according to a maximum speed and catch up the delay.",
              "fullName": "Wait and catch up",
              "functionType": "Action",
              "group": "",
              "name": "WaitAndCatchUp",
              "private": false,
              "sentence": "Delay the camera of _PARAM0_ during: _PARAM2_ seconds according to the maximum speed _PARAM3_;_PARAM4_ seconds and catch up in _PARAM5_ seconds",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Maybe the catch-up show be done in constant pixel speed instead of constant time speed.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyWaitingEnd"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "TimeFromStart() + GetArgumentAsNumber(\"WaitingDuration\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedXMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"WaitingSpeedXMax\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyWaitingSpeedYMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"WaitingSpeedYMax\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpDuration"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"CatchUpDuration\")"
                      ]
                    }
                  ]
                },
                {
                  "disabled": true,
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "DebuggerTools::ConsoleLog"
                      },
                      "parameters": [
                        "\"Wait and catch up\"",
                        "\"info\"",
                        "\"SmoothCamera\""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Waiting duration (in seconds)",
                  "longDescription": "",
                  "name": "WaitingDuration",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Waiting maximum camera target speed X",
                  "longDescription": "",
                  "name": "WaitingSpeedXMax",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Waiting maximum camera target speed Y",
                  "longDescription": "",
                  "name": "WaitingSpeedYMax",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Catch up duration (in seconds)",
                  "longDescription": "",
                  "name": "CatchUpDuration",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Draw the targeted and actual camera position.",
              "fullName": "Draw debug",
              "functionType": "Action",
              "group": "",
              "name": "DrawDebug",
              "private": false,
              "sentence": "Draw targeted and actual camera position for _PARAM0_ on _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PrimitiveDrawing::FillOpacity"
                      },
                      "parameters": [
                        "ShapePainter",
                        "=",
                        "0"
                      ]
                    }
                  ]
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Path used by the forecasting",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Egal"
                          },
                          "parameters": [
                            "Object.VariableChildCount(__SmoothCamera_ForecastHistoryTime)",
                            ">",
                            "0"
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "PrimitiveDrawing::OutlineColor"
                          },
                          "parameters": [
                            "ShapePainter",
                            "\"245;166;35\""
                          ]
                        },
                        {
                          "type": {
                            "value": "PrimitiveDrawing::BeginFillPath"
                          },
                          "parameters": [
                            "ShapePainter",
                            "Object.Variable(__SmoothCamera_ForecastHistoryX[0])",
                            "Object.Variable(__SmoothCamera_ForecastHistoryY[0])"
                          ]
                        }
                      ],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Repeat",
                          "repeatExpression": "Object.VariableChildCount(__SmoothCamera_ForecastHistoryX)",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "PrimitiveDrawing::PathLineTo"
                              },
                              "parameters": [
                                "ShapePainter",
                                "Object.Variable(__SmoothCamera_ForecastHistoryX[Object.Behavior::PropertyIndex()])",
                                "Object.Variable(__SmoothCamera_ForecastHistoryY[Object.Behavior::PropertyIndex()])"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "1"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "PrimitiveDrawing::EndFillPath"
                              },
                              "parameters": [
                                "ShapePainter"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Follow-free area.",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "BuiltinCommonInstructions::Or"
                          },
                          "parameters": [],
                          "subInstructions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaLeft"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "!=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaRight"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "!=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaTop"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "!=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::PropertyFollowFreeAreaBottom"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "!=",
                                "0"
                              ]
                            }
                          ]
                        }
                      ],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::OutlineColor"
                          },
                          "parameters": [
                            "ShapePainter",
                            "\"126;211;33\""
                          ]
                        },
                        {
                          "type": {
                            "value": "PrimitiveDrawing::Rectangle"
                          },
                          "parameters": [
                            "ShapePainter",
                            "Object.Behavior::FreeAreaLeft() - 1",
                            "Object.Behavior::FreeAreaTop() - 1",
                            "Object.Behavior::FreeAreaRight() + 1",
                            "Object.Behavior::FreeAreaBottom() + 1"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Linear regression vector used by the forcasting.",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::OutlineColor"
                          },
                          "parameters": [
                            "ShapePainter",
                            "\"208;2;27\""
                          ]
                        },
                        {
                          "type": {
                            "value": "PrimitiveDrawing::LineV2"
                          },
                          "parameters": [
                            "ShapePainter",
                            "Object.Behavior::PropertyProjectedOldestX()",
                            "Object.Behavior::PropertyProjectedOldestY()",
                            "Object.Behavior::PropertyProjectedNewestX()",
                            "Object.Behavior::PropertyProjectedNewestY()",
                            "1"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                },
                {
                  "colorB": 228,
                  "colorG": 176,
                  "colorR": 74,
                  "creationTime": 0,
                  "name": "Targeted and actual camera position",
                  "source": "",
                  "type": "BuiltinCommonInstructions::Group",
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "PrimitiveDrawing::Circle"
                          },
                          "parameters": [
                            "ShapePainter",
                            "Object.Behavior::PropertyForecastedX()",
                            "Object.Behavior::PropertyForecastedY()",
                            "3"
                          ]
                        },
                        {
                          "type": {
                            "value": "PrimitiveDrawing::LineV2"
                          },
                          "parameters": [
                            "ShapePainter",
                            "CameraX(Object.Layer(), 0)",
                            "CameraY(Object.Layer(), 0) - 4",
                            "CameraX(Object.Layer(), 0)",
                            "CameraY(Object.Layer(), 0) + 4",
                            "1"
                          ]
                        },
                        {
                          "type": {
                            "value": "PrimitiveDrawing::LineV2"
                          },
                          "parameters": [
                            "ShapePainter",
                            "CameraX(Object.Layer(), 0) - 4",
                            "CameraY(Object.Layer(), 0)",
                            "CameraX(Object.Layer(), 0) + 4",
                            "CameraY(Object.Layer(), 0)",
                            "1"
                          ]
                        }
                      ]
                    }
                  ],
                  "parameters": []
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Shape painter",
                  "longDescription": "",
                  "name": "ShapePainter",
                  "optional": false,
                  "supplementaryInformation": "PrimitiveDrawing::Drawer",
                  "type": "objectList"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Enable or disable the following on X axis.",
              "fullName": "Follow on X",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetFollowOnX",
              "private": false,
              "sentence": "The camera follows _PARAM0_ on X axis: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"FollowOnX\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Follow on X axis",
                  "longDescription": "",
                  "name": "FollowOnX",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Enable or disable the following on Y axis.",
              "fullName": "Follow on Y",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetFollowOnY",
              "private": false,
              "sentence": "The camera follows _PARAM0_ on Y axis: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "GetArgumentAsBoolean"
                      },
                      "parameters": [
                        "\"FollowOnY\""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowOnY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "yes"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Follow on Y axis",
                  "longDescription": "",
                  "name": "FollowOnY",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "yesorno"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera follow free area right border.",
              "fullName": "Follow free area right border",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetFollowFreeAreaRight",
              "private": false,
              "sentence": "Change the camera follow free area right border of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"SetFollowFreeAreaRight\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Follow free area right border",
                  "longDescription": "",
                  "name": "SetFollowFreeAreaRight",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera follow free area left border.",
              "fullName": "Follow free area left border",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetFollowFreeAreaLeft",
              "private": false,
              "sentence": "Change the camera follow free area left border of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"SetFollowFreeAreaLeft\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Follow free area left border",
                  "longDescription": "",
                  "name": "SetFollowFreeAreaLeft",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera follow free area top border.",
              "fullName": "Follow free area top border",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetFollowFreeAreaTop",
              "private": false,
              "sentence": "Change the camera follow free area top border of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaTop"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"FollowFreeAreaTop\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Follow free area top border",
                  "longDescription": "",
                  "name": "FollowFreeAreaTop",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera follow free area bottom border.",
              "fullName": "Follow free area bottom border",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetFollowFreeAreaBottom",
              "private": false,
              "sentence": "Change the camera follow free area bottom border of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyFollowFreeAreaBottom"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"SetFollowFreeAreaBottom\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Follow free area bottom border",
                  "longDescription": "",
                  "name": "SetFollowFreeAreaBottom",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera leftward maximum speed (in pixels per second).",
              "fullName": "Leftward maximum speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetLeftwardSpeedMax",
              "private": false,
              "sentence": "Change the camera leftward maximum speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"Speed\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Leftward maximum speed (in ratio per second)",
                  "longDescription": "",
                  "name": "Speed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera rightward maximum speed (in pixels per second).",
              "fullName": "Rightward maximum speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetRightwardSpeedMax",
              "private": false,
              "sentence": "Change the camera rightward maximum speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"Speed\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Rightward maximum speed (in pixels per second)",
                  "longDescription": "",
                  "name": "Speed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera upward maximum speed (in pixels per second).",
              "fullName": "Upward maximum speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetUpwardSpeedMax",
              "private": false,
              "sentence": "Change the camera upward maximum speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyUpwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"Speed\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Upward maximum speed (in pixels per second)",
                  "longDescription": "",
                  "name": "Speed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera downward maximum speed (in pixels per second).",
              "fullName": "Downward maximum speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetDownwardSpeedMax",
              "private": false,
              "sentence": "Change the camera downward maximum speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyDownwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, GetArgumentAsNumber(\"Speed\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Downward maximum speed (in pixels per second)",
                  "longDescription": "",
                  "name": "Speed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera leftward catch-up speed (in ratio per second).",
              "fullName": "Leftward catch-up speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetLeftwardSpeed",
              "private": false,
              "sentence": "Change the camera leftward catch-up speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLeftwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "clamp(0, 1, GetArgumentAsNumber(\"LeftwardSpeed\"))"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLogLeftwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "log(1 - Object.Behavior::PropertyLeftwardSpeed())"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Leftward catch-up speed (in ratio per second)",
                  "longDescription": "",
                  "name": "LeftwardSpeed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera rightward catch-up speed (in ratio per second).",
              "fullName": "Rightward catch-up speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetRightwardSpeed",
              "private": false,
              "sentence": "Change the camera rightward catch-up speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyRightwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "clamp(0, 1, GetArgumentAsNumber(\"RightwardSpeed\"))"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLogRightwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "log(1 - Object.Behavior::PropertyRightwardSpeed())"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Rightward catch-up speed (in ratio per second)",
                  "longDescription": "",
                  "name": "RightwardSpeed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera downward catch-up speed (in ratio per second).",
              "fullName": "Downward catch-up speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetDownwardSpeed",
              "private": false,
              "sentence": "Change the camera downward catch-up speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyDownwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "clamp(0, 1, GetArgumentAsNumber(\"DownwardSpeed\"))"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLogDownwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "log(1 - Object.Behavior::PropertyDownwardSpeed())"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Downward catch-up speed (in ratio per second)",
                  "longDescription": "",
                  "name": "DownwardSpeed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera upward catch-up speed (in ratio per second).",
              "fullName": "Upward catch-up speed",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetUpwardSpeed",
              "private": false,
              "sentence": "Change the camera upward catch-up speed of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyUpwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "clamp(0, 1, GetArgumentAsNumber(\"UpwardSpeed\"))"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyLogUpwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "log(1 - Object.Behavior::PropertyUpwardSpeed())"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Upward catch-up speed (in ratio per second)",
                  "longDescription": "",
                  "name": "UpwardSpeed",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera offset on X axis of an object.",
              "fullName": "Camera Offset X",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetOffsetX",
              "private": false,
              "sentence": "Change the camera offset on X axis of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraOffsetX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"CameraOffsetX\")"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Camera offset X",
                  "longDescription": "",
                  "name": "CameraOffsetX",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera offset on Y axis of an object.",
              "fullName": "Camera Offset Y",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetOffsetY",
              "private": false,
              "sentence": "Change the camera offset on Y axis of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraOffsetY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"CameraOffsetY\")"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Camera offset X",
                  "longDescription": "",
                  "name": "CameraOffsetX",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera forecast time (in seconds).",
              "fullName": "Forecast time",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetForecastTime",
              "private": false,
              "sentence": "Change the camera forecast time of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastTime"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "min(0, GetArgumentAsNumber(\"ForecastTime\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Forecast time",
                  "longDescription": "",
                  "name": "ForecastTime",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Change the camera delay (in seconds).",
              "fullName": "Camera delay",
              "functionType": "Action",
              "group": "Camera configuration",
              "name": "SetCameraDelay",
              "private": false,
              "sentence": "Change the camera delay of _PARAM0_: _PARAM2_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelay"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "min(0, GetArgumentAsNumber(\"CameraDelay\"))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Camera delay",
                  "longDescription": "",
                  "name": "CameraDelay",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return follow free area left border X.",
              "fullName": "Free area left",
              "functionType": "Expression",
              "group": "Private",
              "name": "FreeAreaLeft",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() - Object.Behavior::PropertyFollowFreeAreaLeft()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return follow free area right border X.",
              "fullName": "Free area right",
              "functionType": "Expression",
              "group": "Private",
              "name": "FreeAreaRight",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyForecastedX() + Object.Behavior::PropertyCameraOffsetX() + Object.Behavior::PropertyFollowFreeAreaRight()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return follow free area bottom border Y.",
              "fullName": "Free area bottom",
              "functionType": "Expression",
              "group": "Private",
              "name": "FreeAreaBottom",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() + Object.Behavior::PropertyFollowFreeAreaBottom()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return follow free area top border Y.",
              "fullName": "Free area top",
              "functionType": "Expression",
              "group": "Private",
              "name": "FreeAreaTop",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyForecastedY() + Object.Behavior::PropertyCameraOffsetY() - Object.Behavior::PropertyFollowFreeAreaTop()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Update delayed position and delayed history. This is called in doStepPreEvents.",
              "fullName": "Update delayed position",
              "functionType": "Action",
              "group": "Private",
              "name": "UpdateDelayedPosition",
              "private": true,
              "sentence": "Update delayed position and delayed history of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Add the previous position to have enough (2) positions to evaluate the extra delay for waiting mode.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::IsWaiting"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.VariableChildCount(__SmoothCamera_ObjectTime)",
                        "=",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectTime",
                        "TimeFromStart()"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectX",
                        "Object.Behavior::PropertyDelayedCenterX()"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectY",
                        "Object.Behavior::PropertyDelayedCenterY()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Use the object center when no delay is asked.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.CenterX()"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.CenterY()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "SmoothCamera::SmoothCamera::IsDelayed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::AddForecastHistoryPosition"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "TimeFromStart()",
                        "Object.CenterX()",
                        "Object.CenterY()",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::IsDelayed"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::IsWaiting"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ""
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectTime",
                        "TimeFromStart()"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectX",
                        "Object.CenterX()"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectY",
                        "Object.CenterY()"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Remove history entries that are too old to be useful for delaying and pass it to the history for forecasting.",
                      "comment2": ""
                    },
                    {
                      "infiniteLoopWarning": true,
                      "type": "BuiltinCommonInstructions::While",
                      "whileConditions": [
                        {
                          "type": {
                            "value": "Egal"
                          },
                          "parameters": [
                            "Object.VariableChildCount(__SmoothCamera_ObjectTime)",
                            ">=",
                            "2"
                          ]
                        },
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ObjectTime[1]",
                            "<",
                            "TimeFromStart() - Object.Behavior::CurrentDelay()"
                          ]
                        }
                      ],
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::AddForecastHistoryPosition"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "Object.Variable(__SmoothCamera_ObjectTime[0])",
                            "Object.Variable(__SmoothCamera_ObjectX[0])",
                            "Object.Variable(__SmoothCamera_ObjectY[0])",
                            ""
                          ]
                        },
                        {
                          "type": {
                            "value": "ObjectVariableRemoveAt"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ObjectTime",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "ObjectVariableRemoveAt"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ObjectX",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "ObjectVariableRemoveAt"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ObjectY",
                            "0"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Don't move the camera if there is not enough history.",
                      "comment2": ""
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "Object.Variable(__SmoothCamera_ObjectX[0])"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "Object.Variable(__SmoothCamera_ObjectY[0])"
                          ]
                        }
                      ]
                    },
                    {
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [
                        {
                          "type": {
                            "value": "Egal"
                          },
                          "parameters": [
                            "Object.VariableChildCount(__SmoothCamera_ObjectTime)",
                            ">=",
                            "2"
                          ]
                        },
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ObjectTime[0]",
                            "<",
                            "TimeFromStart() - Object.Behavior::CurrentDelay()"
                          ]
                        }
                      ],
                      "actions": [],
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "Add the extra delay that could be needed to respect the speed limit in waiting mode.\n\nspeedRatio = min(speedMaxX / historySpeedX, speedMaxY / historySpeedY)\ndelay += min(0, timeDelta * (1 - speedRatio))",
                          "comment2": ""
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::IsWaiting"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                ""
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "max(0, TimeDelta() * (1 - min(Object.Behavior::PropertyWaitingSpeedXMax() * abs(Object.Variable(__SmoothCamera_ObjectX[1]) - Object.Variable(__SmoothCamera_ObjectX[0])), Object.Behavior::PropertyWaitingSpeedYMax() * abs(Object.Variable(__SmoothCamera_ObjectY[1]) - Object.Variable(__SmoothCamera_ObjectY[0]))) / (Object.Variable(__SmoothCamera_ObjectTime[1]) - Object.Variable(__SmoothCamera_ObjectTime[0]))))"
                              ]
                            }
                          ],
                          "events": [
                            {
                              "disabled": true,
                              "type": "BuiltinCommonInstructions::Standard",
                              "conditions": [],
                              "actions": [
                                {
                                  "type": {
                                    "value": "DebuggerTools::ConsoleLog"
                                  },
                                  "parameters": [
                                    "\"Extra delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())",
                                    "\"info\"",
                                    "\"SmoothCamera\""
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "The time with delay is now between the first 2 indexes",
                          "comment2": ""
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "lerp(Object.Variable(__SmoothCamera_ObjectX[1]), Object.Variable(__SmoothCamera_ObjectX[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera_ObjectTime[1])) / (Object.Variable(__SmoothCamera_ObjectTime[0]) - Object.Variable(__SmoothCamera_ObjectTime[1])))"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyDelayedCenterY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "lerp(Object.Variable(__SmoothCamera_ObjectY[1]), Object.Variable(__SmoothCamera_ObjectY[0]), ((TimeFromStart() - Object.Behavior::CurrentDelay()) - Object.Variable(__SmoothCamera_ObjectTime[1])) / (Object.Variable(__SmoothCamera_ObjectTime[0]) - Object.Variable(__SmoothCamera_ObjectTime[1])))"
                              ]
                            }
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "SmoothCamera::SmoothCamera::IsDelayed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "inverted": true,
                        "value": "SmoothCamera::SmoothCamera::IsWaiting"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ObjectVariableClearChildren"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectTime"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableClearChildren"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectX"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariableClearChildren"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ObjectY"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "SmoothCamera::SmoothCamera::IsWaiting"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Once"
                      },
                      "parameters": []
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraDelayCatchUpSpeed"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertyCameraExtraDelay() / Object.Behavior::PropertyCameraDelayCatchUpDuration()"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "disabled": true,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "DebuggerTools::ConsoleLog"
                          },
                          "parameters": [
                            "\"Start to catch up\"",
                            "\"info\"",
                            "\"SmoothCamera\""
                          ]
                        }
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "SmoothCamera::SmoothCamera::IsWaiting"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyCameraExtraDelay"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyCameraExtraDelay"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "max(0, Object.Behavior::PropertyCameraExtraDelay() -Object.Behavior::PropertyCameraDelayCatchUpSpeed() * TimeDelta())"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "disabled": true,
                      "type": "BuiltinCommonInstructions::Standard",
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "DebuggerTools::ConsoleLog"
                          },
                          "parameters": [
                            "\"Catching up delay: \" + ToString(Object.Behavior::PropertyCameraExtraDelay())",
                            "\"info\"",
                            "\"SmoothCamera\""
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the camera following target is delayed from the object.",
              "fullName": "Camera is delayed",
              "functionType": "Condition",
              "group": "",
              "name": "IsDelayed",
              "private": true,
              "sentence": "The camera of _PARAM0_ is delayed",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.Behavior::CurrentDelay()",
                        ">",
                        "0"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return the current camera delay.",
              "fullName": "Current delay",
              "functionType": "Expression",
              "group": "",
              "name": "CurrentDelay",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "Object.Behavior::PropertyCameraDelay() + Object.Behavior::PropertyCameraExtraDelay()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Check if the camera following is waiting at a reduced speed.",
              "fullName": "Camera is waiting",
              "functionType": "Condition",
              "group": "",
              "name": "IsWaiting",
              "private": true,
              "sentence": "The camera of _PARAM0_ is waiting",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::PropertyWaitingEnd"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        ">",
                        "TimeFromStart()"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Add a position to the history for forecasting. This is called 2 times in UpadteDelayedPosition.",
              "fullName": "Add forecast history position",
              "functionType": "Action",
              "group": "Private",
              "name": "AddForecastHistoryPosition",
              "private": true,
              "sentence": "Add the time:_PARAM2_ and position: _PARAM3_; _PARAM4_ to the forecast history of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ">",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyForecastTime"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ">",
                            "0"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ForecastHistoryTime",
                        "GetArgumentAsNumber(\"Time\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ForecastHistoryX",
                        "GetArgumentAsNumber(\"ObjectX\")"
                      ]
                    },
                    {
                      "type": {
                        "value": "ObjectVariablePushNumber"
                      },
                      "parameters": [
                        "Object",
                        "__SmoothCamera_ForecastHistoryY",
                        "GetArgumentAsNumber(\"ObjectY\")"
                      ]
                    }
                  ],
                  "events": [
                    {
                      "type": "BuiltinCommonInstructions::Comment",
                      "color": {
                        "b": 109,
                        "g": 230,
                        "r": 255,
                        "textB": 0,
                        "textG": 0,
                        "textR": 0
                      },
                      "comment": "Remove history entries that are too old to be useful.\nKeep at least 2 positions because no forecast can be done with less positions.",
                      "comment2": ""
                    },
                    {
                      "infiniteLoopWarning": true,
                      "type": "BuiltinCommonInstructions::While",
                      "whileConditions": [
                        {
                          "type": {
                            "value": "Egal"
                          },
                          "parameters": [
                            "Object.VariableChildCount(__SmoothCamera_ForecastHistoryTime)",
                            ">=",
                            "3"
                          ]
                        },
                        {
                          "type": {
                            "value": "VarObjet"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ForecastHistoryTime[0]",
                            "<",
                            "TimeFromStart() - Object.Behavior::PropertyCameraDelay() - Object.Behavior::PropertyCameraExtraDelay() - Object.Behavior::PropertyForecastHistoryDuration()"
                          ]
                        }
                      ],
                      "conditions": [],
                      "actions": [
                        {
                          "type": {
                            "value": "ObjectVariableRemoveAt"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ForecastHistoryTime",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "ObjectVariableRemoveAt"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ForecastHistoryX",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "ObjectVariableRemoveAt"
                          },
                          "parameters": [
                            "Object",
                            "__SmoothCamera_ForecastHistoryY",
                            "0"
                          ]
                        }
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Time",
                  "longDescription": "",
                  "name": "Time",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object X",
                  "longDescription": "",
                  "name": "ObjectX",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object Y",
                  "longDescription": "",
                  "name": "ObjectY",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Update forecasted position. This is called in doStepPreEvents.",
              "fullName": "Update forecasted position",
              "functionType": "Action",
              "group": "Private",
              "name": "UpdateForecastedPosition",
              "private": true,
              "sentence": "Update forecasted position of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertyDelayedCenterX()"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "Object.Behavior::PropertyDelayedCenterY()"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Simple linear regression\ny = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX\n\nNote than we could use only one position every N positions to reduce the process time,\nbut if we really need efficient process JavaScript and circular queues are a must.",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "Object.VariableChildCount(__SmoothCamera_ForecastHistoryTime)",
                        ">=",
                        "2"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyForecastHistoryDuration"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ">",
                            "0"
                          ]
                        },
                        {
                          "type": {
                            "value": "SmoothCamera::SmoothCamera::PropertyForecastTime"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            ">",
                            "0"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [],
                  "events": [
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Mean X",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Repeat",
                          "repeatExpression": "Object.VariableChildCount(__SmoothCamera_ForecastHistoryX)",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "Object.Variable(__SmoothCamera_ForecastHistoryX[Object.Behavior::PropertyIndex()])"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "1"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "/",
                                "Object.VariableChildCount(__SmoothCamera_ForecastHistoryX)"
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Mean Y",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Repeat",
                          "repeatExpression": "Object.VariableChildCount(__SmoothCamera_ForecastHistoryY)",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "Object.Variable(__SmoothCamera_ForecastHistoryY[Object.Behavior::PropertyIndex()])"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "1"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryMeanY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "/",
                                "Object.VariableChildCount(__SmoothCamera_ForecastHistoryY)"
                              ]
                            }
                          ]
                        },
                        {
                          "disabled": true,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "DebuggerTools::ConsoleLog"
                              },
                              "parameters": [
                                "\"Mean: \" + ToString(Object.Behavior::PropertyForecastHistoryMeanX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryMeanY())",
                                "",
                                ""
                              ]
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    },
                    {
                      "colorB": 228,
                      "colorG": 176,
                      "colorR": 74,
                      "creationTime": 0,
                      "name": "Variance and Covariance",
                      "source": "",
                      "type": "BuiltinCommonInstructions::Group",
                      "events": [
                        {
                          "type": "BuiltinCommonInstructions::Comment",
                          "color": {
                            "b": 109,
                            "g": 230,
                            "r": 255,
                            "textB": 0,
                            "textG": 0,
                            "textR": 0
                          },
                          "comment": "VarianceX = sum((X[i] - MeanX))\nVarianceY = sum((Y[i] - MeanY))\nCovariance = sum((X[i] - MeanX) * (Y[i] - MeanY))",
                          "comment2": ""
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "0"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Repeat",
                          "repeatExpression": "Object.VariableChildCount(__SmoothCamera_ForecastHistoryX)",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "pow(Object.Variable(__SmoothCamera_ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX(), 2)"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryVarianceY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "pow(Object.Variable(__SmoothCamera_ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY(), 2)"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryCovariance"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "(Object.Variable(__SmoothCamera_ForecastHistoryX[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanX())\n*\n(Object.Variable(__SmoothCamera_ForecastHistoryY[Object.Behavior::PropertyIndex()]) - Object.Behavior::PropertyForecastHistoryMeanY())"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "+",
                                "1"
                              ]
                            }
                          ]
                        },
                        {
                          "disabled": true,
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [],
                          "actions": [
                            {
                              "type": {
                                "value": "DebuggerTools::ConsoleLog"
                              },
                              "parameters": [
                                "\"Variances: \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceX()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryVarianceY()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryCovariance())",
                                "\"info\"",
                                "\"SmoothCamera\""
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "Egal"
                              },
                              "parameters": [
                                "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                "<",
                                "1"
                              ]
                            },
                            {
                              "type": {
                                "value": "Egal"
                              },
                              "parameters": [
                                "abs(Object.Behavior::PropertyForecastHistoryVarianceY())",
                                "<",
                                "1"
                              ]
                            }
                          ],
                          "actions": [
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedX"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "Object.Behavior::PropertyDelayedCenterX()"
                              ]
                            },
                            {
                              "type": {
                                "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedY"
                              },
                              "parameters": [
                                "Object",
                                "Behavior",
                                "=",
                                "Object.Behavior::PropertyDelayedCenterY()"
                              ]
                            }
                          ]
                        },
                        {
                          "type": "BuiltinCommonInstructions::Standard",
                          "conditions": [
                            {
                              "type": {
                                "value": "BuiltinCommonInstructions::Or"
                              },
                              "parameters": [],
                              "subInstructions": [
                                {
                                  "type": {
                                    "value": "Egal"
                                  },
                                  "parameters": [
                                    "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                    ">=",
                                    "1"
                                  ]
                                },
                                {
                                  "type": {
                                    "value": "Egal"
                                  },
                                  "parameters": [
                                    "abs(Object.Behavior::PropertyForecastHistoryVarianceY())",
                                    ">=",
                                    "1"
                                  ]
                                }
                              ]
                            }
                          ],
                          "actions": [],
                          "events": [
                            {
                              "colorB": 228,
                              "colorG": 176,
                              "colorR": 74,
                              "creationTime": 0,
                              "name": "Linear function parameters",
                              "source": "",
                              "type": "BuiltinCommonInstructions::Group",
                              "events": [
                                {
                                  "type": "BuiltinCommonInstructions::Comment",
                                  "color": {
                                    "b": 109,
                                    "g": 230,
                                    "r": 255,
                                    "textB": 0,
                                    "textG": 0,
                                    "textR": 0
                                  },
                                  "comment": "y = A * x + B\n\nA = Covariance / VarianceX\nB = MeanY - A * MeanX",
                                  "comment2": ""
                                },
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "Egal"
                                      },
                                      "parameters": [
                                        "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                        ">=",
                                        "abs(Object.Behavior::PropertyForecastHistoryVarianceY())"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceX()"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "Object.Behavior::PropertyForecastHistoryMeanY() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanX()"
                                      ]
                                    }
                                  ],
                                  "events": [
                                    {
                                      "disabled": true,
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "DebuggerTools::ConsoleLog"
                                          },
                                          "parameters": [
                                            "\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())",
                                            "\"info\"",
                                            "\"SmoothCamera\""
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "colorB": 228,
                                      "colorG": 176,
                                      "colorR": 74,
                                      "creationTime": 0,
                                      "name": "Projection",
                                      "source": "",
                                      "type": "BuiltinCommonInstructions::Group",
                                      "events": [
                                        {
                                          "type": "BuiltinCommonInstructions::Standard",
                                          "conditions": [],
                                          "actions": [
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::ProjectHistoryEnds"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryX[0])",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryY[0])",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryX[Object.VariableChildCount(__SmoothCamera_ForecastHistoryX) - 1])",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryY[Object.VariableChildCount(__SmoothCamera_ForecastHistoryY) - 1])",
                                                ""
                                              ]
                                            }
                                          ]
                                        }
                                      ],
                                      "parameters": []
                                    }
                                  ]
                                },
                                {
                                  "type": "BuiltinCommonInstructions::Comment",
                                  "color": {
                                    "b": 109,
                                    "g": 230,
                                    "r": 255,
                                    "textB": 0,
                                    "textG": 0,
                                    "textR": 0
                                  },
                                  "comment": "Axis permutation to avoid a ratio between 2 numbers near 0.",
                                  "comment2": ""
                                },
                                {
                                  "type": "BuiltinCommonInstructions::Standard",
                                  "conditions": [
                                    {
                                      "type": {
                                        "value": "Egal"
                                      },
                                      "parameters": [
                                        "abs(Object.Behavior::PropertyForecastHistoryVarianceX())",
                                        "<",
                                        "abs(Object.Behavior::PropertyForecastHistoryVarianceY())"
                                      ]
                                    }
                                  ],
                                  "actions": [
                                    {
                                      "type": {
                                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearA"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "Object.Behavior::PropertyForecastHistoryCovariance() / Object.Behavior::PropertyForecastHistoryVarianceY()"
                                      ]
                                    },
                                    {
                                      "type": {
                                        "value": "SmoothCamera::SmoothCamera::SetPropertyForecastHistoryLinearB"
                                      },
                                      "parameters": [
                                        "Object",
                                        "Behavior",
                                        "=",
                                        "Object.Behavior::PropertyForecastHistoryMeanX() - Object.Behavior::PropertyForecastHistoryLinearA() * Object.Behavior::PropertyForecastHistoryMeanY()"
                                      ]
                                    }
                                  ],
                                  "events": [
                                    {
                                      "disabled": true,
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "DebuggerTools::ConsoleLog"
                                          },
                                          "parameters": [
                                            "\"Linear: \" + ToString(Object.Behavior::PropertyForecastHistoryLinearA()) + \" \" + ToString(Object.Behavior::PropertyForecastHistoryLinearB())",
                                            "\"info\"",
                                            "\"SmoothCamera\""
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "colorB": 228,
                                      "colorG": 176,
                                      "colorR": 74,
                                      "creationTime": 0,
                                      "name": "Projection",
                                      "source": "",
                                      "type": "BuiltinCommonInstructions::Group",
                                      "events": [
                                        {
                                          "type": "BuiltinCommonInstructions::Standard",
                                          "conditions": [],
                                          "actions": [
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::ProjectHistoryEnds"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryY[0])",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryX[0])",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryY[Object.VariableChildCount(__SmoothCamera_ForecastHistoryY) - 1])",
                                                "Object.Variable(__SmoothCamera_ForecastHistoryX[Object.VariableChildCount(__SmoothCamera_ForecastHistoryX) - 1])",
                                                ""
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "BuiltinCommonInstructions::Comment",
                                          "color": {
                                            "b": 109,
                                            "g": 230,
                                            "r": 255,
                                            "textB": 0,
                                            "textG": 0,
                                            "textR": 0
                                          },
                                          "comment": "Permute back axis",
                                          "comment2": ""
                                        },
                                        {
                                          "type": "BuiltinCommonInstructions::Standard",
                                          "conditions": [],
                                          "actions": [
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "Object.Behavior::PropertyProjectedOldestX()"
                                              ]
                                            },
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "Object.Behavior::PropertyProjectedOldestY()"
                                              ]
                                            },
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "Object.Behavior::PropertyIndex()"
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "type": "BuiltinCommonInstructions::Standard",
                                          "conditions": [],
                                          "actions": [
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::SetPropertyIndex"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "Object.Behavior::PropertyProjectedNewestX()"
                                              ]
                                            },
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "Object.Behavior::PropertyProjectedNewestY()"
                                              ]
                                            },
                                            {
                                              "type": {
                                                "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"
                                              },
                                              "parameters": [
                                                "Object",
                                                "Behavior",
                                                "=",
                                                "Object.Behavior::PropertyIndex()"
                                              ]
                                            }
                                          ]
                                        }
                                      ],
                                      "parameters": []
                                    },
                                    {
                                      "disabled": true,
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "DebuggerTools::ConsoleLog"
                                          },
                                          "parameters": [
                                            "\"Oldest: \" + ToString(Object.Behavior::PropertyProjectedOldestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedOldestY())",
                                            "\"info\"",
                                            "\"SmoothCamera\""
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "disabled": true,
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "DebuggerTools::ConsoleLog"
                                          },
                                          "parameters": [
                                            "\"Newest: \" + ToString(Object.Behavior::PropertyProjectedNewestX()) + \" \" + ToString(Object.Behavior::PropertyProjectedNewestY())",
                                            "\"info\"",
                                            "\"SmoothCamera\""
                                          ]
                                        }
                                      ]
                                    }
                                  ]
                                },
                                {
                                  "colorB": 228,
                                  "colorG": 176,
                                  "colorR": 74,
                                  "creationTime": 0,
                                  "name": "Forcasted position",
                                  "source": "",
                                  "type": "BuiltinCommonInstructions::Group",
                                  "events": [
                                    {
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedX"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyProjectedNewestX() + ( Object.Behavior::PropertyProjectedNewestX() - Object.Behavior::PropertyProjectedOldestX()) * Object.Behavior::ForecastTimeRatio()"
                                          ]
                                        },
                                        {
                                          "type": {
                                            "value": "SmoothCamera::SmoothCamera::SetPropertyForecastedY"
                                          },
                                          "parameters": [
                                            "Object",
                                            "Behavior",
                                            "=",
                                            "Object.Behavior::PropertyProjectedNewestY() + ( Object.Behavior::PropertyProjectedNewestY() - Object.Behavior::PropertyProjectedOldestY()) * Object.Behavior::ForecastTimeRatio()"
                                          ]
                                        }
                                      ]
                                    },
                                    {
                                      "disabled": true,
                                      "type": "BuiltinCommonInstructions::Standard",
                                      "conditions": [],
                                      "actions": [
                                        {
                                          "type": {
                                            "value": "DebuggerTools::ConsoleLog"
                                          },
                                          "parameters": [
                                            "\"Forecasted: \" + ToString(Object.Behavior::PropertyForecastedX()) + \" \" + ToString(Object.Behavior::PropertyForecastedY())",
                                            "\"info\"",
                                            "\"SmoothCamera\""
                                          ]
                                        }
                                      ]
                                    }
                                  ],
                                  "parameters": []
                                }
                              ],
                              "parameters": []
                            }
                          ]
                        }
                      ],
                      "parameters": []
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Project history ends position to have the vector on the line from linear regression. This function is only called by UpdateForecastedPosition.",
              "fullName": "Project history ends",
              "functionType": "Action",
              "group": "Private",
              "name": "ProjectHistoryEnds",
              "private": true,
              "sentence": "Project history oldest: _PARAM2_;_PARAM3_ and newest position: _PARAM4_;_PARAM5_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Comment",
                  "color": {
                    "b": 109,
                    "g": 230,
                    "r": 255,
                    "textB": 0,
                    "textG": 0,
                    "textR": 0
                  },
                  "comment": "Perpendicular line:\npA = -1/a; \npB = -pA * x + y\n\nIntersection:\n/ ProjectedY = a * ProjectedX + b\n\\ ProjectedY = pA * ProjectedX + b\n\nSolution that is cleaned out from indeterminism (like 0 / 0 or infinity / infinity):\nProjectedX= (x + (y - b) * a) / (a + 1)\nProjectedY = y + (x * a - y + b) / (a + 1)",
                  "comment2": ""
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "(GetArgumentAsNumber(\"NewestX\") + (GetArgumentAsNumber(\"NewestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedNewestY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"NewestY\") + (GetArgumentAsNumber(\"NewestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"NewestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestX"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "(GetArgumentAsNumber(\"OldestX\") + (GetArgumentAsNumber(\"OldestY\") - Object.Behavior::PropertyForecastHistoryLinearB()) * Object.Behavior::PropertyForecastHistoryLinearA()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetPropertyProjectedOldestY"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "GetArgumentAsNumber(\"OldestY\") + (GetArgumentAsNumber(\"OldestX\") * Object.Behavior::PropertyForecastHistoryLinearA() - GetArgumentAsNumber(\"OldestY\") \n+ Object.Behavior::PropertyForecastHistoryLinearB()) / (1 + pow(Object.Behavior::PropertyForecastHistoryLinearA(), 2))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "OldestX",
                  "longDescription": "",
                  "name": "OldestX",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "OldestY",
                  "longDescription": "",
                  "name": "OldestY",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Newest X",
                  "longDescription": "",
                  "name": "NewestX",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Newest Y",
                  "longDescription": "",
                  "name": "NewestY",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "expression"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Return the ratio between forecast time and the duration of the history. This function is only called by UpdateForecastedPosition.",
              "fullName": "Forecast time ratio",
              "functionType": "Expression",
              "group": "Private",
              "name": "ForecastTimeRatio",
              "private": true,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "SetReturnNumber"
                      },
                      "parameters": [
                        "- Object.Behavior::PropertyForecastTime() / (Object.Variable(__SmoothCamera_ForecastHistoryTime[0]) - Object.Variable(__SmoothCamera_ForecastHistoryTime[Object.VariableChildCount(__SmoothCamera_ForecastHistoryTime) - 1]))"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "0.9",
              "type": "Number",
              "label": "Leftward catch-up speed (in ratio per second)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "LeftwardSpeed"
            },
            {
              "value": "0.9",
              "type": "Number",
              "label": "Rightward catch-up speed (in ratio per second)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "RightwardSpeed"
            },
            {
              "value": "0.9",
              "type": "Number",
              "label": "Upward catch-up speed (in ratio per second)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "UpwardSpeed"
            },
            {
              "value": "0.9",
              "type": "Number",
              "label": "Downward catch-up speed (in ratio per second)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "DownwardSpeed"
            },
            {
              "value": "true",
              "type": "Boolean",
              "label": "Follow on X axis",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": false,
              "name": "FollowOnX"
            },
            {
              "value": "true",
              "type": "Boolean",
              "label": "Follow on Y axis",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": false,
              "name": "FollowOnY"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area left border",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "FollowFreeAreaLeft"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area right border",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "FollowFreeAreaRight"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area top border",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "FollowFreeAreaTop"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area bottom border",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "FollowFreeAreaBottom"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Camera offset X",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "CameraOffsetX"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Camera offset Y",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "CameraOffsetY"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Camera delay (in seconds)",
              "description": "",
              "group": "Timing",
              "extraInformation": [],
              "hidden": false,
              "name": "CameraDelay"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Forcast time (in seconds)",
              "description": "",
              "group": "Timing",
              "extraInformation": [],
              "hidden": false,
              "name": "ForecastTime"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Forecast history duration (in second)",
              "description": "",
              "group": "Timing",
              "extraInformation": [],
              "hidden": false,
              "name": "ForecastHistoryDuration"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "LogLeftwardSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "LogRightwardSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "LogDownwardSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "LogUpwardSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "DelayedCenterX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "DelayedCenterY"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryMeanX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryMeanY"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryVarianceX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryCovariance"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryLinearA"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryLinearB"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastedX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastedY"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ProjectedNewestX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ProjectedNewestY"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ProjectedOldestX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ProjectedOldestY"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "ForecastHistoryVarianceY"
            },
            {
              "value": "",
              "type": "Number",
              "label": "Index (local variable)",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "Index"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CameraDelayCatchUpSpeed"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CameraExtraDelay"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "WaitingSpeedXMax"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "WaitingSpeedYMax"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "WaitingEnd"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "CameraDelayCatchUpDuration"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Leftward maximum speed (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "LeftwardSpeedMax"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Rightward maximum speed (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "RightwardSpeedMax"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Upward maximum speed (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "UpwardSpeedMax"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Downward maximum speed (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "DownwardSpeedMax"
            },
            {
              "value": "",
              "type": "Number",
              "label": "OldX (local variable)",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "OldX"
            },
            {
              "value": "",
              "type": "Number",
              "label": "OldY (local variable)",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "OldY"
            }
          ]
        },
        {
          "description": "Smoothly scroll to follow a character and stabilize the camera when jumping.",
          "fullName": "Smooth platformer camera",
          "name": "SmoothPlatformerCamera",
          "objectType": "",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "doStepPreEvents",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "inverted": true,
                        "value": "PlatformBehavior::IsJumping"
                      },
                      "parameters": [
                        "Object",
                        "PlatformerCharacter"
                      ]
                    },
                    {
                      "type": {
                        "inverted": true,
                        "value": "PlatformBehavior::IsFalling"
                      },
                      "parameters": [
                        "Object",
                        "PlatformerCharacter"
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyFloorFollowFreeAreaTop()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyFloorFollowFreeAreaBottom()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetUpwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyFloorUpwardSpeed()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetDownwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyFloorDownwardSpeed()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetUpwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyFloorUpwardSpeedMax()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetDownwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyFloorDownwardSpeedMax()",
                        ""
                      ]
                    }
                  ]
                },
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "PlatformBehavior::IsJumping"
                          },
                          "parameters": [
                            "Object",
                            "PlatformerCharacter"
                          ]
                        },
                        {
                          "type": {
                            "value": "PlatformBehavior::IsFalling"
                          },
                          "parameters": [
                            "Object",
                            "PlatformerCharacter"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaBottom"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyAirFollowFreeAreaTop()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetFollowFreeAreaTop"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyAirFollowFreeAreaBottom()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetUpwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyAirUpwardSpeed()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetDownwardSpeed"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyAirDownwardSpeed()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetUpwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyAirUpwardSpeedMax()",
                        ""
                      ]
                    },
                    {
                      "type": {
                        "value": "SmoothCamera::SmoothCamera::SetDownwardSpeedMax"
                      },
                      "parameters": [
                        "Object",
                        "SmoothCamera",
                        "Object.Behavior::PropertyAirDownwardSpeedMax()",
                        ""
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "SmoothCamera::SmoothPlatformerCamera",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "",
              "type": "Behavior",
              "label": "Platformer character behavior",
              "description": "",
              "group": "",
              "extraInformation": [
                "PlatformBehavior::PlatformerObjectBehavior"
              ],
              "hidden": false,
              "name": "PlatformerCharacter"
            },
            {
              "value": "",
              "type": "Behavior",
              "label": "Smooth camera behavior",
              "description": "",
              "group": "",
              "extraInformation": [
                "SmoothCamera::SmoothCamera"
              ],
              "hidden": false,
              "name": "SmoothCamera"
            },
            {
              "value": "",
              "type": "Number",
              "label": "",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "JumpOriginY"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area top in the air",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "AirFollowFreeAreaTop"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area bottom in the air",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "AirFollowFreeAreaBottom"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area top on the floor",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "FloorFollowFreeAreaTop"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "Follow free area bottom on the floor",
              "description": "",
              "group": "Position",
              "extraInformation": [],
              "hidden": false,
              "name": "FloorFollowFreeAreaBottom"
            },
            {
              "value": "0.95",
              "type": "Number",
              "label": "Upward speed in the air (in ratio persecond)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "AirUpwardSpeed"
            },
            {
              "value": "0.95",
              "type": "Number",
              "label": "Downward speed in the air (in ratio persecond)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "AirDownwardSpeed"
            },
            {
              "value": "0.9",
              "type": "Number",
              "label": "Upward speed on the floor (in ratio persecond)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "FloorUpwardSpeed"
            },
            {
              "value": "0.9",
              "type": "Number",
              "label": "Downward speed on the floor (in ratio persecond)",
              "description": "",
              "group": "Catch-up speed",
              "extraInformation": [],
              "hidden": false,
              "name": "FloorDownwardSpeed"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Upward maximum speed in the air (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "AirUpwardSpeedMax"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Downward maximum speed in the air (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "AirDownwardSpeedMax"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Upward maximum speed on the floor (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "FloorUpwardSpeedMax"
            },
            {
              "value": "9000",
              "type": "Number",
              "label": "Downward maximum speed on the floor (in pixels per second)",
              "description": "",
              "group": "Maximum speed",
              "extraInformation": [],
              "hidden": false,
              "name": "FloorDownwardSpeedMax"
            }
          ]
        }
      ]
    },
    {
      "author": "",
      "category": "",
      "description": "## Description\n\nThis extension allows to zoom a camera on a layer at a given speed. The zoom speed is configurable and allows a constant as well as a variable zoom speed. An anchor point can be defined, for instance, to keep what is under the cursor at the same place on screen.\n\n### Actions\n\n- Zoom at a given speed\n- Change the zoom with an anchor point\n- Zoom at a given speed and with an anchor point",
      "extensionNamespace": "",
      "fullName": "Camera Zoom",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAyMy4wLjMsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iSWNvbnMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgMzIgMzIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDMyIDMyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPg0KCS5zdDB7ZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9DQo8L3N0eWxlPg0KPGxpbmUgY2xhc3M9InN0MCIgeDE9IjEzIiB5MT0iOSIgeDI9IjEzIiB5Mj0iMTciLz4NCjxsaW5lIGNsYXNzPSJzdDAiIHgxPSI5IiB5MT0iMTMiIHgyPSIxNyIgeTI9IjEzIi8+DQo8Y2lyY2xlIGNsYXNzPSJzdDAiIGN4PSIxMyIgY3k9IjEzIiByPSI5Ii8+DQo8cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTcsMjFsNyw3YzEuMSwxLjEsMi45LDEuMSw0LDBsMCwwYzEuMS0xLjEsMS4xLTIuOSwwLTRsLTctNyIvPg0KPC9zdmc+DQo=",
      "name": "CameraZoom",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/Line Hero Pack/Master/SVG/UI Essentials/UI Essentials_zoom_in_plus.svg",
      "shortDescription": "Allows to zoom camera on a layer with a speed (factor per second).",
      "version": "0.2.0",
      "origin": {
        "identifier": "CameraZoom",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "camera",
        "layer",
        "zoom"
      ],
      "authorIds": [
        "IWykYNRvhCZBN3vEgKEbBPOR3Oc2",
        "30b1QQoYi1gQQHzIjMlNY8aLyYV2"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Change the camera zoom at a given speed (in factor per second).",
          "fullName": "Zoom camera with speed",
          "functionType": "Action",
          "group": "",
          "name": "ZoomWithSpeed",
          "private": false,
          "sentence": "Zoom camera with speed: _PARAM1_ (layer: _PARAM2_, camera: _PARAM3_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "ZoomCamera"
                  },
                  "parameters": [
                    "",
                    "CameraZoom(GetArgumentAsString(\"Layer\"), GetArgumentAsNumber(\"Camera\")) * pow(GetArgumentAsNumber(\"ZoomSpeed\"), TimeDelta())",
                    "GetArgumentAsString(\"Layer\")",
                    "GetArgumentAsNumber(\"Camera\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Zoom speed",
              "longDescription": "Zoom by a factor per second. 1: no effect, 2: zoom in x2 every second, 0.5: zoom out x2 every second.",
              "name": "ZoomSpeed",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Layer",
              "longDescription": "",
              "name": "Layer",
              "optional": false,
              "supplementaryInformation": "",
              "type": "layer"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Camera number (default: 0)",
              "longDescription": "",
              "name": "Camera",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera zoom and keep an anchor point fixed on screen (instead of the center).",
          "fullName": "Zoom with anchor",
          "functionType": "Action",
          "group": "",
          "name": "ZoomWithAnchor",
          "private": false,
          "sentence": "Change camera zoom to: _PARAM1_ with an anchor at: _PARAM4_; _PARAM5_ (layer: _PARAM2_, camera: _PARAM3_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "When zooming the vector in pixels from the center to the anchor must stay the same.\nIt gives this system:\n\n/ pixel_delta(t-1) = (anchor - center(t-1)) * zoom(t-1)\n| pixel_delta(t) = (anchor - center(t)) * zoom(t)\n\\ pixel_delta(t) = pixel_delta(t-1)\n\nwhere the new center can be resolved to:\n\ncenter(t) = anchor + (center(t-1) - anchor) * zoom(t-1) / zoom(t)",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetCameraX"
                  },
                  "parameters": [
                    "",
                    "=",
                    "GetArgumentAsNumber(\"AnchorX\")\n+ (\n   CameraX(GetArgumentAsString(\"Layer\"), GetArgumentAsNumber(\"Camera\"))\n   - GetArgumentAsNumber(\"AnchorX\")\n)\n* CameraZoom(GetArgumentAsString(\"Layer\"), GetArgumentAsNumber(\"Camera\"))\n/ GetArgumentAsNumber(\"Zoom\")",
                    "\"\"",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "SetCameraY"
                  },
                  "parameters": [
                    "",
                    "=",
                    "GetArgumentAsNumber(\"AnchorY\")\n+ (\n   CameraY(GetArgumentAsString(\"Layer\"), GetArgumentAsNumber(\"Camera\"))\n   - GetArgumentAsNumber(\"AnchorY\")\n)\n* CameraZoom(GetArgumentAsString(\"Layer\"), GetArgumentAsNumber(\"Camera\"))\n/ GetArgumentAsNumber(\"Zoom\")",
                    "\"\"",
                    "0"
                  ]
                },
                {
                  "type": {
                    "value": "ZoomCamera"
                  },
                  "parameters": [
                    "",
                    "GetArgumentAsNumber(\"Zoom\")",
                    "GetArgumentAsString(\"Layer\")",
                    "GetArgumentAsNumber(\"Camera\")"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Zoom",
              "longDescription": "1: Initial zoom, 2: zoom in x2, 0.5: zoom out x2...",
              "name": "Zoom",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Layer",
              "longDescription": "",
              "name": "Layer",
              "optional": false,
              "supplementaryInformation": "",
              "type": "layer"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Camera number (default: 0)",
              "longDescription": "",
              "name": "Camera",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Anchor X",
              "longDescription": "",
              "name": "AnchorX",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Anchor Y",
              "longDescription": "",
              "name": "AnchorY",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Change the camera zoom at a given speed (in factor per second) and keep an anchor point fixed on screen (instead of the center).",
          "fullName": "Zoom camera with speed and anchor",
          "functionType": "Action",
          "group": "",
          "name": "ZoomWithSpeedAndAnchor",
          "private": false,
          "sentence": "Zoom camera with speed: _PARAM1_ and an anchror at: _PARAM4_; _PARAM5_ (layer: _PARAM2_, camera: _PARAM3_)",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "CameraZoom::ZoomWithAnchor"
                  },
                  "parameters": [
                    "",
                    "CameraZoom(GetArgumentAsString(\"Layer\"), GetArgumentAsNumber(\"Camera\")) * pow(GetArgumentAsNumber(\"ZoomSpeed\"), TimeDelta())",
                    "GetArgumentAsString(\"Layer\")",
                    "GetArgumentAsNumber(\"Camera\")",
                    "GetArgumentAsNumber(\"AnchorX\")",
                    "GetArgumentAsNumber(\"AnchorY\")",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Zoom speed",
              "longDescription": "Zoom by a factor per second. 1: no effect, 2: zoom in x2 every second, 0.5: zoom out x2 every second.",
              "name": "ZoomSpeed",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Layer",
              "longDescription": "",
              "name": "Layer",
              "optional": false,
              "supplementaryInformation": "",
              "type": "layer"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Camera number (default: 0)",
              "longDescription": "",
              "name": "Camera",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Anchor X",
              "longDescription": "",
              "name": "AnchorX",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Anchor Y",
              "longDescription": "",
              "name": "AnchorY",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            }
          ],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": []
    },
    {
      "author": "VegeTato, arthuro555",
      "category": "",
      "description": "Convenience conditions, actions and behaviors for timers to trigger a condition every X seconds.",
      "extensionNamespace": "",
      "fullName": "Repeat every X seconds",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXJlcGVhdCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xNywxN0g3VjE0TDMsMThMNywyMlYxOUgxOVYxM0gxN003LDdIMTdWMTBMMjEsNkwxNywyVjVINVYxMUg3VjdaIiAvPjwvc3ZnPg==",
      "name": "RepeatEveryXSeconds",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/repeat.svg",
      "shortDescription": "This allows to trigger an event every X seconds.",
      "version": "0.1.0",
      "origin": {
        "identifier": "RepeatEveryXSeconds",
        "name": "gdevelop-extension-store"
      },
      "tags": [
        "repeat",
        "timer",
        "time",
        "convenience"
      ],
      "authorIds": [
        "ZgrsWuRTAkXgeuPV9bo0zuEcA2w1",
        "IRIhkkTTl2UHhfjrLTTH5GYwkYu1"
      ],
      "dependencies": [],
      "eventsFunctions": [
        {
          "description": "Triggers every X seconds.",
          "fullName": "Repeat every X seconds",
          "functionType": "Condition",
          "group": "",
          "name": "Repeat",
          "private": false,
          "sentence": "Repeat timer _PARAM1_ every _PARAM2_ seconds",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "player",
                    "GetArgumentAsString(\"timerName\")"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Timer"
                  },
                  "parameters": [
                    "player",
                    "GetArgumentAsNumber(\"time\")",
                    "GetArgumentAsString(\"timerName\")"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "player",
                    "GetArgumentAsString(\"timerName\")"
                  ]
                },
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "The name of the timer to loop",
              "longDescription": "",
              "name": "timerName",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "The time in seconds between each trigger",
              "longDescription": "",
              "name": "time",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Triggers every X seconds X amount of times.",
          "fullName": "Repeat every X seconds in X number",
          "functionType": "Condition",
          "group": "",
          "name": "RepeatXTimes",
          "private": false,
          "sentence": "Repeat timer _PARAM1_ every _PARAM2_ seconds _PARAM3_ times",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "player",
                    "GetArgumentAsString(\"timerName\")"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__RepeatEveryXSeconds_.Counter[GetArgumentAsString(\"timerName\")]",
                    "=",
                    "0"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "Timer"
                  },
                  "parameters": [
                    "player",
                    "GetArgumentAsNumber(\"time\")",
                    "GetArgumentAsString(\"timerName\")"
                  ]
                },
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Or"
                  },
                  "parameters": [],
                  "subInstructions": [
                    {
                      "type": {
                        "value": "Egal"
                      },
                      "parameters": [
                        "GetArgumentAsNumber(\"limit\")",
                        "=",
                        "-1"
                      ]
                    },
                    {
                      "type": {
                        "value": "VarScene"
                      },
                      "parameters": [
                        "__RepeatEveryXSeconds_.Counter[GetArgumentAsString(\"timerName\")]",
                        "<",
                        "GetArgumentAsNumber(\"limit\")"
                      ]
                    }
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "ResetTimer"
                  },
                  "parameters": [
                    "player",
                    "GetArgumentAsString(\"timerName\")"
                  ]
                },
                {
                  "type": {
                    "value": "ModVarScene"
                  },
                  "parameters": [
                    "__RepeatEveryXSeconds_.Counter[GetArgumentAsString(\"timerName\")]",
                    "+",
                    "1"
                  ]
                },
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "The name of the timer to loop",
              "longDescription": "",
              "name": "timerName",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "The time in seconds between each trigger",
              "longDescription": "",
              "name": "time",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            },
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "The limit of loops",
              "longDescription": "The condition will trigger at most this amount of times. Make it -1 for looping forever.",
              "name": "limit",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "Wait X seconds",
          "fullName": "Wait X seconds",
          "functionType": "Condition",
          "group": "",
          "name": "Wait",
          "private": false,
          "sentence": "Wait _PARAM1_ seconds",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "False"
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": [
                {
                  "type": {
                    "value": "Wait"
                  },
                  "parameters": [
                    "GetArgumentAsNumber(\"WaitInSeconds\")"
                  ]
                },
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Time to wait in seconds",
              "longDescription": "",
              "name": "WaitInSeconds",
              "optional": false,
              "supplementaryInformation": "",
              "type": "expression"
            }
          ],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": [
        {
          "description": "Allows to repeat an object timer every X seconds.",
          "fullName": "Repeat every X seconds",
          "name": "RepeatTimer",
          "objectType": "",
          "eventsFunctions": [
            {
              "description": "",
              "fullName": "",
              "functionType": "Action",
              "group": "",
              "name": "onCreated",
              "private": false,
              "sentence": "",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "ResetObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyTimerName()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Triggers every X seconds, where X is defined in the behavior properties.",
              "fullName": "Repeat every X seconds",
              "functionType": "Condition",
              "group": "",
              "name": "Repeat",
              "private": false,
              "sentence": "Recurring timer _PARAM1_ of _PARAM0_ has triggered",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [
                    {
                      "type": {
                        "value": "ObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyTimerName()",
                        "Object.Behavior::PropertyTimerLength()"
                      ]
                    },
                    {
                      "type": {
                        "value": "BuiltinCommonInstructions::Or"
                      },
                      "parameters": [],
                      "subInstructions": [
                        {
                          "type": {
                            "value": "RepeatEveryXSeconds::RepeatTimer::PropertyLimit"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "=",
                            "-1"
                          ]
                        },
                        {
                          "type": {
                            "value": "RepeatEveryXSeconds::RepeatTimer::PropertyCounter"
                          },
                          "parameters": [
                            "Object",
                            "Behavior",
                            "<",
                            "Object.Behavior::PropertyLimit()"
                          ]
                        }
                      ]
                    }
                  ],
                  "actions": [
                    {
                      "type": {
                        "value": "ResetObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyTimerName()"
                      ]
                    },
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "+",
                        "1"
                      ]
                    },
                    {
                      "type": {
                        "value": "SetReturnBoolean"
                      },
                      "parameters": [
                        "True"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Pauses a recurring timer.",
              "fullName": "Pause a recurring timer",
              "functionType": "Action",
              "group": "",
              "name": "Pause",
              "private": false,
              "sentence": "Pause recurring timer _PARAM1_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "PauseObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyTimerName()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Resumes a paused recurring timer.",
              "fullName": "Resume a recurring timer",
              "functionType": "Action",
              "group": "",
              "name": "Resume",
              "private": false,
              "sentence": "Resume recurring timer _PARAM1_ of _PARAM0_",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "UnPauseObjectTimer"
                      },
                      "parameters": [
                        "Object",
                        "Object.Behavior::PropertyTimerName()"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            },
            {
              "description": "Allows to trigger the recurring timer X times again.",
              "fullName": "Reset the limit",
              "functionType": "Action",
              "group": "",
              "name": "ResetLimit",
              "private": false,
              "sentence": "Allow to trigger the recurring timer _PARAM1_ of _PARAM0_ X times again",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::Standard",
                  "conditions": [],
                  "actions": [
                    {
                      "type": {
                        "value": "RepeatEveryXSeconds::RepeatTimer::SetPropertyCounter"
                      },
                      "parameters": [
                        "Object",
                        "Behavior",
                        "=",
                        "0"
                      ]
                    }
                  ]
                }
              ],
              "parameters": [
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Object",
                  "longDescription": "",
                  "name": "Object",
                  "optional": false,
                  "supplementaryInformation": "",
                  "type": "object"
                },
                {
                  "codeOnly": false,
                  "defaultValue": "",
                  "description": "Behavior",
                  "longDescription": "",
                  "name": "Behavior",
                  "optional": false,
                  "supplementaryInformation": "RepeatEveryXSeconds::RepeatTimer",
                  "type": "behavior"
                }
              ],
              "objectGroups": []
            }
          ],
          "propertyDescriptors": [
            {
              "value": "MyTimer",
              "type": "String",
              "label": "The name of the timer to repeat",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": false,
              "name": "TimerName"
            },
            {
              "value": "1",
              "type": "Number",
              "label": "The time between each trigger (in seconds)",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": false,
              "name": "TimerLength"
            },
            {
              "value": "-1",
              "type": "Number",
              "label": "How many times should the timer trigger? -1 for forever.",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": false,
              "name": "Limit"
            },
            {
              "value": "0",
              "type": "Number",
              "label": "An internal counter",
              "description": "",
              "group": "",
              "extraInformation": [],
              "hidden": true,
              "name": "Counter"
            }
          ]
        }
      ]
    },
    {
      "author": "",
      "category": "Third-party",
      "description": "",
      "extensionNamespace": "",
      "fullName": "Twitch tchat read commands",
      "helpPath": "",
      "iconUrl": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0ibWRpLXR3aXRjaCIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPjxwYXRoIGQ9Ik0xMS42NCA1LjkzSDEzLjA3VjEwLjIxSDExLjY0TTE1LjU3IDUuOTNIMTdWMTAuMjFIMTUuNTdNNyAyTDMuNDMgNS41N1YxOC40M0g3LjcxVjIyTDExLjI5IDE4LjQzSDE0LjE0TDIwLjU3IDEyVjJNMTkuMTQgMTEuMjlMMTYuMjkgMTQuMTRIMTMuNDNMMTAuOTMgMTYuNjRWMTQuMTRINy43MVYzLjQzSDE5LjE0WiIgLz48L3N2Zz4=",
      "name": "TwitchTchatCommands",
      "previewIconUrl": "https://resources.gdevelop-app.com/assets/Icons/twitch.svg",
      "shortDescription": "Read the command send into a twitch channel",
      "version": "1.0.0",
      "tags": [
        "twitch",
        "tchat",
        "command"
      ],
      "authorIds": [
        "2OwwM8ToR9dx9RJ2sAKTcrLmCB92"
      ],
      "dependencies": [
        {
          "exportName": "tmi.js",
          "name": "tmi.js",
          "type": "npm",
          "version": "1.5.0"
        }
      ],
      "eventsFunctions": [
        {
          "description": "Check into a channel if a command has been used.",
          "fullName": "Check a command",
          "functionType": "Condition",
          "group": "Commands",
          "name": "CheckACommand",
          "private": false,
          "sentence": "The command _PARAM1_ is called in the Twitch tchat",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 46,
                "g": 27,
                "r": 177,
                "textB": 255,
                "textG": 255,
                "textR": 255
              },
              "comment": "This extension is a bit hacky on the return value",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "/*\nTOOD ?:\n\t- Return the timestamp as an number expression instead of a private scope.\n*/\n\nvar commandNameToCheck = eventsFunctionContext.getArgument(\"CommandName\").toString(); // This line return always the same value of the first command used in the eventsheet, idk why.\n\nwindow.client.on('message', (channel, tags, message, self) => {\n\n\tif (window.__TwitchTchatCommands.previousTimestamp + 1 > tags[\"tmi-sent-ts\"]) return; // Idea is to limit rate the message from the tmi api by checking the last timestamps\n\n\tif (self || !message.startsWith('!')) return; // If the message have a !\n\tconst args = message.slice(1).split(' ');\n\tconst command = args.shift().toLowerCase();\n\n\tconsole.log(command + \" : \" + commandNameToCheck); // Debug, idk why commandNameToCheck is always the same value\n\n\tif (command == commandNameToCheck) {\n\t\teventsFunctionContext.returnValue = true; // Doesn't works\n\t\truntimeScene.getGame().getVariables().get(\"MyCustomFunctionIsTrue\").setBoolean(true); // Workaround with this variable\n\t\tconsole.log(\"true\");\n\t} else {\n\t\teventsFunctionContext.returnValue = false;\n\t\truntimeScene.getGame().getVariables().get(\"MyCustomFunctionIsTrue\").setBoolean(false);\n\t\tconsole.log(\"false\");\n\t}\n\n\twindow.__TwitchTchatCommands.previousMessage = message;\n\twindow.__TwitchTchatCommands.previousData = tags;\n\twindow.__TwitchTchatCommands.previousTimestamp = tags[\"tmi-sent-ts\"];\n\n\tconsole.log(`- ${tags['display-name']}: ${message}`);\n});\n\n//console.log(\"Check a command\");",
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "MyCustomFunctionIsTrue",
                    "False"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "False"
                  ]
                },
                {
                  "type": {
                    "value": "SetGlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "MyCustomFunctionIsTrue",
                    "="
                  ]
                },
                {
                  "type": {
                    "value": "ExtendedVariables::DeleteGlobalVariable"
                  },
                  "parameters": [
                    "",
                    "\"MyCustomFunctionIsTrue\"",
                    ""
                  ]
                }
              ]
            },
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "GlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "MyCustomFunctionIsTrue",
                    "True"
                  ]
                }
              ],
              "actions": [
                {
                  "type": {
                    "value": "SetReturnBoolean"
                  },
                  "parameters": [
                    "True"
                  ]
                },
                {
                  "type": {
                    "value": "SetGlobalVariableAsBoolean"
                  },
                  "parameters": [
                    "MyCustomFunctionIsTrue",
                    "="
                  ]
                },
                {
                  "type": {
                    "value": "ExtendedVariables::DeleteGlobalVariable"
                  },
                  "parameters": [
                    "",
                    "\"MyCustomFunctionIsTrue\"",
                    ""
                  ]
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "A command name what can be typed in a Twitch tchat.",
              "longDescription": "",
              "name": "CommandName",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "",
          "fullName": "",
          "functionType": "Action",
          "group": "",
          "name": "onFirstSceneLoaded",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Comment",
              "color": {
                "b": 109,
                "g": 230,
                "r": 255,
                "textB": 0,
                "textG": 0,
                "textR": 0
              },
              "comment": "Define the scope of the extension and the variables used.",
              "comment2": ""
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "window.__TwitchTchatCommands = {\n  logger: new gdjs.Logger(\"TwitchTchatCommands\"),\n  previousTimestamp: 0,\n  previousData: null,\n  previousMessage: null,\n};\n",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            },
            {
              "colorB": 228,
              "colorG": 176,
              "colorR": 74,
              "creationTime": 0,
              "folded": true,
              "name": "Import of https://tmijs.com",
              "source": "",
              "type": "BuiltinCommonInstructions::Group",
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "\n(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\nvar client = require('./lib/client');\n\nmodule.exports = {\n  client: client,\n  Client: client\n};\n\n},{\"./lib/client\":3}],2:[function(require,module,exports){\n\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar fetch = require('node-fetch');\n\nvar _ = require('./utils');\n\nmodule.exports = function api(options, callback) {\n  // Set the url to options.uri or options.url..\n  var url = options.url !== undefined ? options.url : options.uri; // Make sure it is a valid url..\n\n  if (!_.isURL(url)) {\n    url = \"https://api.twitch.tv/kraken\".concat(url[0] === '/' ? url : \"/\".concat(url));\n  } // We are inside a Node application, so we can use the node-fetch module..\n\n\n  if (_.isNode()) {\n    var opts = Object.assign({\n      method: 'GET',\n      json: true\n    }, options);\n\n    if (opts.qs) {\n      var qs = new URLSearchParams(opts.qs);\n      url += \"?\".concat(qs);\n    }\n    /** @type {import('node-fetch').RequestInit} */\n\n\n    var fetchOptions = {};\n\n    if ('fetchAgent' in this.opts.connection) {\n      fetchOptions.agent = this.opts.connection.fetchAgent;\n    }\n    /** @type {ReturnType<import('node-fetch')['default']>} */\n\n\n    var fetchPromise = fetch(url, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n      method: opts.method,\n      headers: opts.headers,\n      body: opts.body\n    }));\n    var response = {};\n    fetchPromise.then(function (res) {\n      response = {\n        statusCode: res.status,\n        headers: res.headers\n      };\n      return opts.json ? res.json() : res.text();\n    }).then(function (data) {\n      return callback(null, response, data);\n    }, function (err) {\n      return callback(err, response, null);\n    });\n  } // Web application, extension, React Native etc.\n  else {\n    var _opts = Object.assign({\n      method: 'GET',\n      headers: {}\n    }, options, {\n      url: url\n    }); // prepare request\n\n\n    var xhr = new XMLHttpRequest();\n    xhr.open(_opts.method, _opts.url, true);\n\n    for (var name in _opts.headers) {\n      xhr.setRequestHeader(name, _opts.headers[name]);\n    }\n\n    xhr.responseType = 'json'; // set request handler\n\n    xhr.addEventListener('load', function (_ev) {\n      if (xhr.readyState === 4) {\n        if (xhr.status !== 200) {\n          callback(xhr.status, null, null);\n        } else {\n          callback(null, null, xhr.response);\n        }\n      }\n    }); // submit\n\n    xhr.send();\n  }\n};\n\n},{\"./utils\":9,\"node-fetch\":10}],3:[function(require,module,exports){\n(function (global){(function (){\n\"use strict\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nvar _global = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\n\nvar _WebSocket = _global.WebSocket || require('ws');\n\nvar _fetch = _global.fetch || require('node-fetch');\n\nvar api = require('./api');\n\nvar commands = require('./commands');\n\nvar EventEmitter = require('./events').EventEmitter;\n\nvar logger = require('./logger');\n\nvar parse = require('./parser');\n\nvar Queue = require('./timer');\n\nvar _ = require('./utils');\n\nvar _apiWarned = false; // Client instance..\n\nvar client = function client(opts) {\n  if (this instanceof client === false) {\n    return new client(opts);\n  }\n\n  this.opts = _.get(opts, {});\n  this.opts.channels = this.opts.channels || [];\n  this.opts.connection = this.opts.connection || {};\n  this.opts.identity = this.opts.identity || {};\n  this.opts.options = this.opts.options || {};\n  this.clientId = _.get(this.opts.options.clientId, null);\n  this._globalDefaultChannel = _.channel(_.get(this.opts.options.globalDefaultChannel, '#tmijs'));\n  this._skipMembership = _.get(this.opts.options.skipMembership, false);\n  this._skipUpdatingEmotesets = _.get(this.opts.options.skipUpdatingEmotesets, false);\n  this._updateEmotesetsTimer = null;\n  this._updateEmotesetsTimerDelay = _.get(this.opts.options.updateEmotesetsTimer, 60000);\n  this.maxReconnectAttempts = _.get(this.opts.connection.maxReconnectAttempts, Infinity);\n  this.maxReconnectInterval = _.get(this.opts.connection.maxReconnectInterval, 30000);\n  this.reconnect = _.get(this.opts.connection.reconnect, true);\n  this.reconnectDecay = _.get(this.opts.connection.reconnectDecay, 1.5);\n  this.reconnectInterval = _.get(this.opts.connection.reconnectInterval, 1000);\n  this.reconnecting = false;\n  this.reconnections = 0;\n  this.reconnectTimer = this.reconnectInterval;\n  this.secure = _.get(this.opts.connection.secure, !this.opts.connection.server && !this.opts.connection.port); // Raw data and object for emote-sets..\n\n  this.emotes = '';\n  this.emotesets = {};\n  this.channels = [];\n  this.currentLatency = 0;\n  this.globaluserstate = {};\n  this.lastJoined = '';\n  this.latency = new Date();\n  this.moderators = {};\n  this.pingLoop = null;\n  this.pingTimeout = null;\n  this.reason = '';\n  this.username = '';\n  this.userstate = {};\n  this.wasCloseCalled = false;\n  this.ws = null; // Create the logger..\n\n  var level = 'error';\n\n  if (this.opts.options.debug) {\n    level = 'info';\n  }\n\n  this.log = this.opts.logger || logger;\n\n  try {\n    logger.setLevel(level);\n  } catch (err) {} // Format the channel names..\n\n\n  this.opts.channels.forEach(function (part, index, theArray) {\n    return theArray[index] = _.channel(part);\n  });\n  EventEmitter.call(this);\n  this.setMaxListeners(0);\n};\n\n_.inherits(client, EventEmitter); // Put all commands in prototype..\n\n\nfor (var methodName in commands) {\n  client.prototype[methodName] = commands[methodName];\n} // Emit multiple events..\n\n\nclient.prototype.emits = function emits(types, values) {\n  for (var i = 0; i < types.length; i++) {\n    var val = i < values.length ? values[i] : values[values.length - 1];\n    this.emit.apply(this, [types[i]].concat(val));\n  }\n};\n/** @deprecated */\n\n\nclient.prototype.api = function () {\n  if (!_apiWarned) {\n    this.log.warn('Client.prototype.api is deprecated and will be removed for version 2.0.0');\n    _apiWarned = true;\n  }\n\n  api.apply(void 0, arguments);\n}; // Handle parsed chat server message..\n\n\nclient.prototype.handleMessage = function handleMessage(message) {\n  var _this = this;\n\n  if (!message) {\n    return;\n  }\n\n  if (this.listenerCount('raw_message')) {\n    this.emit('raw_message', JSON.parse(JSON.stringify(message)), message);\n  }\n\n  var channel = _.channel(_.get(message.params[0], null));\n\n  var msg = _.get(message.params[1], null);\n\n  var msgid = _.get(message.tags['msg-id'], null); // Parse badges, badge-info and emotes..\n\n\n  var tags = message.tags = parse.badges(parse.badgeInfo(parse.emotes(message.tags))); // Transform IRCv3 tags..\n\n  for (var key in tags) {\n    if (key === 'emote-sets' || key === 'ban-duration' || key === 'bits') {\n      continue;\n    }\n\n    var value = tags[key];\n\n    if (typeof value === 'boolean') {\n      value = null;\n    } else if (value === '1') {\n      value = true;\n    } else if (value === '0') {\n      value = false;\n    } else if (typeof value === 'string') {\n      value = _.unescapeIRC(value);\n    }\n\n    tags[key] = value;\n  } // Messages with no prefix..\n\n\n  if (message.prefix === null) {\n    switch (message.command) {\n      // Received PING from server..\n      case 'PING':\n        this.emit('ping');\n\n        if (this._isConnected()) {\n          this.ws.send('PONG');\n        }\n\n        break;\n      // Received PONG from server, return current latency..\n\n      case 'PONG':\n        {\n          var currDate = new Date();\n          this.currentLatency = (currDate.getTime() - this.latency.getTime()) / 1000;\n          this.emits(['pong', '_promisePing'], [[this.currentLatency]]);\n          clearTimeout(this.pingTimeout);\n          break;\n        }\n\n      default:\n        this.log.warn(\"Could not parse message with no prefix:\\n\".concat(JSON.stringify(message, null, 4)));\n        break;\n    }\n  } // Messages with \"tmi.twitch.tv\" as a prefix..\n  else if (message.prefix === 'tmi.twitch.tv') {\n    switch (message.command) {\n      case '002':\n      case '003':\n      case '004':\n      case '372':\n      case '375':\n      case 'CAP':\n        break;\n      // Retrieve username from server..\n\n      case '001':\n        this.username = message.params[0];\n        break;\n      // Connected to server..\n\n      case '376':\n        {\n          this.log.info('Connected to server.');\n          this.userstate[this._globalDefaultChannel] = {};\n          this.emits(['connected', '_promiseConnect'], [[this.server, this.port], [null]]);\n          this.reconnections = 0;\n          this.reconnectTimer = this.reconnectInterval; // Set an internal ping timeout check interval..\n\n          this.pingLoop = setInterval(function () {\n            // Make sure the connection is opened before sending the message..\n            if (_this._isConnected()) {\n              _this.ws.send('PING');\n            }\n\n            _this.latency = new Date();\n            _this.pingTimeout = setTimeout(function () {\n              if (_this.ws !== null) {\n                _this.wasCloseCalled = false;\n\n                _this.log.error('Ping timeout.');\n\n                _this.ws.close();\n\n                clearInterval(_this.pingLoop);\n                clearTimeout(_this.pingTimeout);\n                clearTimeout(_this._updateEmotesetsTimer);\n              }\n            }, _.get(_this.opts.connection.timeout, 9999));\n          }, 60000); // Join all the channels from the config with an interval..\n\n          var joinInterval = _.get(this.opts.options.joinInterval, 2000);\n\n          if (joinInterval < 300) {\n            joinInterval = 300;\n          }\n\n          var joinQueue = new Queue(joinInterval);\n\n          var joinChannels = _toConsumableArray(new Set([].concat(_toConsumableArray(this.opts.channels), _toConsumableArray(this.channels))));\n\n          this.channels = [];\n\n          var _loop = function _loop(i) {\n            var channel = joinChannels[i];\n            joinQueue.add(function () {\n              if (_this._isConnected()) {\n                _this.join(channel)[\"catch\"](function (err) {\n                  return _this.log.error(err);\n                });\n              }\n            });\n          };\n\n          for (var i = 0; i < joinChannels.length; i++) {\n            _loop(i);\n          }\n\n          joinQueue.next();\n          break;\n        }\n      // https://github.com/justintv/Twitch-API/blob/master/chat/capabilities.md#notice\n\n      case 'NOTICE':\n        {\n          var nullArr = [null];\n          var noticeArr = [channel, msgid, msg];\n          var msgidArr = [msgid];\n          var channelTrueArr = [channel, true];\n          var channelFalseArr = [channel, false];\n          var noticeAndNull = [noticeArr, nullArr];\n          var noticeAndMsgid = [noticeArr, msgidArr];\n          var basicLog = \"[\".concat(channel, \"] \").concat(msg);\n\n          switch (msgid) {\n            // This room is now in subscribers-only mode.\n            case 'subs_on':\n              this.log.info(\"[\".concat(channel, \"] This room is now in subscribers-only mode.\"));\n              this.emits(['subscriber', 'subscribers', '_promiseSubscribers'], [channelTrueArr, channelTrueArr, nullArr]);\n              break;\n            // This room is no longer in subscribers-only mode.\n\n            case 'subs_off':\n              this.log.info(\"[\".concat(channel, \"] This room is no longer in subscribers-only mode.\"));\n              this.emits(['subscriber', 'subscribers', '_promiseSubscribersoff'], [channelFalseArr, channelFalseArr, nullArr]);\n              break;\n            // This room is now in emote-only mode.\n\n            case 'emote_only_on':\n              this.log.info(\"[\".concat(channel, \"] This room is now in emote-only mode.\"));\n              this.emits(['emoteonly', '_promiseEmoteonly'], [channelTrueArr, nullArr]);\n              break;\n            // This room is no longer in emote-only mode.\n\n            case 'emote_only_off':\n              this.log.info(\"[\".concat(channel, \"] This room is no longer in emote-only mode.\"));\n              this.emits(['emoteonly', '_promiseEmoteonlyoff'], [channelFalseArr, nullArr]);\n              break;\n            // Do not handle slow_on/off here, listen to the ROOMSTATE notice instead as it returns the delay.\n\n            case 'slow_on':\n            case 'slow_off':\n              break;\n            // Do not handle followers_on/off here, listen to the ROOMSTATE notice instead as it returns the delay.\n\n            case 'followers_on_zero':\n            case 'followers_on':\n            case 'followers_off':\n              break;\n            // This room is now in r9k mode.\n\n            case 'r9k_on':\n              this.log.info(\"[\".concat(channel, \"] This room is now in r9k mode.\"));\n              this.emits(['r9kmode', 'r9kbeta', '_promiseR9kbeta'], [channelTrueArr, channelTrueArr, nullArr]);\n              break;\n            // This room is no longer in r9k mode.\n\n            case 'r9k_off':\n              this.log.info(\"[\".concat(channel, \"] This room is no longer in r9k mode.\"));\n              this.emits(['r9kmode', 'r9kbeta', '_promiseR9kbetaoff'], [channelFalseArr, channelFalseArr, nullArr]);\n              break;\n            // The moderators of this room are: [..., ...]\n\n            case 'room_mods':\n              {\n                var listSplit = msg.split(': ');\n                var mods = (listSplit.length > 1 ? listSplit[1] : '').toLowerCase().split(', ').filter(function (n) {\n                  return n;\n                });\n                this.emits(['_promiseMods', 'mods'], [[null, mods], [channel, mods]]);\n                break;\n              }\n            // There are no moderators for this room.\n\n            case 'no_mods':\n              this.emits(['_promiseMods', 'mods'], [[null, []], [channel, []]]);\n              break;\n            // The VIPs of this channel are: [..., ...]\n\n            case 'vips_success':\n              {\n                if (msg.endsWith('.')) {\n                  msg = msg.slice(0, -1);\n                }\n\n                var _listSplit = msg.split(': ');\n\n                var vips = (_listSplit.length > 1 ? _listSplit[1] : '').toLowerCase().split(', ').filter(function (n) {\n                  return n;\n                });\n                this.emits(['_promiseVips', 'vips'], [[null, vips], [channel, vips]]);\n                break;\n              }\n            // There are no VIPs for this room.\n\n            case 'no_vips':\n              this.emits(['_promiseVips', 'vips'], [[null, []], [channel, []]]);\n              break;\n            // Ban command failed..\n\n            case 'already_banned':\n            case 'bad_ban_admin':\n            case 'bad_ban_anon':\n            case 'bad_ban_broadcaster':\n            case 'bad_ban_global_mod':\n            case 'bad_ban_mod':\n            case 'bad_ban_self':\n            case 'bad_ban_staff':\n            case 'usage_ban':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseBan'], noticeAndMsgid);\n              break;\n            // Ban command success..\n\n            case 'ban_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseBan'], noticeAndNull);\n              break;\n            // Clear command failed..\n\n            case 'usage_clear':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseClear'], noticeAndMsgid);\n              break;\n            // Mods command failed..\n\n            case 'usage_mods':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseMods'], [noticeArr, [msgid, []]]);\n              break;\n            // Mod command success..\n\n            case 'mod_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseMod'], noticeAndNull);\n              break;\n            // VIPs command failed..\n\n            case 'usage_vips':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseVips'], [noticeArr, [msgid, []]]);\n              break;\n            // VIP command failed..\n\n            case 'usage_vip':\n            case 'bad_vip_grantee_banned':\n            case 'bad_vip_grantee_already_vip':\n            case 'bad_vip_max_vips_reached':\n            case 'bad_vip_achievement_incomplete':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseVip'], [noticeArr, [msgid, []]]);\n              break;\n            // VIP command success..\n\n            case 'vip_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseVip'], noticeAndNull);\n              break;\n            // Mod command failed..\n\n            case 'usage_mod':\n            case 'bad_mod_banned':\n            case 'bad_mod_mod':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseMod'], noticeAndMsgid);\n              break;\n            // Unmod command success..\n\n            case 'unmod_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnmod'], noticeAndNull);\n              break;\n            // Unvip command success...\n\n            case 'unvip_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnvip'], noticeAndNull);\n              break;\n            // Unmod command failed..\n\n            case 'usage_unmod':\n            case 'bad_unmod_mod':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnmod'], noticeAndMsgid);\n              break;\n            // Unvip command failed..\n\n            case 'usage_unvip':\n            case 'bad_unvip_grantee_not_vip':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnvip'], noticeAndMsgid);\n              break;\n            // Color command success..\n\n            case 'color_changed':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseColor'], noticeAndNull);\n              break;\n            // Color command failed..\n\n            case 'usage_color':\n            case 'turbo_only_color':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseColor'], noticeAndMsgid);\n              break;\n            // Commercial command success..\n\n            case 'commercial_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseCommercial'], noticeAndNull);\n              break;\n            // Commercial command failed..\n\n            case 'usage_commercial':\n            case 'bad_commercial_error':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseCommercial'], noticeAndMsgid);\n              break;\n            // Host command success..\n\n            case 'hosts_remaining':\n              {\n                this.log.info(basicLog);\n                var remainingHost = !isNaN(msg[0]) ? parseInt(msg[0]) : 0;\n                this.emits(['notice', '_promiseHost'], [noticeArr, [null, ~~remainingHost]]);\n                break;\n              }\n            // Host command failed..\n\n            case 'bad_host_hosting':\n            case 'bad_host_rate_exceeded':\n            case 'bad_host_error':\n            case 'usage_host':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseHost'], [noticeArr, [msgid, null]]);\n              break;\n            // r9kbeta command failed..\n\n            case 'already_r9k_on':\n            case 'usage_r9k_on':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseR9kbeta'], noticeAndMsgid);\n              break;\n            // r9kbetaoff command failed..\n\n            case 'already_r9k_off':\n            case 'usage_r9k_off':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseR9kbetaoff'], noticeAndMsgid);\n              break;\n            // Timeout command success..\n\n            case 'timeout_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseTimeout'], noticeAndNull);\n              break;\n\n            case 'delete_message_success':\n              this.log.info(\"[\".concat(channel, \" \").concat(msg, \"]\"));\n              this.emits(['notice', '_promiseDeletemessage'], noticeAndNull);\n              break;\n            // Subscribersoff command failed..\n\n            case 'already_subs_off':\n            case 'usage_subs_off':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseSubscribersoff'], noticeAndMsgid);\n              break;\n            // Subscribers command failed..\n\n            case 'already_subs_on':\n            case 'usage_subs_on':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseSubscribers'], noticeAndMsgid);\n              break;\n            // Emoteonlyoff command failed..\n\n            case 'already_emote_only_off':\n            case 'usage_emote_only_off':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseEmoteonlyoff'], noticeAndMsgid);\n              break;\n            // Emoteonly command failed..\n\n            case 'already_emote_only_on':\n            case 'usage_emote_only_on':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseEmoteonly'], noticeAndMsgid);\n              break;\n            // Slow command failed..\n\n            case 'usage_slow_on':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseSlow'], noticeAndMsgid);\n              break;\n            // Slowoff command failed..\n\n            case 'usage_slow_off':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseSlowoff'], noticeAndMsgid);\n              break;\n            // Timeout command failed..\n\n            case 'usage_timeout':\n            case 'bad_timeout_admin':\n            case 'bad_timeout_anon':\n            case 'bad_timeout_broadcaster':\n            case 'bad_timeout_duration':\n            case 'bad_timeout_global_mod':\n            case 'bad_timeout_mod':\n            case 'bad_timeout_self':\n            case 'bad_timeout_staff':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseTimeout'], noticeAndMsgid);\n              break;\n            // Unban command success..\n            // Unban can also be used to cancel an active timeout.\n\n            case 'untimeout_success':\n            case 'unban_success':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnban'], noticeAndNull);\n              break;\n            // Unban command failed..\n\n            case 'usage_unban':\n            case 'bad_unban_no_ban':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnban'], noticeAndMsgid);\n              break;\n            // Delete command failed..\n\n            case 'usage_delete':\n            case 'bad_delete_message_error':\n            case 'bad_delete_message_broadcaster':\n            case 'bad_delete_message_mod':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseDeletemessage'], noticeAndMsgid);\n              break;\n            // Unhost command failed..\n\n            case 'usage_unhost':\n            case 'not_hosting':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseUnhost'], noticeAndMsgid);\n              break;\n            // Whisper command failed..\n\n            case 'whisper_invalid_login':\n            case 'whisper_invalid_self':\n            case 'whisper_limit_per_min':\n            case 'whisper_limit_per_sec':\n            case 'whisper_restricted':\n            case 'whisper_restricted_recipient':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseWhisper'], noticeAndMsgid);\n              break;\n            // Permission error..\n\n            case 'no_permission':\n            case 'msg_banned':\n            case 'msg_room_not_found':\n            case 'msg_channel_suspended':\n            case 'tos_ban':\n            case 'invalid_user':\n              this.log.info(basicLog);\n              this.emits(['notice', '_promiseBan', '_promiseClear', '_promiseUnban', '_promiseTimeout', '_promiseDeletemessage', '_promiseMods', '_promiseMod', '_promiseUnmod', '_promiseVips', '_promiseVip', '_promiseUnvip', '_promiseCommercial', '_promiseHost', '_promiseUnhost', '_promiseJoin', '_promisePart', '_promiseR9kbeta', '_promiseR9kbetaoff', '_promiseSlow', '_promiseSlowoff', '_promiseFollowers', '_promiseFollowersoff', '_promiseSubscribers', '_promiseSubscribersoff', '_promiseEmoteonly', '_promiseEmoteonlyoff', '_promiseWhisper'], [noticeArr, [msgid, channel]]);\n              break;\n            // Automod-related..\n\n            case 'msg_rejected':\n            case 'msg_rejected_mandatory':\n              this.log.info(basicLog);\n              this.emit('automod', channel, msgid, msg);\n              break;\n            // Unrecognized command..\n\n            case 'unrecognized_cmd':\n              this.log.info(basicLog);\n              this.emit('notice', channel, msgid, msg);\n              break;\n            // Send the following msg-ids to the notice event listener..\n\n            case 'cmds_available':\n            case 'host_target_went_offline':\n            case 'msg_censored_broadcaster':\n            case 'msg_duplicate':\n            case 'msg_emoteonly':\n            case 'msg_verified_email':\n            case 'msg_ratelimit':\n            case 'msg_subsonly':\n            case 'msg_timedout':\n            case 'msg_bad_characters':\n            case 'msg_channel_blocked':\n            case 'msg_facebook':\n            case 'msg_followersonly':\n            case 'msg_followersonly_followed':\n            case 'msg_followersonly_zero':\n            case 'msg_slowmode':\n            case 'msg_suspended':\n            case 'no_help':\n            case 'usage_disconnect':\n            case 'usage_help':\n            case 'usage_me':\n            case 'unavailable_command':\n              this.log.info(basicLog);\n              this.emit('notice', channel, msgid, msg);\n              break;\n            // Ignore this because we are already listening to HOSTTARGET..\n\n            case 'host_on':\n            case 'host_off':\n              break;\n\n            default:\n              if (msg.includes('Login unsuccessful') || msg.includes('Login authentication failed')) {\n                this.wasCloseCalled = false;\n                this.reconnect = false;\n                this.reason = msg;\n                this.log.error(this.reason);\n                this.ws.close();\n              } else if (msg.includes('Error logging in') || msg.includes('Improperly formatted auth')) {\n                this.wasCloseCalled = false;\n                this.reconnect = false;\n                this.reason = msg;\n                this.log.error(this.reason);\n                this.ws.close();\n              } else if (msg.includes('Invalid NICK')) {\n                this.wasCloseCalled = false;\n                this.reconnect = false;\n                this.reason = 'Invalid NICK.';\n                this.log.error(this.reason);\n                this.ws.close();\n              } else {\n                this.log.warn(\"Could not parse NOTICE from tmi.twitch.tv:\\n\".concat(JSON.stringify(message, null, 4)));\n                this.emit('notice', channel, msgid, msg);\n              }\n\n              break;\n          }\n\n          break;\n        }\n      // Handle subanniversary / resub..\n\n      case 'USERNOTICE':\n        {\n          var username = tags['display-name'] || tags['login'];\n          var plan = tags['msg-param-sub-plan'] || '';\n          var planName = _.unescapeIRC(_.get(tags['msg-param-sub-plan-name'], '')) || null;\n          var prime = plan.includes('Prime');\n          var methods = {\n            prime: prime,\n            plan: plan,\n            planName: planName\n          };\n          var streakMonths = ~~(tags['msg-param-streak-months'] || 0);\n          var recipient = tags['msg-param-recipient-display-name'] || tags['msg-param-recipient-user-name'];\n          var giftSubCount = ~~tags['msg-param-mass-gift-count'];\n          tags['message-type'] = msgid;\n\n          switch (msgid) {\n            // Handle resub\n            case 'resub':\n              this.emits(['resub', 'subanniversary'], [[channel, username, streakMonths, msg, tags, methods]]);\n              break;\n            // Handle sub\n\n            case 'sub':\n              this.emits(['subscription', 'sub'], [[channel, username, methods, msg, tags]]);\n              break;\n            // Handle gift sub\n\n            case 'subgift':\n              this.emit('subgift', channel, username, streakMonths, recipient, methods, tags);\n              break;\n            // Handle anonymous gift sub\n            // Need proof that this event occur\n\n            case 'anonsubgift':\n              this.emit('anonsubgift', channel, streakMonths, recipient, methods, tags);\n              break;\n            // Handle random gift subs\n\n            case 'submysterygift':\n              this.emit('submysterygift', channel, username, giftSubCount, methods, tags);\n              break;\n            // Handle anonymous random gift subs\n            // Need proof that this event occur\n\n            case 'anonsubmysterygift':\n              this.emit('anonsubmysterygift', channel, giftSubCount, methods, tags);\n              break;\n            // Handle user upgrading from Prime to a normal tier sub\n\n            case 'primepaidupgrade':\n              this.emit('primepaidupgrade', channel, username, methods, tags);\n              break;\n            // Handle user upgrading from a gifted sub\n\n            case 'giftpaidupgrade':\n              {\n                var sender = tags['msg-param-sender-name'] || tags['msg-param-sender-login'];\n                this.emit('giftpaidupgrade', channel, username, sender, tags);\n                break;\n              }\n            // Handle user upgrading from an anonymous gifted sub\n\n            case 'anongiftpaidupgrade':\n              this.emit('anongiftpaidupgrade', channel, username, tags);\n              break;\n            // Handle raid\n\n            case 'raid':\n              {\n                var _username = tags['msg-param-displayName'] || tags['msg-param-login'];\n\n                var viewers = +tags['msg-param-viewerCount'];\n                this.emit('raided', channel, _username, viewers, tags);\n                break;\n              }\n            // Handle ritual\n\n            case 'ritual':\n              {\n                var ritualName = tags['msg-param-ritual-name'];\n\n                switch (ritualName) {\n                  // Handle new chatter ritual\n                  case 'new_chatter':\n                    this.emit('newchatter', channel, username, tags, msg);\n                    break;\n                  // All unknown rituals should be passed through\n\n                  default:\n                    this.emit('ritual', ritualName, channel, username, tags, msg);\n                    break;\n                }\n\n                break;\n              }\n            // All other msgid events should be emitted under a usernotice event\n            // until it comes up and needs to be added..\n\n            default:\n              this.emit('usernotice', msgid, channel, tags, msg);\n              break;\n          }\n\n          break;\n        }\n      // Channel is now hosting another channel or exited host mode..\n\n      case 'HOSTTARGET':\n        {\n          var msgSplit = msg.split(' ');\n\n          var _viewers = ~~msgSplit[1] || 0; // Stopped hosting..\n\n\n          if (msgSplit[0] === '-') {\n            this.log.info(\"[\".concat(channel, \"] Exited host mode.\"));\n            this.emits(['unhost', '_promiseUnhost'], [[channel, _viewers], [null]]);\n          } // Now hosting..\n          else {\n            this.log.info(\"[\".concat(channel, \"] Now hosting \").concat(msgSplit[0], \" for \").concat(_viewers, \" viewer(s).\"));\n            this.emit('hosting', channel, msgSplit[0], _viewers);\n          }\n\n          break;\n        }\n      // Someone has been timed out or chat has been cleared by a moderator..\n\n      case 'CLEARCHAT':\n        // User has been banned / timed out by a moderator..\n        if (message.params.length > 1) {\n          // Duration returns null if it's a ban, otherwise it's a timeout..\n          var duration = _.get(message.tags['ban-duration'], null);\n\n          if (duration === null) {\n            this.log.info(\"[\".concat(channel, \"] \").concat(msg, \" has been banned.\"));\n            this.emit('ban', channel, msg, null, message.tags);\n          } else {\n            this.log.info(\"[\".concat(channel, \"] \").concat(msg, \" has been timed out for \").concat(duration, \" seconds.\"));\n            this.emit('timeout', channel, msg, null, ~~duration, message.tags);\n          }\n        } // Chat was cleared by a moderator..\n        else {\n          this.log.info(\"[\".concat(channel, \"] Chat was cleared by a moderator.\"));\n          this.emits(['clearchat', '_promiseClear'], [[channel], [null]]);\n        }\n\n        break;\n      // Someone's message has been deleted\n\n      case 'CLEARMSG':\n        if (message.params.length > 1) {\n          var deletedMessage = msg;\n          var _username2 = tags['login'];\n          tags['message-type'] = 'messagedeleted';\n          this.log.info(\"[\".concat(channel, \"] \").concat(_username2, \"'s message has been deleted.\"));\n          this.emit('messagedeleted', channel, _username2, deletedMessage, tags);\n        }\n\n        break;\n      // Received a reconnection request from the server..\n\n      case 'RECONNECT':\n        this.log.info('Received RECONNECT request from Twitch..');\n        this.log.info(\"Disconnecting and reconnecting in \".concat(Math.round(this.reconnectTimer / 1000), \" seconds..\"));\n        this.disconnect()[\"catch\"](function (err) {\n          return _this.log.error(err);\n        });\n        setTimeout(function () {\n          return _this.connect()[\"catch\"](function (err) {\n            return _this.log.error(err);\n          });\n        }, this.reconnectTimer);\n        break;\n      // Received when joining a channel and every time you send a PRIVMSG to a channel.\n\n      case 'USERSTATE':\n        message.tags.username = this.username; // Add the client to the moderators of this room..\n\n        if (message.tags['user-type'] === 'mod') {\n          if (!this.moderators[channel]) {\n            this.moderators[channel] = [];\n          }\n\n          if (!this.moderators[channel].includes(this.username)) {\n            this.moderators[channel].push(this.username);\n          }\n        } // Logged in and username doesn't start with justinfan..\n\n\n        if (!_.isJustinfan(this.getUsername()) && !this.userstate[channel]) {\n          this.userstate[channel] = tags;\n          this.lastJoined = channel;\n          this.channels.push(channel);\n          this.log.info(\"Joined \".concat(channel));\n          this.emit('join', channel, _.username(this.getUsername()), true);\n        } // Emote-sets has changed, update it..\n\n\n        if (message.tags['emote-sets'] !== this.emotes) {\n          this._updateEmoteset(message.tags['emote-sets']);\n        }\n\n        this.userstate[channel] = tags;\n        break;\n      // Describe non-channel-specific state informations..\n\n      case 'GLOBALUSERSTATE':\n        this.globaluserstate = tags;\n        this.emit('globaluserstate', tags); // Received emote-sets..\n\n        if (typeof message.tags['emote-sets'] !== 'undefined') {\n          this._updateEmoteset(message.tags['emote-sets']);\n        }\n\n        break;\n      // Received when joining a channel and every time one of the chat room settings, like slow mode, change.\n      // The message on join contains all room settings.\n\n      case 'ROOMSTATE':\n        // We use this notice to know if we successfully joined a channel..\n        if (_.channel(this.lastJoined) === channel) {\n          this.emit('_promiseJoin', null, channel);\n        } // Provide the channel name in the tags before emitting it..\n\n\n        message.tags.channel = channel;\n        this.emit('roomstate', channel, message.tags);\n\n        if (!_.hasOwn(message.tags, 'subs-only')) {\n          // Handle slow mode here instead of the slow_on/off notice..\n          // This room is now in slow mode. You may send messages every slow_duration seconds.\n          if (_.hasOwn(message.tags, 'slow')) {\n            if (typeof message.tags.slow === 'boolean' && !message.tags.slow) {\n              var disabled = [channel, false, 0];\n              this.log.info(\"[\".concat(channel, \"] This room is no longer in slow mode.\"));\n              this.emits(['slow', 'slowmode', '_promiseSlowoff'], [disabled, disabled, [null]]);\n            } else {\n              var seconds = ~~message.tags.slow;\n              var enabled = [channel, true, seconds];\n              this.log.info(\"[\".concat(channel, \"] This room is now in slow mode.\"));\n              this.emits(['slow', 'slowmode', '_promiseSlow'], [enabled, enabled, [null]]);\n            }\n          } // Handle followers only mode here instead of the followers_on/off notice..\n          // This room is now in follower-only mode.\n          // This room is now in <duration> followers-only mode.\n          // This room is no longer in followers-only mode.\n          // duration is in minutes (string)\n          // -1 when /followersoff (string)\n          // false when /followers with no duration (boolean)\n\n\n          if (_.hasOwn(message.tags, 'followers-only')) {\n            if (message.tags['followers-only'] === '-1') {\n              var _disabled = [channel, false, 0];\n              this.log.info(\"[\".concat(channel, \"] This room is no longer in followers-only mode.\"));\n              this.emits(['followersonly', 'followersmode', '_promiseFollowersoff'], [_disabled, _disabled, [null]]);\n            } else {\n              var minutes = ~~message.tags['followers-only'];\n              var _enabled = [channel, true, minutes];\n              this.log.info(\"[\".concat(channel, \"] This room is now in follower-only mode.\"));\n              this.emits(['followersonly', 'followersmode', '_promiseFollowers'], [_enabled, _enabled, [null]]);\n            }\n          }\n        }\n\n        break;\n      // Wrong cluster..\n\n      case 'SERVERCHANGE':\n        break;\n\n      default:\n        this.log.warn(\"Could not parse message from tmi.twitch.tv:\\n\".concat(JSON.stringify(message, null, 4)));\n        break;\n    }\n  } // Messages from jtv..\n  else if (message.prefix === 'jtv') {\n    switch (message.command) {\n      case 'MODE':\n        if (msg === '+o') {\n          // Add username to the moderators..\n          if (!this.moderators[channel]) {\n            this.moderators[channel] = [];\n          }\n\n          if (!this.moderators[channel].includes(message.params[2])) {\n            this.moderators[channel].push(message.params[2]);\n          }\n\n          this.emit('mod', channel, message.params[2]);\n        } else if (msg === '-o') {\n          // Remove username from the moderators..\n          if (!this.moderators[channel]) {\n            this.moderators[channel] = [];\n          }\n\n          this.moderators[channel].filter(function (value) {\n            return value !== message.params[2];\n          });\n          this.emit('unmod', channel, message.params[2]);\n        }\n\n        break;\n\n      default:\n        this.log.warn(\"Could not parse message from jtv:\\n\".concat(JSON.stringify(message, null, 4)));\n        break;\n    }\n  } // Anything else..\n  else {\n    switch (message.command) {\n      case '353':\n        this.emit('names', message.params[2], message.params[3].split(' '));\n        break;\n\n      case '366':\n        break;\n      // Someone has joined the channel..\n\n      case 'JOIN':\n        {\n          var nick = message.prefix.split('!')[0]; // Joined a channel as a justinfan (anonymous) user..\n\n          if (_.isJustinfan(this.getUsername()) && this.username === nick) {\n            this.lastJoined = channel;\n            this.channels.push(channel);\n            this.log.info(\"Joined \".concat(channel));\n            this.emit('join', channel, nick, true);\n          } // Someone else joined the channel, just emit the join event..\n\n\n          if (this.username !== nick) {\n            this.emit('join', channel, nick, false);\n          }\n\n          break;\n        }\n      // Someone has left the channel..\n\n      case 'PART':\n        {\n          var isSelf = false;\n          var _nick = message.prefix.split('!')[0]; // Client left a channel..\n\n          if (this.username === _nick) {\n            isSelf = true;\n\n            if (this.userstate[channel]) {\n              delete this.userstate[channel];\n            }\n\n            var index = this.channels.indexOf(channel);\n\n            if (index !== -1) {\n              this.channels.splice(index, 1);\n            }\n\n            index = this.opts.channels.indexOf(channel);\n\n            if (index !== -1) {\n              this.opts.channels.splice(index, 1);\n            }\n\n            this.log.info(\"Left \".concat(channel));\n            this.emit('_promisePart', null);\n          } // Client or someone else left the channel, emit the part event..\n\n\n          this.emit('part', channel, _nick, isSelf);\n          break;\n        }\n      // Received a whisper..\n\n      case 'WHISPER':\n        {\n          var _nick2 = message.prefix.split('!')[0];\n          this.log.info(\"[WHISPER] <\".concat(_nick2, \">: \").concat(msg)); // Update the tags to provide the username..\n\n          if (!_.hasOwn(message.tags, 'username')) {\n            message.tags.username = _nick2;\n          }\n\n          message.tags['message-type'] = 'whisper';\n\n          var from = _.channel(message.tags.username); // Emit for both, whisper and message..\n\n\n          this.emits(['whisper', 'message'], [[from, message.tags, msg, false]]);\n          break;\n        }\n\n      case 'PRIVMSG':\n        // Add username (lowercase) to the tags..\n        message.tags.username = message.prefix.split('!')[0]; // Message from JTV..\n\n        if (message.tags.username === 'jtv') {\n          var name = _.username(msg.split(' ')[0]);\n\n          var autohost = msg.includes('auto'); // Someone is hosting the channel and the message contains how many viewers..\n\n          if (msg.includes('hosting you for')) {\n            var count = _.extractNumber(msg);\n\n            this.emit('hosted', channel, name, count, autohost);\n          } // Some is hosting the channel, but no viewer(s) count provided in the message..\n          else if (msg.includes('hosting you')) {\n            this.emit('hosted', channel, name, 0, autohost);\n          }\n        } else {\n          var messagesLogLevel = _.get(this.opts.options.messagesLogLevel, 'info'); // Message is an action (/me <message>)..\n\n\n          var actionMessage = _.actionMessage(msg);\n\n          message.tags['message-type'] = actionMessage ? 'action' : 'chat';\n          msg = actionMessage ? actionMessage[1] : msg; // Check for Bits prior to actions message\n\n          if (_.hasOwn(message.tags, 'bits')) {\n            this.emit('cheer', channel, message.tags, msg);\n          } else {\n            //Handle Channel Point Redemptions (Require's Text Input)\n            if (_.hasOwn(message.tags, 'msg-id')) {\n              if (message.tags['msg-id'] === 'highlighted-message') {\n                var rewardtype = message.tags['msg-id'];\n                this.emit('redeem', channel, message.tags.username, rewardtype, message.tags, msg);\n              } else if (message.tags['msg-id'] === 'skip-subs-mode-message') {\n                var _rewardtype = message.tags['msg-id'];\n                this.emit('redeem', channel, message.tags.username, _rewardtype, message.tags, msg);\n              }\n            } else if (_.hasOwn(message.tags, 'custom-reward-id')) {\n              var _rewardtype2 = message.tags['custom-reward-id'];\n              this.emit('redeem', channel, message.tags.username, _rewardtype2, message.tags, msg);\n            }\n\n            if (actionMessage) {\n              this.log[messagesLogLevel](\"[\".concat(channel, \"] *<\").concat(message.tags.username, \">: \").concat(msg));\n              this.emits(['action', 'message'], [[channel, message.tags, msg, false]]);\n            } // Message is a regular chat message..\n            else {\n              this.log[messagesLogLevel](\"[\".concat(channel, \"] <\").concat(message.tags.username, \">: \").concat(msg));\n              this.emits(['chat', 'message'], [[channel, message.tags, msg, false]]);\n            }\n          }\n        }\n\n        break;\n\n      default:\n        this.log.warn(\"Could not parse message:\\n\".concat(JSON.stringify(message, null, 4)));\n        break;\n    }\n  }\n}; // Connect to server..\n\n\nclient.prototype.connect = function connect() {\n  var _this2 = this;\n\n  return new Promise(function (resolve, reject) {\n    _this2.server = _.get(_this2.opts.connection.server, 'irc-ws.chat.twitch.tv');\n    _this2.port = _.get(_this2.opts.connection.port, 80); // Override port if using a secure connection..\n\n    if (_this2.secure) {\n      _this2.port = 443;\n    }\n\n    if (_this2.port === 443) {\n      _this2.secure = true;\n    }\n\n    _this2.reconnectTimer = _this2.reconnectTimer * _this2.reconnectDecay;\n\n    if (_this2.reconnectTimer >= _this2.maxReconnectInterval) {\n      _this2.reconnectTimer = _this2.maxReconnectInterval;\n    } // Connect to server from configuration..\n\n\n    _this2._openConnection();\n\n    _this2.once('_promiseConnect', function (err) {\n      if (!err) {\n        resolve([_this2.server, ~~_this2.port]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n}; // Open a connection..\n\n\nclient.prototype._openConnection = function _openConnection() {\n  var url = \"\".concat(this.secure ? 'wss' : 'ws', \"://\").concat(this.server, \":\").concat(this.port, \"/\");\n  /** @type {import('ws').ClientOptions} */\n\n  var connectionOptions = {};\n\n  if ('agent' in this.opts.connection) {\n    connectionOptions.agent = this.opts.connection.agent;\n  }\n\n  this.ws = new _WebSocket(url, 'irc', connectionOptions);\n  this.ws.onmessage = this._onMessage.bind(this);\n  this.ws.onerror = this._onError.bind(this);\n  this.ws.onclose = this._onClose.bind(this);\n  this.ws.onopen = this._onOpen.bind(this);\n}; // Called when the WebSocket connection's readyState changes to OPEN.\n// Indicates that the connection is ready to send and receive data..\n\n\nclient.prototype._onOpen = function _onOpen() {\n  var _this3 = this;\n\n  if (!this._isConnected()) {\n    return;\n  } // Emitting \"connecting\" event..\n\n\n  this.log.info(\"Connecting to \".concat(this.server, \" on port \").concat(this.port, \"..\"));\n  this.emit('connecting', this.server, ~~this.port);\n  this.username = _.get(this.opts.identity.username, _.justinfan());\n\n  this._getToken().then(function (token) {\n    var password = _.password(token); // Emitting \"logon\" event..\n\n\n    _this3.log.info('Sending authentication to server..');\n\n    _this3.emit('logon');\n\n    var caps = 'twitch.tv/tags twitch.tv/commands';\n\n    if (!_this3._skipMembership) {\n      caps += ' twitch.tv/membership';\n    }\n\n    _this3.ws.send('CAP REQ :' + caps); // Authentication..\n\n\n    if (password) {\n      _this3.ws.send(\"PASS \".concat(password));\n    } else if (_.isJustinfan(_this3.username)) {\n      _this3.ws.send('PASS SCHMOOPIIE');\n    }\n\n    _this3.ws.send(\"NICK \".concat(_this3.username));\n  })[\"catch\"](function (err) {\n    _this3.emits(['_promiseConnect', 'disconnected'], [[err], ['Could not get a token.']]);\n  });\n}; // Fetches a token from the option.\n\n\nclient.prototype._getToken = function _getToken() {\n  var passwordOption = this.opts.identity.password;\n  var password;\n\n  if (typeof passwordOption === 'function') {\n    password = passwordOption();\n\n    if (password instanceof Promise) {\n      return password;\n    }\n\n    return Promise.resolve(password);\n  }\n\n  return Promise.resolve(passwordOption);\n}; // Called when a message is received from the server..\n\n\nclient.prototype._onMessage = function _onMessage(event) {\n  var _this4 = this;\n\n  var parts = event.data.trim().split('\\r\\n');\n  parts.forEach(function (str) {\n    var msg = parse.msg(str);\n\n    if (msg) {\n      _this4.handleMessage(msg);\n    }\n  });\n}; // Called when an error occurs..\n\n\nclient.prototype._onError = function _onError() {\n  var _this5 = this;\n\n  this.moderators = {};\n  this.userstate = {};\n  this.globaluserstate = {}; // Stop the internal ping timeout check interval..\n\n  clearInterval(this.pingLoop);\n  clearTimeout(this.pingTimeout);\n  clearTimeout(this._updateEmotesetsTimer);\n  this.reason = this.ws === null ? 'Connection closed.' : 'Unable to connect.';\n  this.emits(['_promiseConnect', 'disconnected'], [[this.reason]]); // Reconnect to server..\n\n  if (this.reconnect && this.reconnections === this.maxReconnectAttempts) {\n    this.emit('maxreconnect');\n    this.log.error('Maximum reconnection attempts reached.');\n  }\n\n  if (this.reconnect && !this.reconnecting && this.reconnections <= this.maxReconnectAttempts - 1) {\n    this.reconnecting = true;\n    this.reconnections = this.reconnections + 1;\n    this.log.error(\"Reconnecting in \".concat(Math.round(this.reconnectTimer / 1000), \" seconds..\"));\n    this.emit('reconnect');\n    setTimeout(function () {\n      _this5.reconnecting = false;\n\n      _this5.connect()[\"catch\"](function (err) {\n        return _this5.log.error(err);\n      });\n    }, this.reconnectTimer);\n  }\n\n  this.ws = null;\n}; // Called when the WebSocket connection's readyState changes to CLOSED..\n\n\nclient.prototype._onClose = function _onClose() {\n  var _this6 = this;\n\n  this.moderators = {};\n  this.userstate = {};\n  this.globaluserstate = {}; // Stop the internal ping timeout check interval..\n\n  clearInterval(this.pingLoop);\n  clearTimeout(this.pingTimeout);\n  clearTimeout(this._updateEmotesetsTimer); // User called .disconnect(), don't try to reconnect.\n\n  if (this.wasCloseCalled) {\n    this.wasCloseCalled = false;\n    this.reason = 'Connection closed.';\n    this.log.info(this.reason);\n    this.emits(['_promiseConnect', '_promiseDisconnect', 'disconnected'], [[this.reason], [null], [this.reason]]);\n  } // Got disconnected from server..\n  else {\n    this.emits(['_promiseConnect', 'disconnected'], [[this.reason]]); // Reconnect to server..\n\n    if (this.reconnect && this.reconnections === this.maxReconnectAttempts) {\n      this.emit('maxreconnect');\n      this.log.error('Maximum reconnection attempts reached.');\n    }\n\n    if (this.reconnect && !this.reconnecting && this.reconnections <= this.maxReconnectAttempts - 1) {\n      this.reconnecting = true;\n      this.reconnections = this.reconnections + 1;\n      this.log.error(\"Could not connect to server. Reconnecting in \".concat(Math.round(this.reconnectTimer / 1000), \" seconds..\"));\n      this.emit('reconnect');\n      setTimeout(function () {\n        _this6.reconnecting = false;\n\n        _this6.connect()[\"catch\"](function (err) {\n          return _this6.log.error(err);\n        });\n      }, this.reconnectTimer);\n    }\n  }\n\n  this.ws = null;\n}; // Minimum of 600ms for command promises, if current latency exceeds, add 100ms to it to make sure it doesn't get timed out..\n\n\nclient.prototype._getPromiseDelay = function _getPromiseDelay() {\n  if (this.currentLatency <= 600) {\n    return 600;\n  } else {\n    return this.currentLatency + 100;\n  }\n}; // Send command to server or channel..\n\n\nclient.prototype._sendCommand = function _sendCommand(delay, channel, command, fn) {\n  var _this7 = this;\n\n  // Race promise against delay..\n  return new Promise(function (resolve, reject) {\n    // Make sure the socket is opened..\n    if (!_this7._isConnected()) {\n      // Disconnected from server..\n      return reject('Not connected to server.');\n    } else if (delay === null || typeof delay === 'number') {\n      if (delay === null) {\n        delay = _this7._getPromiseDelay();\n      }\n\n      _.promiseDelay(delay).then(function () {\n        return reject('No response from Twitch.');\n      });\n    } // Executing a command on a channel..\n\n\n    if (channel !== null) {\n      var chan = _.channel(channel);\n\n      _this7.log.info(\"[\".concat(chan, \"] Executing command: \").concat(command));\n\n      _this7.ws.send(\"PRIVMSG \".concat(chan, \" :\").concat(command));\n    } // Executing a raw command..\n    else {\n      _this7.log.info(\"Executing command: \".concat(command));\n\n      _this7.ws.send(command);\n    }\n\n    if (typeof fn === 'function') {\n      fn(resolve, reject);\n    } else {\n      resolve();\n    }\n  });\n}; // Send a message to channel..\n\n\nclient.prototype._sendMessage = function _sendMessage(delay, channel, message, fn) {\n  var _this8 = this;\n\n  // Promise a result..\n  return new Promise(function (resolve, reject) {\n    // Make sure the socket is opened and not logged in as a justinfan user..\n    if (!_this8._isConnected()) {\n      return reject('Not connected to server.');\n    } else if (_.isJustinfan(_this8.getUsername())) {\n      return reject('Cannot send anonymous messages.');\n    }\n\n    var chan = _.channel(channel);\n\n    if (!_this8.userstate[chan]) {\n      _this8.userstate[chan] = {};\n    } // Split long lines otherwise they will be eaten by the server..\n\n\n    if (message.length >= 500) {\n      var msg = _.splitLine(message, 500);\n\n      message = msg[0];\n      setTimeout(function () {\n        _this8._sendMessage(delay, channel, msg[1], function () {});\n      }, 350);\n    }\n\n    _this8.ws.send(\"PRIVMSG \".concat(chan, \" :\").concat(message));\n\n    var emotes = {}; // Parse regex and string emotes..\n\n    Object.keys(_this8.emotesets).forEach(function (id) {\n      return _this8.emotesets[id].forEach(function (emote) {\n        var emoteFunc = _.isRegex(emote.code) ? parse.emoteRegex : parse.emoteString;\n        return emoteFunc(message, emote.code, emote.id, emotes);\n      });\n    }); // Merge userstate with parsed emotes..\n\n    var userstate = Object.assign(_this8.userstate[chan], parse.emotes({\n      emotes: parse.transformEmotes(emotes) || null\n    }));\n\n    var messagesLogLevel = _.get(_this8.opts.options.messagesLogLevel, 'info'); // Message is an action (/me <message>)..\n\n\n    var actionMessage = _.actionMessage(message);\n\n    if (actionMessage) {\n      userstate['message-type'] = 'action';\n\n      _this8.log[messagesLogLevel](\"[\".concat(chan, \"] *<\").concat(_this8.getUsername(), \">: \").concat(actionMessage[1]));\n\n      _this8.emits(['action', 'message'], [[chan, userstate, actionMessage[1], true]]);\n    } // Message is a regular chat message..\n    else {\n      userstate['message-type'] = 'chat';\n\n      _this8.log[messagesLogLevel](\"[\".concat(chan, \"] <\").concat(_this8.getUsername(), \">: \").concat(message));\n\n      _this8.emits(['chat', 'message'], [[chan, userstate, message, true]]);\n    }\n\n    if (typeof fn === 'function') {\n      fn(resolve, reject);\n    } else {\n      resolve();\n    }\n  });\n}; // Grab the emote-sets object from the API..\n\n\nclient.prototype._updateEmoteset = function _updateEmoteset(sets) {\n  var _this9 = this;\n\n  var setsChanges = sets !== undefined;\n\n  if (setsChanges) {\n    if (sets === this.emotes) {\n      setsChanges = false;\n    } else {\n      this.emotes = sets;\n    }\n  }\n\n  if (this._skipUpdatingEmotesets) {\n    if (setsChanges) {\n      this.emit('emotesets', sets, {});\n    }\n\n    return;\n  }\n\n  var setEmotesetTimer = function setEmotesetTimer() {\n    if (_this9._updateEmotesetsTimerDelay > 0) {\n      clearTimeout(_this9._updateEmotesetsTimer);\n      _this9._updateEmotesetsTimer = setTimeout(function () {\n        return _this9._updateEmoteset(sets);\n      }, _this9._updateEmotesetsTimerDelay);\n    }\n  };\n\n  this._getToken().then(function (token) {\n    var url = \"https://api.twitch.tv/kraken/chat/emoticon_images?emotesets=\".concat(sets);\n    /** @type {import('node-fetch').RequestInit} */\n\n    var fetchOptions = {};\n\n    if ('fetchAgent' in _this9.opts.connection) {\n      fetchOptions.agent = _this9.opts.connection.fetchAgent;\n    }\n    /** @type {import('node-fetch').Response} */\n\n\n    return _fetch(url, _objectSpread(_objectSpread({}, fetchOptions), {}, {\n      headers: {\n        'Accept': 'application/vnd.twitchtv.v5+json',\n        'Authorization': \"OAuth \".concat(_.token(token)),\n        'Client-ID': _this9.clientId\n      }\n    }));\n  }).then(function (res) {\n    return res.json();\n  }).then(function (data) {\n    _this9.emotesets = data.emoticon_sets || {};\n\n    _this9.emit('emotesets', sets, _this9.emotesets);\n\n    setEmotesetTimer();\n  })[\"catch\"](function () {\n    return setEmotesetTimer();\n  });\n}; // Get current username..\n\n\nclient.prototype.getUsername = function getUsername() {\n  return this.username;\n}; // Get current options..\n\n\nclient.prototype.getOptions = function getOptions() {\n  return this.opts;\n}; // Get current channels..\n\n\nclient.prototype.getChannels = function getChannels() {\n  return this.channels;\n}; // Check if username is a moderator on a channel..\n\n\nclient.prototype.isMod = function isMod(channel, username) {\n  var chan = _.channel(channel);\n\n  if (!this.moderators[chan]) {\n    this.moderators[chan] = [];\n  }\n\n  return this.moderators[chan].includes(_.username(username));\n}; // Get readyState..\n\n\nclient.prototype.readyState = function readyState() {\n  if (this.ws === null) {\n    return 'CLOSED';\n  }\n\n  return ['CONNECTING', 'OPEN', 'CLOSING', 'CLOSED'][this.ws.readyState];\n}; // Determine if the client has a WebSocket and it's open..\n\n\nclient.prototype._isConnected = function _isConnected() {\n  return this.ws !== null && this.ws.readyState === 1;\n}; // Disconnect from server..\n\n\nclient.prototype.disconnect = function disconnect() {\n  var _this10 = this;\n\n  return new Promise(function (resolve, reject) {\n    if (_this10.ws !== null && _this10.ws.readyState !== 3) {\n      _this10.wasCloseCalled = true;\n\n      _this10.log.info('Disconnecting from server..');\n\n      _this10.ws.close();\n\n      _this10.once('_promiseDisconnect', function () {\n        return resolve([_this10.server, ~~_this10.port]);\n      });\n    } else {\n      _this10.log.error('Cannot disconnect from server. Socket is not opened or connection is already closing.');\n\n      reject('Cannot disconnect from server. Socket is not opened or connection is already closing.');\n    }\n  });\n};\n\nclient.prototype.off = client.prototype.removeListener; // Expose everything, for browser and Node..\n\nif (typeof module !== 'undefined' && module.exports) {\n  module.exports = client;\n}\n\nif (typeof window !== 'undefined') {\n  window.tmi = {\n    client: client,\n    Client: client\n  };\n}\n\n}).call(this)}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./api\":2,\"./commands\":4,\"./events\":5,\"./logger\":6,\"./parser\":7,\"./timer\":8,\"./utils\":9,\"node-fetch\":10,\"ws\":10}],4:[function(require,module,exports){\n\"use strict\";\n\nvar _ = require('./utils'); // Enable followers-only mode on a channel..\n\n\nfunction followersonly(channel, minutes) {\n  var _this = this;\n\n  channel = _.channel(channel);\n  minutes = _.get(minutes, 30); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, channel, \"/followers \".concat(minutes), function (resolve, reject) {\n    // Received _promiseFollowers event, resolve or reject..\n    _this.once('_promiseFollowers', function (err) {\n      if (!err) {\n        resolve([channel, ~~minutes]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n} // Disable followers-only mode on a channel..\n\n\nfunction followersonlyoff(channel) {\n  var _this2 = this;\n\n  channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, channel, '/followersoff', function (resolve, reject) {\n    // Received _promiseFollowersoff event, resolve or reject..\n    _this2.once('_promiseFollowersoff', function (err) {\n      if (!err) {\n        resolve([channel]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n} // Leave a channel..\n\n\nfunction part(channel) {\n  var _this3 = this;\n\n  channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, null, \"PART \".concat(channel), function (resolve, reject) {\n    // Received _promisePart event, resolve or reject..\n    _this3.once('_promisePart', function (err) {\n      if (!err) {\n        resolve([channel]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n} // Enable R9KBeta mode on a channel..\n\n\nfunction r9kbeta(channel) {\n  var _this4 = this;\n\n  channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, channel, '/r9kbeta', function (resolve, reject) {\n    // Received _promiseR9kbeta event, resolve or reject..\n    _this4.once('_promiseR9kbeta', function (err) {\n      if (!err) {\n        resolve([channel]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n} // Disable R9KBeta mode on a channel..\n\n\nfunction r9kbetaoff(channel) {\n  var _this5 = this;\n\n  channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, channel, '/r9kbetaoff', function (resolve, reject) {\n    // Received _promiseR9kbetaoff event, resolve or reject..\n    _this5.once('_promiseR9kbetaoff', function (err) {\n      if (!err) {\n        resolve([channel]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n} // Enable slow mode on a channel..\n\n\nfunction slow(channel, seconds) {\n  var _this6 = this;\n\n  channel = _.channel(channel);\n  seconds = _.get(seconds, 300); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, channel, \"/slow \".concat(seconds), function (resolve, reject) {\n    // Received _promiseSlow event, resolve or reject..\n    _this6.once('_promiseSlow', function (err) {\n      if (!err) {\n        resolve([channel, ~~seconds]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n} // Disable slow mode on a channel..\n\n\nfunction slowoff(channel) {\n  var _this7 = this;\n\n  channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n  return this._sendCommand(null, channel, '/slowoff', function (resolve, reject) {\n    // Received _promiseSlowoff event, resolve or reject..\n    _this7.once('_promiseSlowoff', function (err) {\n      if (!err) {\n        resolve([channel]);\n      } else {\n        reject(err);\n      }\n    });\n  });\n}\n\nmodule.exports = {\n  // Send action message (/me <message>) on a channel..\n  action: function action(channel, message) {\n    channel = _.channel(channel);\n    message = \"\\x01ACTION \".concat(message, \"\\x01\"); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendMessage(this._getPromiseDelay(), channel, message, function (resolve, _reject) {\n      // At this time, there is no possible way to detect if a message has been sent has been eaten\n      // by the server, so we can only resolve the Promise.\n      resolve([channel, message]);\n    });\n  },\n  // Ban username on channel..\n  ban: function ban(channel, username, reason) {\n    var _this8 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username);\n    reason = _.get(reason, ''); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/ban \".concat(username, \" \").concat(reason), function (resolve, reject) {\n      // Received _promiseBan event, resolve or reject..\n      _this8.once('_promiseBan', function (err) {\n        if (!err) {\n          resolve([channel, username, reason]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Clear all messages on a channel..\n  clear: function clear(channel) {\n    var _this9 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/clear', function (resolve, reject) {\n      // Received _promiseClear event, resolve or reject..\n      _this9.once('_promiseClear', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Change the color of your username..\n  color: function color(channel, newColor) {\n    var _this10 = this;\n\n    newColor = _.get(newColor, channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, '#tmijs', \"/color \".concat(newColor), function (resolve, reject) {\n      // Received _promiseColor event, resolve or reject..\n      _this10.once('_promiseColor', function (err) {\n        if (!err) {\n          resolve([newColor]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Run commercial on a channel for X seconds..\n  commercial: function commercial(channel, seconds) {\n    var _this11 = this;\n\n    channel = _.channel(channel);\n    seconds = _.get(seconds, 30); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/commercial \".concat(seconds), function (resolve, reject) {\n      // Received _promiseCommercial event, resolve or reject..\n      _this11.once('_promiseCommercial', function (err) {\n        if (!err) {\n          resolve([channel, ~~seconds]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Delete a specific message on a channel\n  deletemessage: function deletemessage(channel, messageUUID) {\n    var _this12 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/delete \".concat(messageUUID), function (resolve, reject) {\n      // Received _promiseDeletemessage event, resolve or reject..\n      _this12.once('_promiseDeletemessage', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Enable emote-only mode on a channel..\n  emoteonly: function emoteonly(channel) {\n    var _this13 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/emoteonly', function (resolve, reject) {\n      // Received _promiseEmoteonly event, resolve or reject..\n      _this13.once('_promiseEmoteonly', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Disable emote-only mode on a channel..\n  emoteonlyoff: function emoteonlyoff(channel) {\n    var _this14 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/emoteonlyoff', function (resolve, reject) {\n      // Received _promiseEmoteonlyoff event, resolve or reject..\n      _this14.once('_promiseEmoteonlyoff', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Enable followers-only mode on a channel..\n  followersonly: followersonly,\n  // Alias for followersonly()..\n  followersmode: followersonly,\n  // Disable followers-only mode on a channel..\n  followersonlyoff: followersonlyoff,\n  // Alias for followersonlyoff()..\n  followersmodeoff: followersonlyoff,\n  // Host a channel..\n  host: function host(channel, target) {\n    var _this15 = this;\n\n    channel = _.channel(channel);\n    target = _.username(target); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(2000, channel, \"/host \".concat(target), function (resolve, reject) {\n      // Received _promiseHost event, resolve or reject..\n      _this15.once('_promiseHost', function (err, remaining) {\n        if (!err) {\n          resolve([channel, target, ~~remaining]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Join a channel..\n  join: function join(channel) {\n    var _this16 = this;\n\n    channel = _.channel(channel); // Send the command to the server ..\n\n    return this._sendCommand(undefined, null, \"JOIN \".concat(channel), function (resolve, reject) {\n      var eventName = '_promiseJoin';\n      var hasFulfilled = false;\n\n      var listener = function listener(err, joinedChannel) {\n        if (channel === _.channel(joinedChannel)) {\n          // Received _promiseJoin event for the target channel, resolve or reject..\n          _this16.removeListener(eventName, listener);\n\n          hasFulfilled = true;\n\n          if (!err) {\n            resolve([channel]);\n          } else {\n            reject(err);\n          }\n        }\n      };\n\n      _this16.on(eventName, listener); // Race the Promise against a delay..\n\n\n      var delay = _this16._getPromiseDelay();\n\n      _.promiseDelay(delay).then(function () {\n        if (!hasFulfilled) {\n          _this16.emit(eventName, 'No response from Twitch.', channel);\n        }\n      });\n    });\n  },\n  // Mod username on channel..\n  mod: function mod(channel, username) {\n    var _this17 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/mod \".concat(username), function (resolve, reject) {\n      // Received _promiseMod event, resolve or reject..\n      _this17.once('_promiseMod', function (err) {\n        if (!err) {\n          resolve([channel, username]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Get list of mods on a channel..\n  mods: function mods(channel) {\n    var _this18 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/mods', function (resolve, reject) {\n      // Received _promiseMods event, resolve or reject..\n      _this18.once('_promiseMods', function (err, mods) {\n        if (!err) {\n          // Update the internal list of moderators..\n          mods.forEach(function (username) {\n            if (!_this18.moderators[channel]) {\n              _this18.moderators[channel] = [];\n            }\n\n            if (!_this18.moderators[channel].includes(username)) {\n              _this18.moderators[channel].push(username);\n            }\n          });\n          resolve(mods);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Leave a channel..\n  part: part,\n  // Alias for part()..\n  leave: part,\n  // Send a ping to the server..\n  ping: function ping() {\n    var _this19 = this;\n\n    // Send the command to the server and race the Promise against a delay..\n    return this._sendCommand(null, null, 'PING', function (resolve, _reject) {\n      // Update the internal ping timeout check interval..\n      _this19.latency = new Date();\n      _this19.pingTimeout = setTimeout(function () {\n        if (_this19.ws !== null) {\n          _this19.wasCloseCalled = false;\n\n          _this19.log.error('Ping timeout.');\n\n          _this19.ws.close();\n\n          clearInterval(_this19.pingLoop);\n          clearTimeout(_this19.pingTimeout);\n        }\n      }, _.get(_this19.opts.connection.timeout, 9999)); // Received _promisePing event, resolve or reject..\n\n      _this19.once('_promisePing', function (latency) {\n        return resolve([parseFloat(latency)]);\n      });\n    });\n  },\n  // Enable R9KBeta mode on a channel..\n  r9kbeta: r9kbeta,\n  // Alias for r9kbeta()..\n  r9kmode: r9kbeta,\n  // Disable R9KBeta mode on a channel..\n  r9kbetaoff: r9kbetaoff,\n  // Alias for r9kbetaoff()..\n  r9kmodeoff: r9kbetaoff,\n  // Send a raw message to the server..\n  raw: function raw(message) {\n    // Send the command to the server and race the Promise against a delay..\n    return this._sendCommand(null, null, message, function (resolve, _reject) {\n      resolve([message]);\n    });\n  },\n  // Send a message on a channel..\n  say: function say(channel, message) {\n    channel = _.channel(channel);\n\n    if (message.startsWith('.') && !message.startsWith('..') || message.startsWith('/') || message.startsWith('\\\\')) {\n      // Check if the message is an action message..\n      if (message.substr(1, 3) === 'me ') {\n        return this.action(channel, message.substr(4));\n      } else {\n        // Send the command to the server and race the Promise against a delay..\n        return this._sendCommand(null, channel, message, function (resolve, _reject) {\n          // At this time, there is no possible way to detect if a message has been sent has been eaten\n          // by the server, so we can only resolve the Promise.\n          resolve([channel, message]);\n        });\n      }\n    } // Send the command to the server and race the Promise against a delay..\n\n\n    return this._sendMessage(this._getPromiseDelay(), channel, message, function (resolve, _reject) {\n      // At this time, there is no possible way to detect if a message has been sent has been eaten\n      // by the server, so we can only resolve the Promise.\n      resolve([channel, message]);\n    });\n  },\n  // Enable slow mode on a channel..\n  slow: slow,\n  // Alias for slow()..\n  slowmode: slow,\n  // Disable slow mode on a channel..\n  slowoff: slowoff,\n  // Alias for slowoff()..\n  slowmodeoff: slowoff,\n  // Enable subscribers mode on a channel..\n  subscribers: function subscribers(channel) {\n    var _this20 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/subscribers', function (resolve, reject) {\n      // Received _promiseSubscribers event, resolve or reject..\n      _this20.once('_promiseSubscribers', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Disable subscribers mode on a channel..\n  subscribersoff: function subscribersoff(channel) {\n    var _this21 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/subscribersoff', function (resolve, reject) {\n      // Received _promiseSubscribersoff event, resolve or reject..\n      _this21.once('_promiseSubscribersoff', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Timeout username on channel for X seconds..\n  timeout: function timeout(channel, username, seconds, reason) {\n    var _this22 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username);\n\n    if (seconds !== null && !_.isInteger(seconds)) {\n      reason = seconds;\n      seconds = 300;\n    }\n\n    seconds = _.get(seconds, 300);\n    reason = _.get(reason, ''); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/timeout \".concat(username, \" \").concat(seconds, \" \").concat(reason), function (resolve, reject) {\n      // Received _promiseTimeout event, resolve or reject..\n      _this22.once('_promiseTimeout', function (err) {\n        if (!err) {\n          resolve([channel, username, ~~seconds, reason]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Unban username on channel..\n  unban: function unban(channel, username) {\n    var _this23 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/unban \".concat(username), function (resolve, reject) {\n      // Received _promiseUnban event, resolve or reject..\n      _this23.once('_promiseUnban', function (err) {\n        if (!err) {\n          resolve([channel, username]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // End the current hosting..\n  unhost: function unhost(channel) {\n    var _this24 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(2000, channel, '/unhost', function (resolve, reject) {\n      // Received _promiseUnhost event, resolve or reject..\n      _this24.once('_promiseUnhost', function (err) {\n        if (!err) {\n          resolve([channel]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Unmod username on channel..\n  unmod: function unmod(channel, username) {\n    var _this25 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/unmod \".concat(username), function (resolve, reject) {\n      // Received _promiseUnmod event, resolve or reject..\n      _this25.once('_promiseUnmod', function (err) {\n        if (!err) {\n          resolve([channel, username]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Unvip username on channel..\n  unvip: function unvip(channel, username) {\n    var _this26 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/unvip \".concat(username), function (resolve, reject) {\n      // Received _promiseUnvip event, resolve or reject..\n      _this26.once('_promiseUnvip', function (err) {\n        if (!err) {\n          resolve([channel, username]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Add username to VIP list on channel..\n  vip: function vip(channel, username) {\n    var _this27 = this;\n\n    channel = _.channel(channel);\n    username = _.username(username); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, \"/vip \".concat(username), function (resolve, reject) {\n      // Received _promiseVip event, resolve or reject..\n      _this27.once('_promiseVip', function (err) {\n        if (!err) {\n          resolve([channel, username]);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Get list of VIPs on a channel..\n  vips: function vips(channel) {\n    var _this28 = this;\n\n    channel = _.channel(channel); // Send the command to the server and race the Promise against a delay..\n\n    return this._sendCommand(null, channel, '/vips', function (resolve, reject) {\n      // Received _promiseVips event, resolve or reject..\n      _this28.once('_promiseVips', function (err, vips) {\n        if (!err) {\n          resolve(vips);\n        } else {\n          reject(err);\n        }\n      });\n    });\n  },\n  // Send an whisper message to a user..\n  whisper: function whisper(username, message) {\n    var _this29 = this;\n\n    username = _.username(username); // The server will not send a whisper to the account that sent it.\n\n    if (username === this.getUsername()) {\n      return Promise.reject('Cannot send a whisper to the same account.');\n    } // Send the command to the server and race the Promise against a delay..\n\n\n    return this._sendCommand(null, '#tmijs', \"/w \".concat(username, \" \").concat(message), function (_resolve, reject) {\n      _this29.once('_promiseWhisper', function (err) {\n        if (err) {\n          reject(err);\n        }\n      });\n    })[\"catch\"](function (err) {\n      // Either an \"actual\" error occured or the timeout triggered\n      // the latter means no errors have occured and we can resolve\n      // else just elevate the error\n      if (err && typeof err === 'string' && err.indexOf('No response from Twitch.') !== 0) {\n        throw err;\n      }\n\n      var from = _.channel(username);\n\n      var userstate = Object.assign({\n        'message-type': 'whisper',\n        'message-id': null,\n        'thread-id': null,\n        username: _this29.getUsername()\n      }, _this29.globaluserstate); // Emit for both, whisper and message..\n\n      _this29.emits(['whisper', 'message'], [[from, userstate, message, true], [from, userstate, message, true]]);\n\n      return [username, message];\n    });\n  }\n};\n\n},{\"./utils\":9}],5:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/* istanbul ignore file */\n\n/* eslint-disable */\n\n/*\n * Copyright Joyent, Inc. and other Node contributors.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a\n * copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to permit\n * persons to whom the Software is furnished to do so, subject to the\n * following conditions:\n *\n * The above copyright notice and this permission notice shall be included\n * in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n * NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n * OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n * USE OR OTHER DEALINGS IN THE SOFTWARE.\n*/\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\n\nmodule.exports = EventEmitter; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nEventEmitter.defaultMaxListeners = 10; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\nEventEmitter.prototype.setMaxListeners = function (n) {\n  if (!isNumber(n) || n < 0 || isNaN(n)) {\n    throw TypeError(\"n must be a positive number\");\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function (type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events) {\n    this._events = {};\n  } // If there is no 'error' event listener then throw.\n\n\n  if (type === \"error\") {\n    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {\n      er = arguments[1];\n\n      if (er instanceof Error) {\n        throw er;\n      }\n\n      throw TypeError(\"Uncaught, unspecified \\\"error\\\" event.\");\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler)) {\n    return false;\n  }\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n\n    for (i = 0; i < len; i++) {\n      listeners[i].apply(this, args);\n    }\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function (type, listener) {\n  var m;\n\n  if (!isFunction(listener)) {\n    throw TypeError(\"listener must be a function\");\n  }\n\n  if (!this._events) {\n    this._events = {};\n  } // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n\n\n  if (this._events.newListener) {\n    this.emit(\"newListener\", type, isFunction(listener.listener) ? listener.listener : listener);\n  } // Optimize the case of one listener. Don't need the extra array object.\n\n\n  if (!this._events[type]) {\n    this._events[type] = listener;\n  } // If we've already got an array, just append.\n  else if (isObject(this._events[type])) {\n    this._events[type].push(listener);\n  } // Adding the second element, need to change to array.\n  else {\n    this._events[type] = [this._events[type], listener];\n  } // Check for listener leak\n\n\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\", this._events[type].length); // Not supported in IE 10\n\n      if (typeof console.trace === \"function\") {\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener; // Modified to support multiple calls..\n\nEventEmitter.prototype.once = function (type, listener) {\n  if (!isFunction(listener)) {\n    throw TypeError(\"listener must be a function\");\n  }\n\n  var fired = false;\n\n  if (this._events.hasOwnProperty(type) && type.charAt(0) === \"_\") {\n    var count = 1;\n    var searchFor = type;\n\n    for (var k in this._events) {\n      if (this._events.hasOwnProperty(k) && k.startsWith(searchFor)) {\n        count++;\n      }\n    }\n\n    type = type + count;\n  }\n\n  function g() {\n    if (type.charAt(0) === \"_\" && !isNaN(type.substr(type.length - 1))) {\n      type = type.substring(0, type.length - 1);\n    }\n\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n  return this;\n}; // Emits a \"removeListener\" event if the listener was removed..\n// Modified to support multiple calls from .once()..\n\n\nEventEmitter.prototype.removeListener = function (type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener)) {\n    throw TypeError(\"listener must be a function\");\n  }\n\n  if (!this._events || !this._events[type]) {\n    return this;\n  }\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener || isFunction(list.listener) && list.listener === listener) {\n    delete this._events[type];\n\n    if (this._events.hasOwnProperty(type + \"2\") && type.charAt(0) === \"_\") {\n      var searchFor = type;\n\n      for (var k in this._events) {\n        if (this._events.hasOwnProperty(k) && k.startsWith(searchFor)) {\n          if (!isNaN(parseInt(k.substr(k.length - 1)))) {\n            this._events[type + parseInt(k.substr(k.length - 1) - 1)] = this._events[k];\n            delete this._events[k];\n          }\n        }\n      }\n\n      this._events[type] = this._events[type + \"1\"];\n      delete this._events[type + \"1\"];\n    }\n\n    if (this._events.removeListener) {\n      this.emit(\"removeListener\", type, listener);\n    }\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener || list[i].listener && list[i].listener === listener) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) {\n      return this;\n    }\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener) {\n      this.emit(\"removeListener\", type, listener);\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function (type) {\n  var key, listeners;\n\n  if (!this._events) {\n    return this;\n  } // not listening for removeListener, no need to emit\n\n\n  if (!this._events.removeListener) {\n    if (arguments.length === 0) {\n      this._events = {};\n    } else if (this._events[type]) {\n      delete this._events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === \"removeListener\") {\n        continue;\n      }\n\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners(\"removeListener\");\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    while (listeners.length) {\n      this.removeListener(type, listeners[listeners.length - 1]);\n    }\n  }\n\n  delete this._events[type];\n  return this;\n};\n\nEventEmitter.prototype.listeners = function (type) {\n  var ret;\n\n  if (!this._events || !this._events[type]) {\n    ret = [];\n  } else if (isFunction(this._events[type])) {\n    ret = [this._events[type]];\n  } else {\n    ret = this._events[type].slice();\n  }\n\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function (type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener)) {\n      return 1;\n    } else if (evlistener) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === \"function\";\n}\n\nfunction isNumber(arg) {\n  return typeof arg === \"number\";\n}\n\nfunction isObject(arg) {\n  return _typeof(arg) === \"object\" && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],6:[function(require,module,exports){\n\"use strict\";\n\nvar _ = require('./utils');\n\nvar currentLevel = 'info';\nvar levels = {\n  'trace': 0,\n  'debug': 1,\n  'info': 2,\n  'warn': 3,\n  'error': 4,\n  'fatal': 5\n}; // Logger implementation..\n\nfunction log(level) {\n  // Return a console message depending on the logging level..\n  return function (message) {\n    if (levels[level] >= levels[currentLevel]) {\n      console.log(\"[\".concat(_.formatDate(new Date()), \"] \").concat(level, \": \").concat(message));\n    }\n  };\n}\n\nmodule.exports = {\n  // Change the current logging level..\n  setLevel: function setLevel(level) {\n    currentLevel = level;\n  },\n  trace: log('trace'),\n  debug: log('debug'),\n  info: log('info'),\n  warn: log('warn'),\n  error: log('error'),\n  fatal: log('fatal')\n};\n\n},{\"./utils\":9}],7:[function(require,module,exports){\n\"use strict\";\n\n/*\n\tCopyright (c) 2013-2015, Fionn Kelleher All rights reserved.\n\n\tRedistribution and use in source and binary forms, with or without modification,\n\tare permitted provided that the following conditions are met:\n\n\t\tRedistributions of source code must retain the above copyright notice,\n\t\tthis list of conditions and the following disclaimer.\n\n\t\tRedistributions in binary form must reproduce the above copyright notice,\n\t\tthis list of conditions and the following disclaimer in the documentation and/or other materials\n\t\tprovided with the distribution.\n\n\tTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n\tANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n\tWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n\tIN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n\tINDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n\t(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,\n\tOR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n\tWHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n\tARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY\n\tOF SUCH DAMAGE.\n*/\nvar _ = require('./utils');\n\nvar nonspaceRegex = /\\S+/g;\n\nfunction parseComplexTag(tags, tagKey) {\n  var splA = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : ',';\n  var splB = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '/';\n  var splC = arguments.length > 4 ? arguments[4] : undefined;\n  var raw = tags[tagKey];\n\n  if (raw === undefined) {\n    return tags;\n  }\n\n  var tagIsString = typeof raw === 'string';\n  tags[tagKey + '-raw'] = tagIsString ? raw : null;\n\n  if (raw === true) {\n    tags[tagKey] = null;\n    return tags;\n  }\n\n  tags[tagKey] = {};\n\n  if (tagIsString) {\n    var spl = raw.split(splA);\n\n    for (var i = 0; i < spl.length; i++) {\n      var parts = spl[i].split(splB);\n      var val = parts[1];\n\n      if (splC !== undefined && val) {\n        val = val.split(splC);\n      }\n\n      tags[tagKey][parts[0]] = val || null;\n    }\n  }\n\n  return tags;\n}\n\nmodule.exports = {\n  // Parse Twitch badges..\n  badges: function badges(tags) {\n    return parseComplexTag(tags, 'badges');\n  },\n  // Parse Twitch badge-info..\n  badgeInfo: function badgeInfo(tags) {\n    return parseComplexTag(tags, 'badge-info');\n  },\n  // Parse Twitch emotes..\n  emotes: function emotes(tags) {\n    return parseComplexTag(tags, 'emotes', '/', ':', ',');\n  },\n  // Parse regex emotes..\n  emoteRegex: function emoteRegex(msg, code, id, obj) {\n    nonspaceRegex.lastIndex = 0;\n    var regex = new RegExp('(\\\\b|^|\\\\s)' + _.unescapeHtml(code) + '(\\\\b|$|\\\\s)');\n    var match; // Check if emote code matches using RegExp and push it to the object..\n\n    while ((match = nonspaceRegex.exec(msg)) !== null) {\n      if (regex.test(match[0])) {\n        obj[id] = obj[id] || [];\n        obj[id].push([match.index, nonspaceRegex.lastIndex - 1]);\n      }\n    }\n  },\n  // Parse string emotes..\n  emoteString: function emoteString(msg, code, id, obj) {\n    nonspaceRegex.lastIndex = 0;\n    var match; // Check if emote code matches and push it to the object..\n\n    while ((match = nonspaceRegex.exec(msg)) !== null) {\n      if (match[0] === _.unescapeHtml(code)) {\n        obj[id] = obj[id] || [];\n        obj[id].push([match.index, nonspaceRegex.lastIndex - 1]);\n      }\n    }\n  },\n  // Transform the emotes object to a string with the following format..\n  // emote_id:first_index-last_index,another_first-another_last/another_emote_id:first_index-last_index\n  transformEmotes: function transformEmotes(emotes) {\n    var transformed = '';\n    Object.keys(emotes).forEach(function (id) {\n      transformed = \"\".concat(transformed + id, \":\");\n      emotes[id].forEach(function (index) {\n        return transformed = \"\".concat(transformed + index.join('-'), \",\");\n      });\n      transformed = \"\".concat(transformed.slice(0, -1), \"/\");\n    });\n    return transformed.slice(0, -1);\n  },\n  formTags: function formTags(tags) {\n    var result = [];\n\n    for (var key in tags) {\n      var value = _.escapeIRC(tags[key]);\n\n      result.push(\"\".concat(key, \"=\").concat(value));\n    }\n\n    return \"@\".concat(result.join(';'));\n  },\n  // Parse Twitch messages..\n  msg: function msg(data) {\n    var message = {\n      raw: data,\n      tags: {},\n      prefix: null,\n      command: null,\n      params: []\n    }; // Position and nextspace are used by the parser as a reference..\n\n    var position = 0;\n    var nextspace = 0; // The first thing we check for is IRCv3.2 message tags.\n    // http://ircv3.atheme.org/specification/message-tags-3.2\n\n    if (data.charCodeAt(0) === 64) {\n      nextspace = data.indexOf(' '); // Malformed IRC message..\n\n      if (nextspace === -1) {\n        return null;\n      } // Tags are split by a semi colon..\n\n\n      var rawTags = data.slice(1, nextspace).split(';');\n\n      for (var i = 0; i < rawTags.length; i++) {\n        // Tags delimited by an equals sign are key=value tags.\n        // If there's no equals, we assign the tag a value of true.\n        var tag = rawTags[i];\n        var pair = tag.split('=');\n        message.tags[pair[0]] = tag.substring(tag.indexOf('=') + 1) || true;\n      }\n\n      position = nextspace + 1;\n    } // Skip any trailing whitespace..\n\n\n    while (data.charCodeAt(position) === 32) {\n      position++;\n    } // Extract the message's prefix if present. Prefixes are prepended with a colon..\n\n\n    if (data.charCodeAt(position) === 58) {\n      nextspace = data.indexOf(' ', position); // If there's nothing after the prefix, deem this message to be malformed.\n\n      if (nextspace === -1) {\n        return null;\n      }\n\n      message.prefix = data.slice(position + 1, nextspace);\n      position = nextspace + 1; // Skip any trailing whitespace..\n\n      while (data.charCodeAt(position) === 32) {\n        position++;\n      }\n    }\n\n    nextspace = data.indexOf(' ', position); // If there's no more whitespace left, extract everything from the\n    // current position to the end of the string as the command..\n\n    if (nextspace === -1) {\n      if (data.length > position) {\n        message.command = data.slice(position);\n        return message;\n      }\n\n      return null;\n    } // Else, the command is the current position up to the next space. After\n    // that, we expect some parameters.\n\n\n    message.command = data.slice(position, nextspace);\n    position = nextspace + 1; // Skip any trailing whitespace..\n\n    while (data.charCodeAt(position) === 32) {\n      position++;\n    }\n\n    while (position < data.length) {\n      nextspace = data.indexOf(' ', position); // If the character is a colon, we've got a trailing parameter.\n      // At this point, there are no extra params, so we push everything\n      // from after the colon to the end of the string, to the params array\n      // and break out of the loop.\n\n      if (data.charCodeAt(position) === 58) {\n        message.params.push(data.slice(position + 1));\n        break;\n      } // If we still have some whitespace...\n\n\n      if (nextspace !== -1) {\n        // Push whatever's between the current position and the next\n        // space to the params array.\n        message.params.push(data.slice(position, nextspace));\n        position = nextspace + 1; // Skip any trailing whitespace and continue looping.\n\n        while (data.charCodeAt(position) === 32) {\n          position++;\n        }\n\n        continue;\n      } // If we don't have any more whitespace and the param isn't trailing,\n      // push everything remaining to the params array.\n\n\n      if (nextspace === -1) {\n        message.params.push(data.slice(position));\n        break;\n      }\n    }\n\n    return message;\n  }\n};\n\n},{\"./utils\":9}],8:[function(require,module,exports){\n\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// Initialize the queue with a specific delay..\nvar Queue = /*#__PURE__*/function () {\n  function Queue(defaultDelay) {\n    _classCallCheck(this, Queue);\n\n    this.queue = [];\n    this.index = 0;\n    this.defaultDelay = defaultDelay === undefined ? 3000 : defaultDelay;\n  } // Add a new function to the queue..\n\n\n  _createClass(Queue, [{\n    key: \"add\",\n    value: function add(fn, delay) {\n      this.queue.push({\n        fn: fn,\n        delay: delay\n      });\n    } // Go to the next in queue..\n\n  }, {\n    key: \"next\",\n    value: function next() {\n      var _this = this;\n\n      var i = this.index++;\n      var at = this.queue[i];\n\n      if (!at) {\n        return;\n      }\n\n      var next = this.queue[this.index];\n      at.fn();\n\n      if (next) {\n        var delay = next.delay === undefined ? this.defaultDelay : next.delay;\n        setTimeout(function () {\n          return _this.next();\n        }, delay);\n      }\n    }\n  }]);\n\n  return Queue;\n}();\n\nmodule.exports = Queue;\n\n},{}],9:[function(require,module,exports){\n(function (process){(function (){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n// eslint-disable-next-line no-control-regex\nvar actionMessageRegex = /^\\u0001ACTION ([^\\u0001]+)\\u0001$/;\nvar justinFanRegex = /^(justinfan)(\\d+$)/;\nvar unescapeIRCRegex = /\\\\([sn:r\\\\])/g;\nvar escapeIRCRegex = /([ \\n;\\r\\\\])/g;\nvar ircEscapedChars = {\n  s: ' ',\n  n: '',\n  ':': ';',\n  r: ''\n};\nvar ircUnescapedChars = {\n  ' ': 's',\n  '\\n': 'n',\n  ';': ':',\n  '\\r': 'r'\n};\nvar urlRegex = new RegExp(\"^(?:(?:https?|ftp)://)(?:\\\\S+(?::\\\\S*)?@)?(?:(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))\\\\.?)(?::\\\\d{2,5})?(?:[/?#]\\\\S*)?$\", 'i');\nvar regexEmoteRegex = /[|\\\\^$*+?:#]/;\n\nvar _ = module.exports = {\n  // Return the second value if the first value is undefined..\n  get: function get(a, b) {\n    return typeof a === 'undefined' ? b : a;\n  },\n  // Indirectly use hasOwnProperty\n  hasOwn: function hasOwn(obj, key) {\n    return {}.hasOwnProperty.call(obj, key);\n  },\n  // Race a promise against a delay..\n  promiseDelay: function promiseDelay(time) {\n    return new Promise(function (resolve) {\n      return setTimeout(resolve, time);\n    });\n  },\n  // Value is a finite number..\n  isFinite: function (_isFinite) {\n    function isFinite(_x) {\n      return _isFinite.apply(this, arguments);\n    }\n\n    isFinite.toString = function () {\n      return _isFinite.toString();\n    };\n\n    return isFinite;\n  }(function (_int) {\n    return isFinite(_int) && !isNaN(parseFloat(_int));\n  }),\n  // Parse string to number. Returns NaN if string can't be parsed to number..\n  toNumber: function toNumber(num, precision) {\n    if (num === null) {\n      return 0;\n    }\n\n    var factor = Math.pow(10, _.isFinite(precision) ? precision : 0);\n    return Math.round(num * factor) / factor;\n  },\n  // Value is an integer..\n  isInteger: function isInteger(_int2) {\n    return !isNaN(_.toNumber(_int2, 0));\n  },\n  // Value is a regex..\n  isRegex: function isRegex(str) {\n    return regexEmoteRegex.test(str);\n  },\n  // Value is a valid url..\n  isURL: function isURL(str) {\n    return urlRegex.test(str);\n  },\n  // Return a random justinfan username..\n  justinfan: function justinfan() {\n    return \"justinfan\".concat(Math.floor(Math.random() * 80000 + 1000));\n  },\n  // Username is a justinfan username..\n  isJustinfan: function isJustinfan(username) {\n    return justinFanRegex.test(username);\n  },\n  // Return a valid channel name..\n  channel: function channel(str) {\n    var channel = (str ? str : '').toLowerCase();\n    return channel[0] === '#' ? channel : '#' + channel;\n  },\n  // Return a valid username..\n  username: function username(str) {\n    var username = (str ? str : '').toLowerCase();\n    return username[0] === '#' ? username.slice(1) : username;\n  },\n  // Return a valid token..\n  token: function token(str) {\n    return str ? str.toLowerCase().replace('oauth:', '') : '';\n  },\n  // Return a valid password..\n  password: function password(str) {\n    var token = _.token(str);\n\n    return token ? \"oauth:\".concat(token) : '';\n  },\n  actionMessage: function actionMessage(msg) {\n    return msg.match(actionMessageRegex);\n  },\n  // Replace all occurences of a string using an object..\n  replaceAll: function replaceAll(str, obj) {\n    if (str === null || typeof str === 'undefined') {\n      return null;\n    }\n\n    for (var x in obj) {\n      str = str.replace(new RegExp(x, 'g'), obj[x]);\n    }\n\n    return str;\n  },\n  unescapeHtml: function unescapeHtml(safe) {\n    return safe.replace(/\\\\&amp\\\\;/g, '&').replace(/\\\\&lt\\\\;/g, '<').replace(/\\\\&gt\\\\;/g, '>').replace(/\\\\&quot\\\\;/g, '\"').replace(/\\\\&#039\\\\;/g, '\\'');\n  },\n  // Escaping values:\n  // http://ircv3.net/specs/core/message-tags-3.2.html#escaping-values\n  unescapeIRC: function unescapeIRC(msg) {\n    if (!msg || typeof msg !== 'string' || !msg.includes('\\\\')) {\n      return msg;\n    }\n\n    return msg.replace(unescapeIRCRegex, function (m, p) {\n      return p in ircEscapedChars ? ircEscapedChars[p] : p;\n    });\n  },\n  escapeIRC: function escapeIRC(msg) {\n    if (!msg || typeof msg !== 'string') {\n      return msg;\n    }\n\n    return msg.replace(escapeIRCRegex, function (m, p) {\n      return p in ircUnescapedChars ? \"\\\\\".concat(ircUnescapedChars[p]) : p;\n    });\n  },\n  // Add word to a string..\n  addWord: function addWord(line, word) {\n    return line.length ? line + ' ' + word : line + word;\n  },\n  // Split a line but try not to cut a word in half..\n  splitLine: function splitLine(input, length) {\n    var lastSpace = input.substring(0, length).lastIndexOf(' '); // No spaces found, split at the very end to avoid a loop..\n\n    if (lastSpace === -1) {\n      lastSpace = length - 1;\n    }\n\n    return [input.substring(0, lastSpace), input.substring(lastSpace + 1)];\n  },\n  // Extract a number from a string..\n  extractNumber: function extractNumber(str) {\n    var parts = str.split(' ');\n\n    for (var i = 0; i < parts.length; i++) {\n      if (_.isInteger(parts[i])) {\n        return ~~parts[i];\n      }\n    }\n\n    return 0;\n  },\n  // Format the date..\n  formatDate: function formatDate(date) {\n    var hours = date.getHours();\n    var mins = date.getMinutes();\n    hours = (hours < 10 ? '0' : '') + hours;\n    mins = (mins < 10 ? '0' : '') + mins;\n    return \"\".concat(hours, \":\").concat(mins);\n  },\n  // Inherit the prototype methods from one constructor into another..\n  inherits: function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor;\n\n    var TempCtor = function TempCtor() {};\n\n    TempCtor.prototype = superCtor.prototype;\n    ctor.prototype = new TempCtor();\n    ctor.prototype.constructor = ctor;\n  },\n  // Return whether inside a Node application or not..\n  isNode: function isNode() {\n    try {\n      return (typeof process === \"undefined\" ? \"undefined\" : _typeof(process)) === 'object' && Object.prototype.toString.call(process) === '[object process]';\n    } catch (e) {}\n\n    return false;\n  }\n};\n\n}).call(this)}).call(this,require('_process'))\n},{\"_process\":11}],10:[function(require,module,exports){\n\n},{}],11:[function(require,module,exports){\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n},{}]},{},[1]);\n",
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ],
              "parameters": []
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Connect to a channel",
          "fullName": "Connect to a channel",
          "functionType": "Action",
          "group": "",
          "name": "ConnectToAChannel",
          "private": false,
          "sentence": "Connect to the channel _PARAM1_",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [
                {
                  "type": {
                    "value": "BuiltinCommonInstructions::Once"
                  },
                  "parameters": []
                }
              ],
              "actions": [],
              "events": [
                {
                  "type": "BuiltinCommonInstructions::JsCode",
                  "inlineCode": "\nvar channelName = eventsFunctionContext.getArgument(\"TwitchChannelName\").toString();\n\nif (!window.client) {\n\t\n\twindow.client = new tmi.Client({\n\t\tchannels: [channelName]\n\t});\n\n\twindow.client.connect();\n}\n\n//console.log(\"Connect to a channel\");",
                  "parameterObjects": "",
                  "useStrict": true,
                  "eventsSheetExpanded": true
                }
              ]
            }
          ],
          "parameters": [
            {
              "codeOnly": false,
              "defaultValue": "",
              "description": "Tha name of the Twitch channel.",
              "longDescription": "",
              "name": "TwitchChannelName",
              "optional": false,
              "supplementaryInformation": "",
              "type": "string"
            }
          ],
          "objectGroups": []
        },
        {
          "description": "get username from twitch",
          "fullName": "Get the username of the last user",
          "functionType": "StringExpression",
          "group": "",
          "name": "GetLastUsername",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::Standard",
              "conditions": [],
              "actions": []
            },
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "if (!window.__TwitchTchatCommands.previousData) return \"Unknown user\";\neventsFunctionContext.returnValue = window.__TwitchTchatCommands.previousData[\"display-name\"] || \"Unknown user\";\n\nwindow.__TwitchTchatCommands.logger.log(eventsFunctionContext.returnValue);",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [],
          "objectGroups": []
        },
        {
          "description": "Get the message of the last user",
          "fullName": "Get the message of the last user",
          "functionType": "StringExpression",
          "group": "",
          "name": "GetLastMessage",
          "private": false,
          "sentence": "",
          "events": [
            {
              "type": "BuiltinCommonInstructions::JsCode",
              "inlineCode": "if (!window.__TwitchTchatCommands.previousMessage) return \"Empty message\";\neventsFunctionContext.returnValue = window.__TwitchTchatCommands.previousMessage || \"Empty message\";\n\nwindow.__TwitchTchatCommands.logger.log(eventsFunctionContext.returnValue);",
              "parameterObjects": "",
              "useStrict": true,
              "eventsSheetExpanded": false
            }
          ],
          "parameters": [],
          "objectGroups": []
        }
      ],
      "eventsBasedBehaviors": []
    }
  ],
  "externalLayouts": [],
  "externalSourceFiles": []
}